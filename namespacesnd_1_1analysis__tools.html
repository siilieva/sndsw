<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SND@LHC Software: snd::analysis_tools Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SND@LHC Software
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacesnd_1_1analysis__tools.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">snd::analysis_tools Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnd_1_1analysis__tools_1_1ScifiPlane.html">ScifiPlane</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnd_1_1analysis__tools_1_1USPlane.html">USPlane</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af9dc94b86e9ace9b75641ffdce56ce29" id="r_af9dc94b86e9ace9b75641ffdce56ce29"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#af9dc94b86e9ace9b75641ffdce56ce29">GetGeoPath</a> (const std::string &amp;csv_file_path, int run_number)</td></tr>
<tr class="separator:af9dc94b86e9ace9b75641ffdce56ce29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbfb448208b5038b190e84d7a1e62e9b" id="r_abbfb448208b5038b190e84d7a1e62e9b"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="classScifi.html">Scifi</a> *, <a class="el" href="classMuFilter.html">MuFilter</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#abbfb448208b5038b190e84d7a1e62e9b">GetGeometry</a> (const std::string &amp;geometry_path)</td></tr>
<tr class="separator:abbfb448208b5038b190e84d7a1e62e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f54b504a754e266119954a1541d4d4" id="r_a54f54b504a754e266119954a1541d4d4"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="classScifi.html">Scifi</a> *, <a class="el" href="classMuFilter.html">MuFilter</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a54f54b504a754e266119954a1541d4d4">GetGeometry</a> (const std::string &amp;csv_file_path, int run_number)</td></tr>
<tr class="separator:a54f54b504a754e266119954a1541d4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b8d5076a98f5ad030ea9e19de318532" id="r_a1b8d5076a98f5ad030ea9e19de318532"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classsnd_1_1analysis__tools_1_1ScifiPlane.html">ScifiPlane</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a1b8d5076a98f5ad030ea9e19de318532">FillScifi</a> (const <a class="el" href="structsnd_1_1Configuration.html">Configuration</a> &amp;configuration, TClonesArray *sf_hits, <a class="el" href="classScifi.html">Scifi</a> *scifi_geometry)</td></tr>
<tr class="separator:a1b8d5076a98f5ad030ea9e19de318532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d6b49491d4a739d88c1e370492e2cf" id="r_a39d6b49491d4a739d88c1e370492e2cf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classsnd_1_1analysis__tools_1_1USPlane.html">USPlane</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a39d6b49491d4a739d88c1e370492e2cf">FillUS</a> (const <a class="el" href="structsnd_1_1Configuration.html">Configuration</a> &amp;configuration, TClonesArray *mufi_hits, <a class="el" href="classMuFilter.html">MuFilter</a> *mufilter_geometry)</td></tr>
<tr class="separator:a39d6b49491d4a739d88c1e370492e2cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4366cddb81edce8fb50a4dedd3875e84" id="r_a4366cddb81edce8fb50a4dedd3875e84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a4366cddb81edce8fb50a4dedd3875e84">getSciFiHitsPerStation</a> (const TClonesArray *digiHits, std::vector&lt; int &gt; &amp;horizontal_hits, std::vector&lt; int &gt; &amp;vertical_hits)</td></tr>
<tr class="separator:a4366cddb81edce8fb50a4dedd3875e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add38a36ae42dce4c3e48621c2c4d0b23" id="r_add38a36ae42dce4c3e48621c2c4d0b23"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#add38a36ae42dce4c3e48621c2c4d0b23">getTotalSciFiHits</a> (std::vector&lt; int &gt; &amp;horizontal_hits, std::vector&lt; int &gt; &amp;vertical_hits)</td></tr>
<tr class="separator:add38a36ae42dce4c3e48621c2c4d0b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e65a7ac6bc899bf97748cab9c03da6" id="r_ab2e65a7ac6bc899bf97748cab9c03da6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#ab2e65a7ac6bc899bf97748cab9c03da6">getTotalSciFiHits</a> (const TClonesArray *digiHits)</td></tr>
<tr class="separator:ab2e65a7ac6bc899bf97748cab9c03da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab110e213c86b26c581a9c7456a140ebc" id="r_ab110e213c86b26c581a9c7456a140ebc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#ab110e213c86b26c581a9c7456a140ebc">getFractionalHitsPerScifiPlane</a> (std::vector&lt; int &gt; &amp;horizontal_hits, std::vector&lt; int &gt; &amp;vertical_hits)</td></tr>
<tr class="separator:ab110e213c86b26c581a9c7456a140ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb1bd3e6aa09e4d65a9c92a5133a8ac9" id="r_adb1bd3e6aa09e4d65a9c92a5133a8ac9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#adb1bd3e6aa09e4d65a9c92a5133a8ac9">getFractionalHitsPerScifiPlane</a> (const TClonesArray *digiHits)</td></tr>
<tr class="separator:adb1bd3e6aa09e4d65a9c92a5133a8ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cfa1e0acecf53005048a0b11c125b57" id="r_a1cfa1e0acecf53005048a0b11c125b57"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a1cfa1e0acecf53005048a0b11c125b57">findScifiStation</a> (std::vector&lt; int &gt; &amp;horizontal_hits, std::vector&lt; int &gt; &amp;vertical_hits, float threshold)</td></tr>
<tr class="separator:a1cfa1e0acecf53005048a0b11c125b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf671a252762c6da49f48a7e6cc31431" id="r_aaf671a252762c6da49f48a7e6cc31431"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#aaf671a252762c6da49f48a7e6cc31431">findScifiStation</a> (const TClonesArray *digiHits, float threshold)</td></tr>
<tr class="separator:aaf671a252762c6da49f48a7e6cc31431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e18e1d83715d3cecf04d03eb350cac" id="r_a22e18e1d83715d3cecf04d03eb350cac"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a22e18e1d83715d3cecf04d03eb350cac">peakScifiTiming</a> (const TClonesArray &amp;digiHits, int bins, float min_x, float max_x, bool isMC=false)</td></tr>
<tr class="separator:a22e18e1d83715d3cecf04d03eb350cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898b9cbb7bac8c95c59069b6aecbe9b3" id="r_a898b9cbb7bac8c95c59069b6aecbe9b3"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; TClonesArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a898b9cbb7bac8c95c59069b6aecbe9b3">getScifiHits</a> (const TClonesArray &amp;digiHits, int station, bool orientation)</td></tr>
<tr class="separator:a898b9cbb7bac8c95c59069b6aecbe9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac24087a94e7ae37f910b9482ddf021b0" id="r_ac24087a94e7ae37f910b9482ddf021b0"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; TClonesArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#ac24087a94e7ae37f910b9482ddf021b0">selectScifiHits</a> (const TClonesArray &amp;digiHits, int station, bool orientation, int bins_x=52, float min_x=0.0, float max_x=26.0, float time_lower_range=1E9/(2 *ShipUnit::snd_freq/ShipUnit::hertz), float time_upper_range=1.2E9/(ShipUnit::snd_freq/ShipUnit::hertz), bool make_selection=true, bool isMC=false)</td></tr>
<tr class="separator:ac24087a94e7ae37f910b9482ddf021b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06cbff42f3e162d8c91b1d3388771179" id="r_a06cbff42f3e162d8c91b1d3388771179"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; TClonesArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a06cbff42f3e162d8c91b1d3388771179">selectScifiHits</a> (const TClonesArray &amp;digiHits, int station, bool orientation, const std::map&lt; std::string, float &gt; &amp;selection_parameters, bool make_selection=true, bool isMC=false)</td></tr>
<tr class="separator:a06cbff42f3e162d8c91b1d3388771179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a13c3ae2f5d528737de97d8837f2df9" id="r_a4a13c3ae2f5d528737de97d8837f2df9"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; TClonesArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a4a13c3ae2f5d528737de97d8837f2df9">filterScifiHits</a> (const TClonesArray &amp;digiHits, const std::map&lt; std::string, float &gt; &amp;selection_parameters, int method=0, std::string setup=&quot;TI18&quot;, bool isMC=false)</td></tr>
<tr class="separator:a4a13c3ae2f5d528737de97d8837f2df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabaf2879845b2998aeab516ce908994d" id="r_aabaf2879845b2998aeab516ce908994d"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; TClonesArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#aabaf2879845b2998aeab516ce908994d">filterScifiHits</a> (const TClonesArray &amp;digiHits, int method=0, std::string setup=&quot;TI18&quot;, bool isMC=false)</td></tr>
<tr class="separator:aabaf2879845b2998aeab516ce908994d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a072fe05f5196e2d1f0baf54ac8c62793" id="r_a072fe05f5196e2d1f0baf54ac8c62793"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a072fe05f5196e2d1f0baf54ac8c62793">calculateSiPMNumber</a> (int reference_SiPM)</td></tr>
<tr class="separator:a072fe05f5196e2d1f0baf54ac8c62793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898d2da7d9071ef733eb86625ed1cc7d" id="r_a898d2da7d9071ef733eb86625ed1cc7d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a898d2da7d9071ef733eb86625ed1cc7d">densityScifi</a> (int reference_SiPM, const TClonesArray &amp;digiHits, int radius, int min_hit_density, bool min_check)</td></tr>
<tr class="separator:a898d2da7d9071ef733eb86625ed1cc7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dd4352f5c110708f8070ad1c88a907" id="r_aa6dd4352f5c110708f8070ad1c88a907"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#aa6dd4352f5c110708f8070ad1c88a907">densityCheck</a> (const TClonesArray &amp;digiHits, int radius=64, int min_hit_density=36, int station=1, bool orientation=false)</td></tr>
<tr class="separator:aa6dd4352f5c110708f8070ad1c88a907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3efcc7ce16eb9a30afcdcedd2c4f4ac2" id="r_a3efcc7ce16eb9a30afcdcedd2c4f4ac2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a3efcc7ce16eb9a30afcdcedd2c4f4ac2">showerInteractionWall</a> (const TClonesArray &amp;digiHits, const std::map&lt; std::string, float &gt; &amp;selection_parameters, int method=0, std::string setup=&quot;TI18&quot;)</td></tr>
<tr class="separator:a3efcc7ce16eb9a30afcdcedd2c4f4ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b08ea6c3c2d141709d92390c1f87b8" id="r_a78b08ea6c3c2d141709d92390c1f87b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a78b08ea6c3c2d141709d92390c1f87b8">showerInteractionWall</a> (const TClonesArray &amp;digiHits, int method=0, std::string setup=&quot;TI18&quot;)</td></tr>
<tr class="separator:a78b08ea6c3c2d141709d92390c1f87b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b845dbe4852f824b3188318b7e766e" id="r_aa0b845dbe4852f824b3188318b7e766e"><td class="memItemLeft" align="right" valign="top">std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#aa0b845dbe4852f824b3188318b7e766e">findCentreOfGravityPerStation</a> (const TClonesArray *digiHits, int station, <a class="el" href="classScifi.html">Scifi</a> *ScifiDet)</td></tr>
<tr class="separator:aa0b845dbe4852f824b3188318b7e766e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d534fa34696441a71d6684f5ee710e8" id="r_a5d534fa34696441a71d6684f5ee710e8"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::vector&lt; double &gt;, std::vector&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a5d534fa34696441a71d6684f5ee710e8">hitPositionVectorsPerStation</a> (const TClonesArray *digiHits, int station, <a class="el" href="classScifi.html">Scifi</a> *ScifiDet)</td></tr>
<tr class="separator:a5d534fa34696441a71d6684f5ee710e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbacfdc9078e23b4b863ca20be5a2dd0" id="r_adbacfdc9078e23b4b863ca20be5a2dd0"><td class="memItemLeft" align="right" valign="top">std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#adbacfdc9078e23b4b863ca20be5a2dd0">hitDensityPerStation</a> (const TClonesArray *digiHits, int station, <a class="el" href="classScifi.html">Scifi</a> *ScifiDet)</td></tr>
<tr class="separator:adbacfdc9078e23b4b863ca20be5a2dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae73cc256518214ae9cf74a03107bb9" id="r_a8ae73cc256518214ae9cf74a03107bb9"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; TChain &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a8ae73cc256518214ae9cf74a03107bb9">GetTChain</a> (const std::string &amp;csv_file_path, int run_number, int n_files=-1)</td></tr>
<tr class="separator:a8ae73cc256518214ae9cf74a03107bb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a31e32cb4f2195e6e382be703080f9" id="r_a21a31e32cb4f2195e6e382be703080f9"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; TChain &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a21a31e32cb4f2195e6e382be703080f9">GetTChain</a> (const std::string &amp;file_name)</td></tr>
<tr class="separator:a21a31e32cb4f2195e6e382be703080f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140fdd9c79e8c41365ece33a0416482a" id="r_a140fdd9c79e8c41365ece33a0416482a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesnd_1_1analysis__tools.html#a140fdd9c79e8c41365ece33a0416482a">GetDataBasePath</a> (const std::string &amp;csv_file_path, int run_number)</td></tr>
<tr class="separator:a140fdd9c79e8c41365ece33a0416482a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a072fe05f5196e2d1f0baf54ac8c62793" name="a072fe05f5196e2d1f0baf54ac8c62793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a072fe05f5196e2d1f0baf54ac8c62793">&#9670;&#160;</a></span>calculateSiPMNumber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snd::analysis_tools::calculateSiPMNumber </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reference_SiPM</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00382">382</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  383</span>{</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>   <span class="keywordtype">int</span> ref_matAux = reference_SiPM % 100000;</div>
<div class="line"><span class="lineno">  386</span>   <span class="keywordtype">int</span> ref_mat = ref_matAux / 10000;</div>
<div class="line"><span class="lineno">  387</span>   <span class="keywordtype">int</span> ref_arrayAux = reference_SiPM % 10000;</div>
<div class="line"><span class="lineno">  388</span>   <span class="keywordtype">int</span> ref_array = ref_arrayAux / 1000;</div>
<div class="line"><span class="lineno">  389</span>   <span class="keywordtype">int</span> ref_channel = reference_SiPM % 1000;</div>
<div class="line"><span class="lineno">  390</span>   <span class="keywordtype">int</span> referenceChannel = ref_mat * 4 * 128 + ref_array * 128 + ref_channel;</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>   <span class="keywordflow">return</span> referenceChannel;</div>
<div class="line"><span class="lineno">  393</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6dd4352f5c110708f8070ad1c88a907" name="aa6dd4352f5c110708f8070ad1c88a907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6dd4352f5c110708f8070ad1c88a907">&#9670;&#160;</a></span>densityCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool snd::analysis_tools::densityCheck </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray &amp;&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em> = <code>64</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_hit_density</em> = <code>36</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>station</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>orientation</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00434">434</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  436</span>{</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>   <span class="keywordflow">if</span> (digiHits.GetEntries() &lt;= 0) {</div>
<div class="line"><span class="lineno">  439</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  440</span>   }</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>   <span class="keywordflow">if</span> (radius &lt;= 0) {</div>
<div class="line"><span class="lineno">  443</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;Radius&lt;=0. Please provide a radius bigger than 0.&quot;</span>;</div>
<div class="line"><span class="lineno">  444</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  445</span>   }</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>   <span class="keywordflow">if</span> (min_hit_density &lt; 0) {</div>
<div class="line"><span class="lineno">  448</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;Min_hit_density &lt; 0. Please provide a min_hit_density &gt;= 0.&quot;</span>;</div>
<div class="line"><span class="lineno">  449</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  450</span>   }</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>   <span class="keywordflow">if</span> (min_hit_density &gt; 2 * radius) {</div>
<div class="line"><span class="lineno">  453</span>      LOG(warning) &lt;&lt; <span class="stringliteral">&quot;Warning! Radius of density check does not allow for the required minimum density!&quot;</span>;</div>
<div class="line"><span class="lineno">  454</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  455</span>   }</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>   <span class="comment">// Creating a vector that stores the fired SiPM channels (should already be ordered but we sort</span></div>
<div class="line"><span class="lineno">  458</span>   <span class="comment">// afterwards to make sure)</span></div>
<div class="line"><span class="lineno">  459</span>   std::vector&lt;int&gt; fired_channels{};</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>   <span class="comment">// Only fill the set with hits from the same station and with the same orientation as given in</span></div>
<div class="line"><span class="lineno">  462</span>   <span class="comment">// argument (false==horizontal and true==vertical)</span></div>
<div class="line"><span class="lineno">  463</span>   <span class="keywordflow">for</span> (<span class="keyword">auto</span> *p : digiHits) {</div>
<div class="line"><span class="lineno">  464</span>      <span class="keyword">auto</span> *hit = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *<span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1c800df226d66062268fa28c3e0c7f7a">p</a>);</div>
<div class="line"><span class="lineno">  465</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="sndSciFiTools_8cxx.html#a1fd0777019d2b6e914490ff374f2f922">validateHit</a>(hit, station, orientation)) {</div>
<div class="line"><span class="lineno">  466</span>         <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  467</span>      }</div>
<div class="line"><span class="lineno">  468</span>      fired_channels.push_back(<a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a072fe05f5196e2d1f0baf54ac8c62793">calculateSiPMNumber</a>(hit-&gt;GetChannelID()));</div>
<div class="line"><span class="lineno">  469</span>   }</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>   <span class="keywordtype">int</span> n_fired_channels = fired_channels.size();</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>   <span class="keywordflow">if</span> (n_fired_channels &lt; min_hit_density) {</div>
<div class="line"><span class="lineno">  474</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  475</span>   }</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>   <span class="comment">// Looping over the ordered hits, checking whether within an interval of &quot;min_hit_density&quot; the</span></div>
<div class="line"><span class="lineno">  478</span>   <span class="comment">// difference between the channel IDs is smaller than &quot;radius&quot;. If so, then we have the required</span></div>
<div class="line"><span class="lineno">  479</span>   <span class="comment">// density. Else, we check the next combination until we meet the criterion, or end the loop,</span></div>
<div class="line"><span class="lineno">  480</span>   <span class="comment">// returning false</span></div>
<div class="line"><span class="lineno">  481</span>   std::sort(fired_channels.begin(), fired_channels.end());</div>
<div class="line"><span class="lineno">  482</span>   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; <a class="code hl_variable" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> &lt; n_fired_channels - min_hit_density; <a class="code hl_variable" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>++) {</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>      <span class="keywordflow">if</span> (fired_channels[i + min_hit_density - 1] - fired_channels[i] &lt;= radius * 2) {</div>
<div class="line"><span class="lineno">  485</span>         <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  486</span>      }</div>
<div class="line"><span class="lineno">  487</span>   }</div>
<div class="line"><span class="lineno">  488</span>   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  489</span>}</div>
<div class="ttc" id="aclasssndScifiHit_html"><div class="ttname"><a href="classsndScifiHit.html">sndScifiHit</a></div><div class="ttdef"><b>Definition</b> <a href="sndScifiHit_8h_source.html#l00009">sndScifiHit.h:10</a></div></div>
<div class="ttc" id="anamespaceShipAna_html_aa4bf87f4d17f9d38b1d8f4d009bb54b3"><div class="ttname"><a href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">ShipAna.i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="ShipAna_8py_source.html#l00086">ShipAna.py:86</a></div></div>
<div class="ttc" id="anamespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring_html_a1c800df226d66062268fa28c3e0c7f7a"><div class="ttname"><a href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1c800df226d66062268fa28c3e0c7f7a">conditionsDatabase.demo.drifttubeMonitoring.p</a></div><div class="ttdeci">str p</div><div class="ttdef"><b>Definition</b> <a href="drifttubeMonitoring_8py_source.html#l00289">drifttubeMonitoring.py:289</a></div></div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_a072fe05f5196e2d1f0baf54ac8c62793"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#a072fe05f5196e2d1f0baf54ac8c62793">snd::analysis_tools::calculateSiPMNumber</a></div><div class="ttdeci">int calculateSiPMNumber(int reference_SiPM)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00382">sndSciFiTools.cxx:382</a></div></div>
<div class="ttc" id="asndSciFiTools_8cxx_html_a1fd0777019d2b6e914490ff374f2f922"><div class="ttname"><a href="sndSciFiTools_8cxx.html#a1fd0777019d2b6e914490ff374f2f922">validateHit</a></div><div class="ttdeci">bool validateHit(sndScifiHit *aHit, int ref_station, bool ref_orientation)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00108">sndSciFiTools.cxx:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a898d2da7d9071ef733eb86625ed1cc7d" name="a898d2da7d9071ef733eb86625ed1cc7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898d2da7d9071ef733eb86625ed1cc7d">&#9670;&#160;</a></span>densityScifi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snd::analysis_tools::densityScifi </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reference_SiPM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TClonesArray &amp;&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_hit_density</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>min_check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00395">395</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  397</span>{</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>   <span class="keywordtype">int</span> hit_density = 0;</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>   <span class="keywordtype">bool</span> orientation = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  402</span>   <span class="keywordflow">if</span> (<span class="keywordtype">int</span>(reference_SiPM / 100000) % 10 == 1) {</div>
<div class="line"><span class="lineno">  403</span>      orientation = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  404</span>   }</div>
<div class="line"><span class="lineno">  405</span>   <span class="keywordtype">int</span> ref_station = reference_SiPM / 1000000;</div>
<div class="line"><span class="lineno">  406</span>   <span class="keywordtype">int</span> referenceChannel = calculateSiPMNumber(reference_SiPM);</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>   <span class="keywordflow">for</span> (<span class="keyword">auto</span> *p : digiHits) {</div>
<div class="line"><span class="lineno">  409</span>      <span class="keyword">auto</span> *hit = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *<span class="keyword">&gt;</span>(p);</div>
<div class="line"><span class="lineno">  410</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="sndSciFiTools_8cxx.html#a1fd0777019d2b6e914490ff374f2f922">validateHit</a>(hit, ref_station, orientation)) {</div>
<div class="line"><span class="lineno">  411</span>         <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  412</span>      }</div>
<div class="line"><span class="lineno">  413</span>      <span class="keywordtype">int</span> hitChannel = calculateSiPMNumber(hit-&gt;GetChannelID());</div>
<div class="line"><span class="lineno">  414</span>      <span class="keywordflow">if</span> (radius == -1) {</div>
<div class="line"><span class="lineno">  415</span>         hit_density++;</div>
<div class="line"><span class="lineno">  416</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  417</span>         <span class="keywordflow">if</span> (hitChannel &gt; referenceChannel + radius) {</div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  419</span>         }</div>
<div class="line"><span class="lineno">  420</span>         <span class="keywordflow">if</span> (abs(referenceChannel - hitChannel) &lt;= radius) {</div>
<div class="line"><span class="lineno">  421</span>            hit_density++;</div>
<div class="line"><span class="lineno">  422</span>         }</div>
<div class="line"><span class="lineno">  423</span>      }</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>      <span class="keywordflow">if</span> (min_check &amp;&amp; (hit_density &gt;= min_hit_density)) {</div>
<div class="line"><span class="lineno">  426</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  427</span>      }</div>
<div class="line"><span class="lineno">  428</span>   }</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>   <span class="keywordflow">return</span> hit_density;</div>
<div class="line"><span class="lineno">  431</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b8d5076a98f5ad030ea9e19de318532" name="a1b8d5076a98f5ad030ea9e19de318532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b8d5076a98f5ad030ea9e19de318532">&#9670;&#160;</a></span>FillScifi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classsnd_1_1analysis__tools_1_1ScifiPlane.html">snd::analysis_tools::ScifiPlane</a> &gt; snd::analysis_tools::FillScifi </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsnd_1_1Configuration.html">Configuration</a> &amp;&#160;</td>
          <td class="paramname"><em>configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TClonesArray *&#160;</td>
          <td class="paramname"><em>sf_hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classScifi.html">Scifi</a> *&#160;</td>
          <td class="paramname"><em>scifi_geometry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndPlaneTools_8cxx_source.html#l00014">14</a> of file <a class="el" href="sndPlaneTools_8cxx_source.html">sndPlaneTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   15</span>{</div>
<div class="line"><span class="lineno">   16</span> </div>
<div class="line"><span class="lineno">   17</span>  std::vector&lt;snd::analysis_tools::ScifiPlane&gt; scifi_planes;</div>
<div class="line"><span class="lineno">   18</span> </div>
<div class="line"><span class="lineno">   19</span>  <span class="keywordtype">int</span> begin{0};</div>
<div class="line"><span class="lineno">   20</span>  <span class="keywordtype">int</span> count{0};</div>
<div class="line"><span class="lineno">   21</span> </div>
<div class="line"><span class="lineno">   22</span>  <span class="keywordtype">int</span> n_sf_hits{sf_hits-&gt;GetEntries()};</div>
<div class="line"><span class="lineno">   23</span> </div>
<div class="line"><span class="lineno">   24</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> st{1}; st &lt;= configuration.<a class="code hl_variable" href="structsnd_1_1Configuration.html#ad5cdcc8a4612043414960c1e588fe7c5">scifi_n_stations</a>; ++st)</div>
<div class="line"><span class="lineno">   25</span>  {</div>
<div class="line"><span class="lineno">   26</span>    begin = <a class="code hl_variable" href="namespaceconditionsDatabase_1_1getconditions__condDB.html#ada36c3d9fe2448340f6f292f33ea72ae">count</a>;</div>
<div class="line"><span class="lineno">   27</span>    <span class="keywordflow">while</span> (count &lt; n_sf_hits &amp;&amp;</div>
<div class="line"><span class="lineno">   28</span>           st == <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *<span class="keyword">&gt;</span>(sf_hits-&gt;At(count))-&gt;<a class="code hl_function" href="classsndScifiHit.html#a18eb9526024996df83366096a1e41b0b">GetStation</a>())</div>
<div class="line"><span class="lineno">   29</span>    {</div>
<div class="line"><span class="lineno">   30</span>      ++<a class="code hl_variable" href="namespaceconditionsDatabase_1_1getconditions__condDB.html#ada36c3d9fe2448340f6f292f33ea72ae">count</a>;</div>
<div class="line"><span class="lineno">   31</span>    }</div>
<div class="line"><span class="lineno">   32</span>    scifi_planes.emplace_back(<a class="code hl_class" href="classsnd_1_1analysis__tools_1_1ScifiPlane.html">snd::analysis_tools::ScifiPlane</a>(sf_hits, configuration, scifi_geometry, begin, count, st));</div>
<div class="line"><span class="lineno">   33</span>  }</div>
<div class="line"><span class="lineno">   34</span>  <span class="keywordflow">return</span> scifi_planes;</div>
<div class="line"><span class="lineno">   35</span>}</div>
<div class="ttc" id="aclasssndScifiHit_html_a18eb9526024996df83366096a1e41b0b"><div class="ttname"><a href="classsndScifiHit.html#a18eb9526024996df83366096a1e41b0b">sndScifiHit::GetStation</a></div><div class="ttdeci">Int_t GetStation()</div><div class="ttdef"><b>Definition</b> <a href="sndScifiHit_8h_source.html#l00031">sndScifiHit.h:31</a></div></div>
<div class="ttc" id="aclasssnd_1_1analysis__tools_1_1ScifiPlane_html"><div class="ttname"><a href="classsnd_1_1analysis__tools_1_1ScifiPlane.html">snd::analysis_tools::ScifiPlane</a></div><div class="ttdef"><b>Definition</b> <a href="sndScifiPlane_8h_source.html#l00013">sndScifiPlane.h:14</a></div></div>
<div class="ttc" id="anamespaceconditionsDatabase_1_1getconditions__condDB_html_ada36c3d9fe2448340f6f292f33ea72ae"><div class="ttname"><a href="namespaceconditionsDatabase_1_1getconditions__condDB.html#ada36c3d9fe2448340f6f292f33ea72ae">conditionsDatabase.getconditions_condDB.count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition</b> <a href="getconditions__condDB_8py_source.html#l00039">getconditions_condDB.py:39</a></div></div>
<div class="ttc" id="astructsnd_1_1Configuration_html_ad5cdcc8a4612043414960c1e588fe7c5"><div class="ttname"><a href="structsnd_1_1Configuration.html#ad5cdcc8a4612043414960c1e588fe7c5">snd::Configuration::scifi_n_stations</a></div><div class="ttdeci">int scifi_n_stations</div><div class="ttdef"><b>Definition</b> <a href="sndConfiguration_8h_source.html#l00056">sndConfiguration.h:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a39d6b49491d4a739d88c1e370492e2cf" name="a39d6b49491d4a739d88c1e370492e2cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39d6b49491d4a739d88c1e370492e2cf">&#9670;&#160;</a></span>FillUS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classsnd_1_1analysis__tools_1_1USPlane.html">snd::analysis_tools::USPlane</a> &gt; snd::analysis_tools::FillUS </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsnd_1_1Configuration.html">Configuration</a> &amp;&#160;</td>
          <td class="paramname"><em>configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TClonesArray *&#160;</td>
          <td class="paramname"><em>mufi_hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMuFilter.html">MuFilter</a> *&#160;</td>
          <td class="paramname"><em>mufilter_geometry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndPlaneTools_8cxx_source.html#l00037">37</a> of file <a class="el" href="sndPlaneTools_8cxx_source.html">sndPlaneTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>{</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>  std::vector&lt;snd::analysis_tools::USPlane&gt; us_planes;</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>  <span class="keywordtype">int</span> begin{0};</div>
<div class="line"><span class="lineno">   43</span>  <span class="keywordtype">int</span> count{0};</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>  <span class="keywordtype">int</span> n_mufi_hits{mufi_hits-&gt;GetEntries()};</div>
<div class="line"><span class="lineno">   46</span>  <span class="comment">// skip veto/beam monitor</span></div>
<div class="line"><span class="lineno">   47</span>  <span class="keywordflow">while</span> (count &lt; n_mufi_hits &amp;&amp;</div>
<div class="line"><span class="lineno">   48</span>         <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classMuFilterHit.html">MuFilterHit</a> *<span class="keyword">&gt;</span>(mufi_hits-&gt;At(count))-&gt;<a class="code hl_function" href="classMuFilterHit.html#aa53b551caf7ff397426665e7106e3e15">GetSystem</a>() != 2)</div>
<div class="line"><span class="lineno">   49</span>  {</div>
<div class="line"><span class="lineno">   50</span>    ++<a class="code hl_variable" href="namespaceconditionsDatabase_1_1getconditions__condDB.html#ada36c3d9fe2448340f6f292f33ea72ae">count</a>;</div>
<div class="line"><span class="lineno">   51</span>  }</div>
<div class="line"><span class="lineno">   52</span>  <span class="comment">// plane count starts from 0</span></div>
<div class="line"><span class="lineno">   53</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pl{0}; <a class="code hl_variable" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#abfcc1d81eb487e6b40dc8426c8afd8d2">pl</a> &lt; configuration.<a class="code hl_variable" href="structsnd_1_1Configuration.html#a84f6db4454772f74bb7b15ee8b9c1819">us_n_stations</a>; ++<a class="code hl_variable" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#abfcc1d81eb487e6b40dc8426c8afd8d2">pl</a>)</div>
<div class="line"><span class="lineno">   54</span>  {</div>
<div class="line"><span class="lineno">   55</span>    begin = <a class="code hl_variable" href="namespaceconditionsDatabase_1_1getconditions__condDB.html#ada36c3d9fe2448340f6f292f33ea72ae">count</a>;</div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">while</span> (count &lt; n_mufi_hits &amp;&amp;</div>
<div class="line"><span class="lineno">   57</span>           pl == <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classMuFilterHit.html">MuFilterHit</a> *<span class="keyword">&gt;</span>(mufi_hits-&gt;At(count))-&gt;<a class="code hl_function" href="classMuFilterHit.html#a92eeef7d192027351ec7994f74b009e1">GetPlane</a>() &amp;&amp;</div>
<div class="line"><span class="lineno">   58</span>           <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classMuFilterHit.html">MuFilterHit</a> *<span class="keyword">&gt;</span>(mufi_hits-&gt;At(count))-&gt;<a class="code hl_function" href="classMuFilterHit.html#aa53b551caf7ff397426665e7106e3e15">GetSystem</a>() == 2) <span class="comment">// stop before DS</span></div>
<div class="line"><span class="lineno">   59</span>    {</div>
<div class="line"><span class="lineno">   60</span>      ++<a class="code hl_variable" href="namespaceconditionsDatabase_1_1getconditions__condDB.html#ada36c3d9fe2448340f6f292f33ea72ae">count</a>;</div>
<div class="line"><span class="lineno">   61</span>    }</div>
<div class="line"><span class="lineno">   62</span>    us_planes.emplace_back(<a class="code hl_class" href="classsnd_1_1analysis__tools_1_1USPlane.html">snd::analysis_tools::USPlane</a>(mufi_hits, configuration, mufilter_geometry, begin, count, pl + 1));</div>
<div class="line"><span class="lineno">   63</span>  }</div>
<div class="line"><span class="lineno">   64</span>  <span class="keywordflow">return</span> us_planes;</div>
<div class="line"><span class="lineno">   65</span>}</div>
<div class="ttc" id="aclassMuFilterHit_html"><div class="ttname"><a href="classMuFilterHit.html">MuFilterHit</a></div><div class="ttdef"><b>Definition</b> <a href="MuFilterHit_8h_source.html#l00010">MuFilterHit.h:11</a></div></div>
<div class="ttc" id="aclassMuFilterHit_html_a92eeef7d192027351ec7994f74b009e1"><div class="ttname"><a href="classMuFilterHit.html#a92eeef7d192027351ec7994f74b009e1">MuFilterHit::GetPlane</a></div><div class="ttdeci">int GetPlane()</div><div class="ttdef"><b>Definition</b> <a href="MuFilterHit_8h_source.html#l00042">MuFilterHit.h:42</a></div></div>
<div class="ttc" id="aclassMuFilterHit_html_aa53b551caf7ff397426665e7106e3e15"><div class="ttname"><a href="classMuFilterHit.html#aa53b551caf7ff397426665e7106e3e15">MuFilterHit::GetSystem</a></div><div class="ttdeci">int GetSystem()</div><div class="ttdef"><b>Definition</b> <a href="MuFilterHit_8h_source.html#l00041">MuFilterHit.h:41</a></div></div>
<div class="ttc" id="aclasssnd_1_1analysis__tools_1_1USPlane_html"><div class="ttname"><a href="classsnd_1_1analysis__tools_1_1USPlane.html">snd::analysis_tools::USPlane</a></div><div class="ttdef"><b>Definition</b> <a href="sndUSPlane_8h_source.html#l00013">sndUSPlane.h:14</a></div></div>
<div class="ttc" id="anamespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring_html_abfcc1d81eb487e6b40dc8426c8afd8d2"><div class="ttname"><a href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#abfcc1d81eb487e6b40dc8426c8afd8d2">conditionsDatabase.demo.drifttubeMonitoring.pl</a></div><div class="ttdeci">dict pl</div><div class="ttdef"><b>Definition</b> <a href="drifttubeMonitoring_8py_source.html#l02145">drifttubeMonitoring.py:2145</a></div></div>
<div class="ttc" id="astructsnd_1_1Configuration_html_a84f6db4454772f74bb7b15ee8b9c1819"><div class="ttname"><a href="structsnd_1_1Configuration.html#a84f6db4454772f74bb7b15ee8b9c1819">snd::Configuration::us_n_stations</a></div><div class="ttdeci">int us_n_stations</div><div class="ttdef"><b>Definition</b> <a href="sndConfiguration_8h_source.html#l00063">sndConfiguration.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a13c3ae2f5d528737de97d8837f2df9" name="a4a13c3ae2f5d528737de97d8837f2df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a13c3ae2f5d528737de97d8837f2df9">&#9670;&#160;</a></span>filterScifiHits() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; TClonesArray &gt; snd::analysis_tools::filterScifiHits </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray &amp;&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>selection_parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>setup</em> = <code>&quot;TI18&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isMC</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00308">308</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  311</span>{</div>
<div class="line"><span class="lineno">  312</span>   TClonesArray supportArray(<span class="stringliteral">&quot;sndScifiHit&quot;</span>, 0);</div>
<div class="line"><span class="lineno">  313</span>   <span class="keyword">auto</span> filteredHits = std::make_unique&lt;TClonesArray&gt;(<span class="stringliteral">&quot;sndScifiHit&quot;</span>, digiHits.GetEntries());</div>
<div class="line"><span class="lineno">  314</span>   <span class="keywordtype">int</span> filteredHitsIndex = 0;</div>
<div class="line"><span class="lineno">  315</span>   <span class="keywordtype">int</span> ScifiStations = 5;</div>
<div class="line"><span class="lineno">  316</span>   <span class="keywordflow">if</span> (setup == <span class="stringliteral">&quot;H8&quot;</span>) {</div>
<div class="line"><span class="lineno">  317</span>      ScifiStations = 4;</div>
<div class="line"><span class="lineno">  318</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  319</span>      LOG(info) &lt;&lt; <span class="stringliteral">&quot;\&quot;TI18\&quot; setup will be used by default, please provide \&quot;H8\&quot; for the Testbeam setup.&quot;</span>;</div>
<div class="line"><span class="lineno">  320</span>   }</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>   <a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *hit;</div>
<div class="line"><span class="lineno">  323</span>   TIter hitIterator(&amp;supportArray);</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>   <span class="keywordflow">if</span> (method == 0) {</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>      <span class="keywordflow">if</span> ((selection_parameters.find(<span class="stringliteral">&quot;bins_x&quot;</span>) == selection_parameters.end()) ||</div>
<div class="line"><span class="lineno">  328</span>          (selection_parameters.find(<span class="stringliteral">&quot;min_x&quot;</span>) == selection_parameters.end()) ||</div>
<div class="line"><span class="lineno">  329</span>          (selection_parameters.find(<span class="stringliteral">&quot;max_x&quot;</span>) == selection_parameters.end()) ||</div>
<div class="line"><span class="lineno">  330</span>          (selection_parameters.find(<span class="stringliteral">&quot;time_lower_range&quot;</span>) == selection_parameters.end())) {</div>
<div class="line"><span class="lineno">  331</span>         LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;In order to use method 0 please provide the correct selection_parameters. Consider the default &quot;</span></div>
<div class="line"><span class="lineno">  332</span>                       <span class="stringliteral">&quot;= {{\&quot;bins_x\&quot;, 52.}, {\&quot;min_x\&quot;, 0.}, {\&quot;max_x\&quot;, 26.}, {\&quot;time_lower_range\&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  333</span>                       <span class="stringliteral">&quot;1E9/(2*ShipUnit::snd_freq/ShipUnit::hertz)}, {\&quot;time_upper_range\&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  334</span>                       <span class="stringliteral">&quot;1.2E9/(ShipUnit::snd_freq/ShipUnit::hertz)}}&quot;</span>;</div>
<div class="line"><span class="lineno">  335</span>      }</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>      <span class="comment">// This is overwriting the previous arrays with the newest one</span></div>
<div class="line"><span class="lineno">  338</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> station : ROOT::MakeSeq(1, ScifiStations + 1)) {</div>
<div class="line"><span class="lineno">  339</span>         <span class="keywordflow">for</span> (<span class="keyword">auto</span> orientation : {<span class="keyword">false</span>, <span class="keyword">true</span>}) {</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>            <span class="keyword">auto</span> supportArray = <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#ac24087a94e7ae37f910b9482ddf021b0">selectScifiHits</a>(digiHits, station, orientation, selection_parameters, <span class="keyword">true</span>, isMC);</div>
<div class="line"><span class="lineno">  342</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> *p : *supportArray) {</div>
<div class="line"><span class="lineno">  343</span>               <span class="keyword">auto</span> *hit = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *<span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1c800df226d66062268fa28c3e0c7f7a">p</a>);</div>
<div class="line"><span class="lineno">  344</span>               <span class="keywordflow">if</span> (hit-&gt;<a class="code hl_function" href="classsndScifiHit.html#a99afbc5a294dfd9f9ddcf9bada3d90ba">isValid</a>()) {</div>
<div class="line"><span class="lineno">  345</span>                  <span class="keyword">new</span> ((*filteredHits)[filteredHitsIndex++]) <a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a>(*hit);</div>
<div class="line"><span class="lineno">  346</span>               }</div>
<div class="line"><span class="lineno">  347</span>            }</div>
<div class="line"><span class="lineno">  348</span>         }</div>
<div class="line"><span class="lineno">  349</span>      }</div>
<div class="line"><span class="lineno">  350</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  351</span>      LOG(error) &lt;&lt; <span class="stringliteral">&quot;Please provide a valid time filter method from:&quot;</span>;</div>
<div class="line"><span class="lineno">  352</span>      LOG(error) &lt;&lt; <span class="stringliteral">&quot;(0): Events within \\mp time_lower_range time_upper_range of the peak of the time distribution &quot;</span></div>
<div class="line"><span class="lineno">  353</span>                    <span class="stringliteral">&quot;for Scifi Hits within each station and orientation&quot;</span>;</div>
<div class="line"><span class="lineno">  354</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;selection_parameters = {bins_x, min_x, max_x, time_lower_range, time_upper_range}.&quot;</span>;</div>
<div class="line"><span class="lineno">  355</span>   }</div>
<div class="line"><span class="lineno">  356</span>   <span class="keywordflow">return</span> filteredHits;</div>
<div class="line"><span class="lineno">  357</span>}</div>
<div class="ttc" id="aclasssndScifiHit_html_a99afbc5a294dfd9f9ddcf9bada3d90ba"><div class="ttname"><a href="classsndScifiHit.html#a99afbc5a294dfd9f9ddcf9bada3d90ba">sndScifiHit::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition</b> <a href="sndScifiHit_8h_source.html#l00030">sndScifiHit.h:30</a></div></div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_ac24087a94e7ae37f910b9482ddf021b0"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#ac24087a94e7ae37f910b9482ddf021b0">snd::analysis_tools::selectScifiHits</a></div><div class="ttdeci">std::unique_ptr&lt; TClonesArray &gt; selectScifiHits(const TClonesArray &amp;digiHits, int station, bool orientation, int bins_x=52, float min_x=0.0, float max_x=26.0, float time_lower_range=1E9/(2 *ShipUnit::snd_freq/ShipUnit::hertz), float time_upper_range=1.2E9/(ShipUnit::snd_freq/ShipUnit::hertz), bool make_selection=true, bool isMC=false)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00195">sndSciFiTools.cxx:195</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aabaf2879845b2998aeab516ce908994d" name="aabaf2879845b2998aeab516ce908994d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabaf2879845b2998aeab516ce908994d">&#9670;&#160;</a></span>filterScifiHits() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; TClonesArray &gt; snd::analysis_tools::filterScifiHits </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray &amp;&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>setup</em> = <code>&quot;TI18&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isMC</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00360">360</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  361</span>{</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>   std::map&lt;std::string, float&gt; selection_parameters;</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>   <span class="keywordflow">if</span> (method == 0) {</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>      selection_parameters[<span class="stringliteral">&quot;bins_x&quot;</span>] = 52.0;</div>
<div class="line"><span class="lineno">  368</span>      selection_parameters[<span class="stringliteral">&quot;min_x&quot;</span>] = 0.0;</div>
<div class="line"><span class="lineno">  369</span>      selection_parameters[<span class="stringliteral">&quot;max_x&quot;</span>] = 26.0;</div>
<div class="line"><span class="lineno">  370</span>      selection_parameters[<span class="stringliteral">&quot;time_lower_range&quot;</span>] = 1E9 / (2 * ShipUnit::snd_freq / ShipUnit::hertz);</div>
<div class="line"><span class="lineno">  371</span>      selection_parameters[<span class="stringliteral">&quot;time_upper_range&quot;</span>] = 1.2E9 / (ShipUnit::snd_freq / ShipUnit::hertz);</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  374</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;Please use method=0. No other methods implemented so far.&quot;</span>;</div>
<div class="line"><span class="lineno">  375</span>   }</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>   <span class="keywordflow">return</span> filterScifiHits(digiHits, selection_parameters, method, setup, isMC);</div>
<div class="line"><span class="lineno">  378</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0b845dbe4852f824b3188318b7e766e" name="aa0b845dbe4852f824b3188318b7e766e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0b845dbe4852f824b3188318b7e766e">&#9670;&#160;</a></span>findCentreOfGravityPerStation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; double, double &gt; snd::analysis_tools::findCentreOfGravityPerStation </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray *&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>station</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classScifi.html">Scifi</a> *&#160;</td>
          <td class="paramname"><em>ScifiDet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00574">574</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  575</span>{</div>
<div class="line"><span class="lineno">  576</span>   <span class="keywordflow">if</span> (!digiHits) {</div>
<div class="line"><span class="lineno">  577</span>      LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Error: digiHits is null in findCentreOfGravityPerStation&quot;</span>;</div>
<div class="line"><span class="lineno">  578</span>   }</div>
<div class="line"><span class="lineno">  579</span>   </div>
<div class="line"><span class="lineno">  580</span>   <span class="keyword">auto</span> [x_positions, y_positions] = <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a5d534fa34696441a71d6684f5ee710e8">snd::analysis_tools::hitPositionVectorsPerStation</a>(digiHits, station, ScifiDet);</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>   <span class="keywordflow">if</span> (x_positions.empty()) {</div>
<div class="line"><span class="lineno">  583</span>      LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Error: No hits enter.&quot;</span>;</div>
<div class="line"><span class="lineno">  584</span>   }</div>
<div class="line"><span class="lineno">  585</span>   <span class="keywordtype">double</span> meanX = <a class="code hl_function" href="sndSciFiTools_8cxx.html#a68a41647c6ca463cb0f0bd4decd79daa">computeMean</a>(x_positions);</div>
<div class="line"><span class="lineno">  586</span>   <span class="keywordflow">if</span> (y_positions.empty()) {</div>
<div class="line"><span class="lineno">  587</span>      LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Error: No hits enter.&quot;</span>;</div>
<div class="line"><span class="lineno">  588</span>   }</div>
<div class="line"><span class="lineno">  589</span>   <span class="keywordtype">double</span> meanY = <a class="code hl_function" href="sndSciFiTools_8cxx.html#a68a41647c6ca463cb0f0bd4decd79daa">computeMean</a>(y_positions);</div>
<div class="line"><span class="lineno">  590</span>   <span class="keywordflow">return</span> {meanX, meanY};</div>
<div class="line"><span class="lineno">  591</span>}</div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_a5d534fa34696441a71d6684f5ee710e8"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#a5d534fa34696441a71d6684f5ee710e8">snd::analysis_tools::hitPositionVectorsPerStation</a></div><div class="ttdeci">std::pair&lt; std::vector&lt; double &gt;, std::vector&lt; double &gt; &gt; hitPositionVectorsPerStation(const TClonesArray *digiHits, int station, Scifi *ScifiDet)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00593">sndSciFiTools.cxx:593</a></div></div>
<div class="ttc" id="asndSciFiTools_8cxx_html_a68a41647c6ca463cb0f0bd4decd79daa"><div class="ttname"><a href="sndSciFiTools_8cxx.html#a68a41647c6ca463cb0f0bd4decd79daa">computeMean</a></div><div class="ttdeci">double computeMean(const std::vector&lt; double &gt; &amp;values)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00566">sndSciFiTools.cxx:566</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf671a252762c6da49f48a7e6cc31431" name="aaf671a252762c6da49f48a7e6cc31431"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf671a252762c6da49f48a7e6cc31431">&#9670;&#160;</a></span>findScifiStation() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snd::analysis_tools::findScifiStation </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray *&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00096">96</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span>{</div>
<div class="line"><span class="lineno">   98</span>   std::vector&lt;int&gt; horizontal_hits = std::vector&lt;int&gt;(5);</div>
<div class="line"><span class="lineno">   99</span>   std::vector&lt;int&gt; vertical_hits = std::vector&lt;int&gt;(5);</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>   <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a4366cddb81edce8fb50a4dedd3875e84">getSciFiHitsPerStation</a>(digiHits, horizontal_hits, vertical_hits);</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>   <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a1cfa1e0acecf53005048a0b11c125b57">findScifiStation</a>(horizontal_hits, vertical_hits, threshold);</div>
<div class="line"><span class="lineno">  104</span>}</div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_a1cfa1e0acecf53005048a0b11c125b57"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#a1cfa1e0acecf53005048a0b11c125b57">snd::analysis_tools::findScifiStation</a></div><div class="ttdeci">int findScifiStation(std::vector&lt; int &gt; &amp;horizontal_hits, std::vector&lt; int &gt; &amp;vertical_hits, float threshold)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00080">sndSciFiTools.cxx:80</a></div></div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_a4366cddb81edce8fb50a4dedd3875e84"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#a4366cddb81edce8fb50a4dedd3875e84">snd::analysis_tools::getSciFiHitsPerStation</a></div><div class="ttdeci">void getSciFiHitsPerStation(const TClonesArray *digiHits, std::vector&lt; int &gt; &amp;horizontal_hits, std::vector&lt; int &gt; &amp;vertical_hits)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00015">sndSciFiTools.cxx:15</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cfa1e0acecf53005048a0b11c125b57" name="a1cfa1e0acecf53005048a0b11c125b57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cfa1e0acecf53005048a0b11c125b57">&#9670;&#160;</a></span>findScifiStation() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snd::analysis_tools::findScifiStation </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>horizontal_hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertical_hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00080">80</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   82</span>{</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>   std::vector&lt;float&gt; frac = <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#ab110e213c86b26c581a9c7456a140ebc">getFractionalHitsPerScifiPlane</a>(horizontal_hits, vertical_hits);</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>   std::vector&lt;float&gt; frac_sum = std::vector&lt;float&gt;(frac.size());</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>   std::partial_sum(frac.begin(), frac.end(), frac_sum.begin());</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>   std::vector&lt;float&gt;::iterator station =</div>
<div class="line"><span class="lineno">   91</span>      std::find_if(frac_sum.begin(), frac_sum.end(), [&amp;threshold](<span class="keyword">const</span> <span class="keyword">auto</span> &amp;f) { return f &gt; threshold; });</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>   <span class="keywordflow">return</span> station - frac_sum.begin() + 1;</div>
<div class="line"><span class="lineno">   94</span>}</div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_ab110e213c86b26c581a9c7456a140ebc"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#ab110e213c86b26c581a9c7456a140ebc">snd::analysis_tools::getFractionalHitsPerScifiPlane</a></div><div class="ttdeci">std::vector&lt; float &gt; getFractionalHitsPerScifiPlane(std::vector&lt; int &gt; &amp;horizontal_hits, std::vector&lt; int &gt; &amp;vertical_hits)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00056">sndSciFiTools.cxx:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a140fdd9c79e8c41365ece33a0416482a" name="a140fdd9c79e8c41365ece33a0416482a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a140fdd9c79e8c41365ece33a0416482a">&#9670;&#160;</a></span>GetDataBasePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string snd::analysis_tools::GetDataBasePath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>csv_file_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>run_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndTchainGetter_8cxx_source.html#l00012">12</a> of file <a class="el" href="sndTchainGetter_8cxx_source.html">sndTchainGetter.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   12</span>                                                                                           {</div>
<div class="line"><span class="lineno">   13</span>    std::ifstream file(csv_file_path);</div>
<div class="line"><span class="lineno">   14</span>    <span class="keywordflow">if</span> (!file.is_open()) {</div>
<div class="line"><span class="lineno">   15</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Could not open CSV file: &quot;</span> + csv_file_path);</div>
<div class="line"><span class="lineno">   16</span>    }</div>
<div class="line"><span class="lineno">   17</span> </div>
<div class="line"><span class="lineno">   18</span>    std::string line;</div>
<div class="line"><span class="lineno">   19</span>    std::getline(file, line); <span class="comment">// skip header</span></div>
<div class="line"><span class="lineno">   20</span> </div>
<div class="line"><span class="lineno">   21</span>    <span class="keywordflow">while</span> (std::getline(file, line)) {</div>
<div class="line"><span class="lineno">   22</span>        std::istringstream ss(line);</div>
<div class="line"><span class="lineno">   23</span>        std::string token;</div>
<div class="line"><span class="lineno">   24</span> </div>
<div class="line"><span class="lineno">   25</span>        std::getline(ss, token, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   26</span>        <span class="keywordtype">int</span> min_run = std::stoi(token);</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>        std::getline(ss, token, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordtype">int</span> max_run = std::stoi(token);</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>        std::getline(ss, token);</div>
<div class="line"><span class="lineno">   32</span>        std::string path = token;</div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>        <span class="keywordflow">if</span> (run_number &gt;= min_run &amp;&amp; run_number &lt;= max_run) {</div>
<div class="line"><span class="lineno">   35</span>            <span class="keywordflow">return</span> path;</div>
<div class="line"><span class="lineno">   36</span>        }</div>
<div class="line"><span class="lineno">   37</span>    }</div>
<div class="line"><span class="lineno">   38</span>    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Run number not found in CSV mapping.&quot;</span>);</div>
<div class="line"><span class="lineno">   39</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adb1bd3e6aa09e4d65a9c92a5133a8ac9" name="adb1bd3e6aa09e4d65a9c92a5133a8ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb1bd3e6aa09e4d65a9c92a5133a8ac9">&#9670;&#160;</a></span>getFractionalHitsPerScifiPlane() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; float &gt; snd::analysis_tools::getFractionalHitsPerScifiPlane </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray *&#160;</td>
          <td class="paramname"><em>digiHits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00070">70</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   71</span>{</div>
<div class="line"><span class="lineno">   72</span>   std::vector&lt;int&gt; horizontal_hits = std::vector&lt;int&gt;(5);</div>
<div class="line"><span class="lineno">   73</span>   std::vector&lt;int&gt; vertical_hits = std::vector&lt;int&gt;(5);</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>   <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a4366cddb81edce8fb50a4dedd3875e84">getSciFiHitsPerStation</a>(digiHits, horizontal_hits, vertical_hits);</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>   <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#ab110e213c86b26c581a9c7456a140ebc">getFractionalHitsPerScifiPlane</a>(horizontal_hits, vertical_hits);</div>
<div class="line"><span class="lineno">   78</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab110e213c86b26c581a9c7456a140ebc" name="ab110e213c86b26c581a9c7456a140ebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab110e213c86b26c581a9c7456a140ebc">&#9670;&#160;</a></span>getFractionalHitsPerScifiPlane() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; float &gt; snd::analysis_tools::getFractionalHitsPerScifiPlane </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>horizontal_hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertical_hits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00056">56</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>{</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>   <span class="keywordtype">int</span> total_hits = <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#add38a36ae42dce4c3e48621c2c4d0b23">getTotalSciFiHits</a>(horizontal_hits, vertical_hits);</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>   std::vector&lt;float&gt; fractional_hits_per_station = std::vector&lt;float&gt;(horizontal_hits.size());</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>   std::transform(horizontal_hits.begin(), horizontal_hits.end(), vertical_hits.begin(),</div>
<div class="line"><span class="lineno">   64</span>                  fractional_hits_per_station.begin(),</div>
<div class="line"><span class="lineno">   65</span>                  [&amp;total_hits](<span class="keyword">const</span> <span class="keyword">auto</span> &amp;hor, <span class="keyword">const</span> <span class="keyword">auto</span> &amp;ver) { return ((float)hor + ver) / total_hits; });</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>   <span class="keywordflow">return</span> fractional_hits_per_station;</div>
<div class="line"><span class="lineno">   68</span>}</div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_add38a36ae42dce4c3e48621c2c4d0b23"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#add38a36ae42dce4c3e48621c2c4d0b23">snd::analysis_tools::getTotalSciFiHits</a></div><div class="ttdeci">int getTotalSciFiHits(std::vector&lt; int &gt; &amp;horizontal_hits, std::vector&lt; int &gt; &amp;vertical_hits)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00039">sndSciFiTools.cxx:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a54f54b504a754e266119954a1541d4d4" name="a54f54b504a754e266119954a1541d4d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54f54b504a754e266119954a1541d4d4">&#9670;&#160;</a></span>GetGeometry() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="classScifi.html">Scifi</a> *, <a class="el" href="classMuFilter.html">MuFilter</a> * &gt; snd::analysis_tools::GetGeometry </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>csv_file_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>run_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndGeometryGetter_8cxx_source.html#l00062">62</a> of file <a class="el" href="sndGeometryGetter_8cxx_source.html">sndGeometryGetter.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>    std::string geometry_path = <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#af9dc94b86e9ace9b75641ffdce56ce29">GetGeoPath</a>(csv_file_path, run_number);</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#abbfb448208b5038b190e84d7a1e62e9b">GetGeometry</a>(geometry_path);</div>
<div class="line"><span class="lineno">   67</span>}</div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_abbfb448208b5038b190e84d7a1e62e9b"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#abbfb448208b5038b190e84d7a1e62e9b">snd::analysis_tools::GetGeometry</a></div><div class="ttdeci">std::pair&lt; Scifi *, MuFilter * &gt; GetGeometry(const std::string &amp;geometry_path)</div><div class="ttdef"><b>Definition</b> <a href="sndGeometryGetter_8cxx_source.html#l00045">sndGeometryGetter.cxx:45</a></div></div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_af9dc94b86e9ace9b75641ffdce56ce29"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#af9dc94b86e9ace9b75641ffdce56ce29">snd::analysis_tools::GetGeoPath</a></div><div class="ttdeci">std::string GetGeoPath(const std::string &amp;csv_file_path, int run_number)</div><div class="ttdef"><b>Definition</b> <a href="sndGeometryGetter_8cxx_source.html#l00014">sndGeometryGetter.cxx:14</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abbfb448208b5038b190e84d7a1e62e9b" name="abbfb448208b5038b190e84d7a1e62e9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbfb448208b5038b190e84d7a1e62e9b">&#9670;&#160;</a></span>GetGeometry() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="classScifi.html">Scifi</a> *, <a class="el" href="classMuFilter.html">MuFilter</a> * &gt; snd::analysis_tools::GetGeometry </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>geometry_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndGeometryGetter_8cxx_source.html#l00045">45</a> of file <a class="el" href="sndGeometryGetter_8cxx_source.html">sndGeometryGetter.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>{</div>
<div class="line"><span class="lineno">   47</span>    TPython::Exec(<span class="stringliteral">&quot;import SndlhcGeo&quot;</span>);</div>
<div class="line"><span class="lineno">   48</span>    TPython::Exec((<span class="stringliteral">&quot;SndlhcGeo.GeoInterface(&#39;&quot;</span> + geometry_path + <span class="stringliteral">&quot;&#39;)&quot;</span>).c_str());</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>    <span class="comment">// Init detectors</span></div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_class" href="classScifi.html">Scifi</a> *scifi = <span class="keyword">new</span> <a class="code hl_class" href="classScifi.html">Scifi</a>(<span class="stringliteral">&quot;Scifi&quot;</span>, kTRUE);</div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_class" href="classMuFilter.html">MuFilter</a> *mufilter = <span class="keyword">new</span> <a class="code hl_class" href="classMuFilter.html">MuFilter</a>(<span class="stringliteral">&quot;MuFilter&quot;</span>, kTRUE);</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    <span class="comment">// Retrieve the detectors from ROOT&#39;s global list</span></div>
<div class="line"><span class="lineno">   55</span>    scifi = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classScifi.html">Scifi</a> *<span class="keyword">&gt;</span>(gROOT-&gt;GetListOfGlobals()-&gt;FindObject(<span class="stringliteral">&quot;Scifi&quot;</span>));</div>
<div class="line"><span class="lineno">   56</span>    mufilter = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classMuFilter.html">MuFilter</a> *<span class="keyword">&gt;</span>(gROOT-&gt;GetListOfGlobals()-&gt;FindObject(<span class="stringliteral">&quot;MuFilter&quot;</span>));</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">return</span> std::make_pair(scifi, mufilter);</div>
<div class="line"><span class="lineno">   59</span>}</div>
<div class="ttc" id="aclassMuFilter_html"><div class="ttname"><a href="classMuFilter.html">MuFilter</a></div><div class="ttdef"><b>Definition</b> <a href="MuFilter_8h_source.html#l00025">MuFilter.h:26</a></div></div>
<div class="ttc" id="aclassScifi_html"><div class="ttname"><a href="classScifi.html">Scifi</a></div><div class="ttdef"><b>Definition</b> <a href="Scifi_8h_source.html#l00019">Scifi.h:20</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9dc94b86e9ace9b75641ffdce56ce29" name="af9dc94b86e9ace9b75641ffdce56ce29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9dc94b86e9ace9b75641ffdce56ce29">&#9670;&#160;</a></span>GetGeoPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string snd::analysis_tools::GetGeoPath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>csv_file_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>run_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndGeometryGetter_8cxx_source.html#l00014">14</a> of file <a class="el" href="sndGeometryGetter_8cxx_source.html">sndGeometryGetter.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   15</span>{</div>
<div class="line"><span class="lineno">   16</span>    std::ifstream file(csv_file_path);</div>
<div class="line"><span class="lineno">   17</span>    <span class="keywordflow">if</span> (!file.is_open()) {</div>
<div class="line"><span class="lineno">   18</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Could not open CSV file: &quot;</span> + csv_file_path);</div>
<div class="line"><span class="lineno">   19</span>    }</div>
<div class="line"><span class="lineno">   20</span> </div>
<div class="line"><span class="lineno">   21</span>    std::string line;</div>
<div class="line"><span class="lineno">   22</span>    std::getline(file, line); <span class="comment">// skip header</span></div>
<div class="line"><span class="lineno">   23</span> </div>
<div class="line"><span class="lineno">   24</span>    <span class="keywordflow">while</span> (std::getline(file, line)) {</div>
<div class="line"><span class="lineno">   25</span>        std::istringstream ss(line);</div>
<div class="line"><span class="lineno">   26</span>        std::string token;</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>        std::getline(ss, token, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordtype">int</span> min_run = std::stoi(token);</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>        std::getline(ss, token, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   32</span>        <span class="keywordtype">int</span> max_run = std::stoi(token);</div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>        std::getline(ss, token);</div>
<div class="line"><span class="lineno">   35</span>        std::string path = token;</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>        <span class="keywordflow">if</span> (run_number &gt;= min_run &amp;&amp; run_number &lt;= max_run) {</div>
<div class="line"><span class="lineno">   38</span>            <span class="keywordflow">return</span> path;</div>
<div class="line"><span class="lineno">   39</span>        }</div>
<div class="line"><span class="lineno">   40</span>    }</div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Run number not found in CSV mapping.&quot;</span>);</div>
<div class="line"><span class="lineno">   42</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a898b9cbb7bac8c95c59069b6aecbe9b3" name="a898b9cbb7bac8c95c59069b6aecbe9b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898b9cbb7bac8c95c59069b6aecbe9b3">&#9670;&#160;</a></span>getScifiHits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; TClonesArray &gt; snd::analysis_tools::getScifiHits </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray &amp;&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>station</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>orientation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00171">171</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  172</span>{</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>   <span class="keyword">auto</span> selectedHits = std::make_unique&lt;TClonesArray&gt;(<span class="stringliteral">&quot;sndScifiHit&quot;</span>);</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>   <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><span class="lineno">  177</span>   <span class="keywordflow">for</span> (<span class="keyword">auto</span> *p : digiHits) {</div>
<div class="line"><span class="lineno">  178</span>      <span class="keyword">auto</span> *hit = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *<span class="keyword">&gt;</span>(p);</div>
<div class="line"><span class="lineno">  179</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="sndSciFiTools_8cxx.html#a1fd0777019d2b6e914490ff374f2f922">validateHit</a>(hit, station, orientation)) {</div>
<div class="line"><span class="lineno">  180</span>         <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  181</span>      }</div>
<div class="line"><span class="lineno">  182</span>      <span class="keyword">new</span> ((*selectedHits)[i++]) <a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a>(*hit);</div>
<div class="line"><span class="lineno">  183</span>   }</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>   <span class="keywordflow">return</span> selectedHits;</div>
<div class="line"><span class="lineno">  186</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4366cddb81edce8fb50a4dedd3875e84" name="a4366cddb81edce8fb50a4dedd3875e84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4366cddb81edce8fb50a4dedd3875e84">&#9670;&#160;</a></span>getSciFiHitsPerStation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void snd::analysis_tools::getSciFiHitsPerStation </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray *&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>horizontal_hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertical_hits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00015">15</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   17</span>{</div>
<div class="line"><span class="lineno">   18</span> </div>
<div class="line"><span class="lineno">   19</span>   <span class="comment">// Clear hits per plane vectors</span></div>
<div class="line"><span class="lineno">   20</span>   std::fill(horizontal_hits.begin(), horizontal_hits.end(), 0);</div>
<div class="line"><span class="lineno">   21</span>   std::fill(vertical_hits.begin(), vertical_hits.end(), 0);</div>
<div class="line"><span class="lineno">   22</span> </div>
<div class="line"><span class="lineno">   23</span>   <span class="comment">// Add valid hits to hits per plane vectors</span></div>
<div class="line"><span class="lineno">   24</span>   <a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *hit;</div>
<div class="line"><span class="lineno">   25</span>   TIter hitIterator(digiHits);</div>
<div class="line"><span class="lineno">   26</span> </div>
<div class="line"><span class="lineno">   27</span>   <span class="keywordflow">while</span> (hit = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *<span class="keyword">&gt;</span>(hitIterator.Next())) {</div>
<div class="line"><span class="lineno">   28</span>      <span class="keywordflow">if</span> (hit-&gt;<a class="code hl_function" href="classsndScifiHit.html#a99afbc5a294dfd9f9ddcf9bada3d90ba">isValid</a>()) {</div>
<div class="line"><span class="lineno">   29</span>         <span class="keywordtype">int</span> station = hit-&gt;<a class="code hl_function" href="classsndScifiHit.html#a18eb9526024996df83366096a1e41b0b">GetStation</a>();</div>
<div class="line"><span class="lineno">   30</span>         <span class="keywordflow">if</span> (hit-&gt;<a class="code hl_function" href="classsndScifiHit.html#ac527f08d5770476f38f11f33efbf849e">isVertical</a>()) {</div>
<div class="line"><span class="lineno">   31</span>            vertical_hits[station - 1]++;</div>
<div class="line"><span class="lineno">   32</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   33</span>            horizontal_hits[station - 1]++;</div>
<div class="line"><span class="lineno">   34</span>         }</div>
<div class="line"><span class="lineno">   35</span>      }</div>
<div class="line"><span class="lineno">   36</span>   }</div>
<div class="line"><span class="lineno">   37</span>}</div>
<div class="ttc" id="aclasssndScifiHit_html_ac527f08d5770476f38f11f33efbf849e"><div class="ttname"><a href="classsndScifiHit.html#ac527f08d5770476f38f11f33efbf849e">sndScifiHit::isVertical</a></div><div class="ttdeci">bool isVertical()</div><div class="ttdef"><b>Definition</b> <a href="sndScifiHit_8h_source.html#l00032">sndScifiHit.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ae73cc256518214ae9cf74a03107bb9" name="a8ae73cc256518214ae9cf74a03107bb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae73cc256518214ae9cf74a03107bb9">&#9670;&#160;</a></span>GetTChain() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; TChain &gt; snd::analysis_tools::GetTChain </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>csv_file_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>run_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_files</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndTchainGetter_8cxx_source.html#l00041">41</a> of file <a class="el" href="sndTchainGetter_8cxx_source.html">sndTchainGetter.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   41</span>                                                                                                             {</div>
<div class="line"><span class="lineno">   42</span>    std::string base_folder = <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a140fdd9c79e8c41365ece33a0416482a">GetDataBasePath</a>(csv_file_path, run_number);</div>
<div class="line"><span class="lineno">   43</span>    <span class="keyword">auto</span> tchain = std::make_unique&lt;TChain&gt;(<span class="stringliteral">&quot;rawConv&quot;</span>);</div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">if</span> (n_files == -1) {</div>
<div class="line"><span class="lineno">   45</span>        tchain-&gt;Add(Form(<span class="stringliteral">&quot;%srun_%06d/sndsw_raw-*&quot;</span>, base_folder.c_str(), run_number));</div>
<div class="line"><span class="lineno">   46</span>    }</div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   48</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i&lt;n_files; ++i){</div>
<div class="line"><span class="lineno">   49</span>            tchain-&gt;Add(Form(<span class="stringliteral">&quot;%srun_%06d/sndsw_raw-%04d.root&quot;</span>, base_folder.c_str(), run_number, i));</div>
<div class="line"><span class="lineno">   50</span>        }</div>
<div class="line"><span class="lineno">   51</span>    }</div>
<div class="line"><span class="lineno">   52</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacescifiSimAna.html#a82aa60d744bc65e575bdd5c001c973af">tchain</a>;</div>
<div class="line"><span class="lineno">   53</span>};</div>
<div class="ttc" id="anamespacescifiSimAna_html_a82aa60d744bc65e575bdd5c001c973af"><div class="ttname"><a href="namespacescifiSimAna.html#a82aa60d744bc65e575bdd5c001c973af">scifiSimAna.tchain</a></div><div class="ttdeci">tchain</div><div class="ttdef"><b>Definition</b> <a href="scifiSimAna_8py_source.html#l00101">scifiSimAna.py:101</a></div></div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_a140fdd9c79e8c41365ece33a0416482a"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#a140fdd9c79e8c41365ece33a0416482a">snd::analysis_tools::GetDataBasePath</a></div><div class="ttdeci">std::string GetDataBasePath(const std::string &amp;csv_file_path, int run_number)</div><div class="ttdef"><b>Definition</b> <a href="sndTchainGetter_8cxx_source.html#l00012">sndTchainGetter.cxx:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21a31e32cb4f2195e6e382be703080f9" name="a21a31e32cb4f2195e6e382be703080f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21a31e32cb4f2195e6e382be703080f9">&#9670;&#160;</a></span>GetTChain() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; TChain &gt; snd::analysis_tools::GetTChain </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndTchainGetter_8cxx_source.html#l00055">55</a> of file <a class="el" href="sndTchainGetter_8cxx_source.html">sndTchainGetter.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>                                                                            {</div>
<div class="line"><span class="lineno">   56</span>    <span class="keyword">auto</span> tchain = std::make_unique&lt;TChain&gt;(<span class="stringliteral">&quot;rawConv&quot;</span>);</div>
<div class="line"><span class="lineno">   57</span>    tchain-&gt;Add(file_name.c_str());</div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">return</span> tchain;</div>
<div class="line"><span class="lineno">   59</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2e65a7ac6bc899bf97748cab9c03da6" name="ab2e65a7ac6bc899bf97748cab9c03da6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2e65a7ac6bc899bf97748cab9c03da6">&#9670;&#160;</a></span>getTotalSciFiHits() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snd::analysis_tools::getTotalSciFiHits </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray *&#160;</td>
          <td class="paramname"><em>digiHits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00045">45</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>{</div>
<div class="line"><span class="lineno">   47</span>   std::vector&lt;int&gt; horizontal_hits = std::vector&lt;int&gt;(5);</div>
<div class="line"><span class="lineno">   48</span>   std::vector&lt;int&gt; vertical_hits = std::vector&lt;int&gt;(5);</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>   <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a4366cddb81edce8fb50a4dedd3875e84">getSciFiHitsPerStation</a>(digiHits, horizontal_hits, vertical_hits);</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>   <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#add38a36ae42dce4c3e48621c2c4d0b23">getTotalSciFiHits</a>(horizontal_hits, vertical_hits);</div>
<div class="line"><span class="lineno">   53</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="add38a36ae42dce4c3e48621c2c4d0b23" name="add38a36ae42dce4c3e48621c2c4d0b23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add38a36ae42dce4c3e48621c2c4d0b23">&#9670;&#160;</a></span>getTotalSciFiHits() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snd::analysis_tools::getTotalSciFiHits </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>horizontal_hits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertical_hits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00039">39</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span>{</div>
<div class="line"><span class="lineno">   41</span>   <span class="keywordflow">return</span> std::accumulate(horizontal_hits.begin(), horizontal_hits.end(),</div>
<div class="line"><span class="lineno">   42</span>                          std::accumulate(vertical_hits.begin(), vertical_hits.end(), 0));</div>
<div class="line"><span class="lineno">   43</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adbacfdc9078e23b4b863ca20be5a2dd0" name="adbacfdc9078e23b4b863ca20be5a2dd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbacfdc9078e23b4b863ca20be5a2dd0">&#9670;&#160;</a></span>hitDensityPerStation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; double, double &gt; snd::analysis_tools::hitDensityPerStation </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray *&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>station</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classScifi.html">Scifi</a> *&#160;</td>
          <td class="paramname"><em>ScifiDet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00707">707</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  707</span>                                                                                                                        {</div>
<div class="line"><span class="lineno">  708</span>    <span class="comment">/* </span></div>
<div class="line"><span class="lineno">  709</span><span class="comment">     This function returns the hit density which is described as the summation of the hit weights </span></div>
<div class="line"><span class="lineno">  710</span><span class="comment">     where a hit weigth is the number of neighbouring hits within 1 cm postion (default width)</span></div>
<div class="line"><span class="lineno">  711</span><span class="comment">     arguments: hit position vector : vector ontaining the positions of the hits in a specific SciFi station</span></div>
<div class="line"><span class="lineno">  712</span><span class="comment">     returns: the sum of the weights of the hits in the vector</span></div>
<div class="line"><span class="lineno">  713</span><span class="comment">     If the vector is empty, it returns 0.</span></div>
<div class="line"><span class="lineno">  714</span><span class="comment">     If the sum of weights is 0, it returns 0.</span></div>
<div class="line"><span class="lineno">  715</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  716</span>    std::pair&lt;std::vector&lt;double&gt;, std::vector&lt;double&gt;&gt; hit_position_vec = <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a5d534fa34696441a71d6684f5ee710e8">hitPositionVectorsPerStation</a>(digiHits, station, ScifiDet);</div>
<div class="line"><span class="lineno">  717</span>    std::vector&lt;double&gt; hit_position_x = hit_position_vec.first; <span class="comment">// Assuming we are interested in X positions</span></div>
<div class="line"><span class="lineno">  718</span>    std::vector&lt;double&gt; hit_position_y = hit_position_vec.second; <span class="comment">// Assuming we are interested in Y positions</span></div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordflow">if</span> (hit_position_x.size()==0 &amp;&amp; hit_position_y.size()==0) {</div>
<div class="line"><span class="lineno">  721</span>        LOG(INFO)&lt;&lt; <span class="stringliteral">&quot;Warning: The hit position vector is empty.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  722</span>        <span class="keywordflow">return</span> {0.0,0.0}; <span class="comment">// Check if the vector is empty</span></div>
<div class="line"><span class="lineno">  723</span>    }</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>    <span class="keywordtype">double</span> sum_weights_x = <a class="code hl_function" href="sndSciFiTools_8cxx.html#a70550dca670c7321a44286f179d892dd">hitWeightComputation</a>(hit_position_x);</div>
<div class="line"><span class="lineno">  726</span>    <span class="keywordtype">double</span> sum_weights_y = <a class="code hl_function" href="sndSciFiTools_8cxx.html#a70550dca670c7321a44286f179d892dd">hitWeightComputation</a>(hit_position_y);</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>    <span class="keywordflow">return</span> {sum_weights_x, sum_weights_y};</div>
<div class="line"><span class="lineno">  729</span>}</div>
<div class="ttc" id="asndSciFiTools_8cxx_html_a70550dca670c7321a44286f179d892dd"><div class="ttname"><a href="sndSciFiTools_8cxx.html#a70550dca670c7321a44286f179d892dd">hitWeightComputation</a></div><div class="ttdeci">double hitWeightComputation(std::vector&lt; double &gt; hit_position)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00636">sndSciFiTools.cxx:636</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d534fa34696441a71d6684f5ee710e8" name="a5d534fa34696441a71d6684f5ee710e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d534fa34696441a71d6684f5ee710e8">&#9670;&#160;</a></span>hitPositionVectorsPerStation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::vector&lt; double &gt;, std::vector&lt; double &gt; &gt; snd::analysis_tools::hitPositionVectorsPerStation </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray *&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>station</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classScifi.html">Scifi</a> *&#160;</td>
          <td class="paramname"><em>ScifiDet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00593">593</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  593</span>                                                                                                                                                      {</div>
<div class="line"><span class="lineno">  594</span>     <span class="comment">/*This function returns the hit vector position for the digiHits in both orientations</span></div>
<div class="line"><span class="lineno">  595</span><span class="comment">       Arguments:</span></div>
<div class="line"><span class="lineno">  596</span><span class="comment">         digiHits: A TClonesArray containing the hits in the SciFi detector.</span></div>
<div class="line"><span class="lineno">  597</span><span class="comment">         station: The station number for which to retrieve the hit positions.</span></div>
<div class="line"><span class="lineno">  598</span><span class="comment">         ScifiDet: A pointer to the Scifi detector object to retrieve SiPM positions.</span></div>
<div class="line"><span class="lineno">  599</span><span class="comment">       Returns:</span></div>
<div class="line"><span class="lineno">  600</span><span class="comment">         A pair of vectors containing the x and y positions of the hits in the specified station.</span></div>
<div class="line"><span class="lineno">  601</span><span class="comment">       If no hits are found, it returns empty vectors and logs an error message.</span></div>
<div class="line"><span class="lineno">  602</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>     <span class="keywordflow">if</span> (!digiHits) {</div>
<div class="line"><span class="lineno">  605</span>       LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Error: digiHits is null&quot;</span>;</div>
<div class="line"><span class="lineno">  606</span>    }</div>
<div class="line"><span class="lineno">  607</span>    std::vector&lt;double&gt; x_positions;</div>
<div class="line"><span class="lineno">  608</span>    std::vector&lt;double&gt; y_positions;</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>    TVector3 A, B;</div>
<div class="line"><span class="lineno">  611</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>* hit : ROOT::RRangeCast&lt;<a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a>*, false, decltype(*digiHits)&gt;(*digiHits)) {</div>
<div class="line"><span class="lineno">  612</span>      <span class="keywordflow">if</span> (!hit || !hit-&gt;isValid()) {</div>
<div class="line"><span class="lineno">  613</span>         <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  614</span>      }</div>
<div class="line"><span class="lineno">  615</span>      <span class="keywordflow">if</span> (hit-&gt;GetStation() != station) {</div>
<div class="line"><span class="lineno">  616</span>         <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  617</span>      }</div>
<div class="line"><span class="lineno">  618</span>      ScifiDet-&gt;<a class="code hl_function" href="classScifi.html#a1b931ff9f46817177b0595f65c1e8f8f">GetSiPMPosition</a>(hit-&gt;GetDetectorID(), A, B);</div>
<div class="line"><span class="lineno">  619</span>      <span class="keywordflow">if</span> (hit-&gt;isVertical()) {</div>
<div class="line"><span class="lineno">  620</span>         x_positions.push_back((<a class="code hl_variable" href="namespacerunPythia8.html#a527266378c7f0299bad9b3c32d02d15b">A</a>.X() + <a class="code hl_variable" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>.X()) * 0.5);</div>
<div class="line"><span class="lineno">  621</span>      }</div>
<div class="line"><span class="lineno">  622</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  623</span>         y_positions.push_back((<a class="code hl_variable" href="namespacerunPythia8.html#a527266378c7f0299bad9b3c32d02d15b">A</a>.Y() + <a class="code hl_variable" href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">B</a>.Y()) * 0.5);</div>
<div class="line"><span class="lineno">  624</span>      }</div>
<div class="line"><span class="lineno">  625</span>    }</div>
<div class="line"><span class="lineno">  626</span>    <span class="keywordflow">if</span> (x_positions.empty()) {</div>
<div class="line"><span class="lineno">  627</span>       LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Error: No hits enter.&quot;</span>;</div>
<div class="line"><span class="lineno">  628</span>    }</div>
<div class="line"><span class="lineno">  629</span>    <span class="keywordflow">if</span> (y_positions.empty()) {</div>
<div class="line"><span class="lineno">  630</span>       LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Error: No hits enter.&quot;</span>;</div>
<div class="line"><span class="lineno">  631</span>    }</div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordflow">return</span> {x_positions, y_positions};</div>
<div class="line"><span class="lineno">  633</span>}</div>
<div class="ttc" id="aclassScifi_html_a1b931ff9f46817177b0595f65c1e8f8f"><div class="ttname"><a href="classScifi.html#a1b931ff9f46817177b0595f65c1e8f8f">Scifi::GetSiPMPosition</a></div><div class="ttdeci">void GetSiPMPosition(Int_t SiPMChan, TVector3 &amp;A, TVector3 &amp;B)</div><div class="ttdef"><b>Definition</b> <a href="Scifi_8cxx_source.html#l00727">Scifi.cxx:727</a></div></div>
<div class="ttc" id="anamespacegeometry__config_html_aa52009c79b19f5c569b183e74aa588c7"><div class="ttname"><a href="namespacegeometry__config.html#aa52009c79b19f5c569b183e74aa588c7">geometry_config.B</a></div><div class="ttdeci">B</div><div class="ttdef"><b>Definition</b> <a href="geometry__config_8py_source.html#l00512">geometry_config.py:512</a></div></div>
<div class="ttc" id="anamespacerunPythia8_html_a527266378c7f0299bad9b3c32d02d15b"><div class="ttname"><a href="namespacerunPythia8.html#a527266378c7f0299bad9b3c32d02d15b">runPythia8.A</a></div><div class="ttdeci">dict A</div><div class="ttdef"><b>Definition</b> <a href="runPythia8_8py_source.html#l00122">runPythia8.py:122</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a22e18e1d83715d3cecf04d03eb350cac" name="a22e18e1d83715d3cecf04d03eb350cac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22e18e1d83715d3cecf04d03eb350cac">&#9670;&#160;</a></span>peakScifiTiming()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float snd::analysis_tools::peakScifiTiming </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray &amp;&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>min_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isMC</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00127">127</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  128</span>{</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>   <span class="keywordflow">if</span> (digiHits.GetEntries() &lt;= 0) {</div>
<div class="line"><span class="lineno">  131</span>      LOG(warning) &lt;&lt; <span class="stringliteral">&quot;digiHits has no valid SciFi Hits and as such no maximum for the timing distribution.&quot;</span>;</div>
<div class="line"><span class="lineno">  132</span>      <span class="keywordflow">return</span> -1.;</div>
<div class="line"><span class="lineno">  133</span>   }</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>   TH1F ScifiTiming(<span class="stringliteral">&quot;Timing&quot;</span>, <span class="stringliteral">&quot;Scifi Timing&quot;</span>, bins, min_x, max_x);</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>   <a class="code hl_class" href="classScifi.html">Scifi</a> *ScifiDet = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classScifi.html">Scifi</a>*<span class="keyword">&gt;</span> (gROOT-&gt;GetListOfGlobals()-&gt;FindObject(<span class="stringliteral">&quot;Scifi&quot;</span>) );</div>
<div class="line"><span class="lineno">  138</span>   <span class="keyword">auto</span>* hit = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a>*<span class="keyword">&gt;</span>(digiHits[0]);</div>
<div class="line"><span class="lineno">  139</span>   <span class="keywordtype">int</span> refStation = hit-&gt;<a class="code hl_function" href="classsndScifiHit.html#a18eb9526024996df83366096a1e41b0b">GetStation</a>();</div>
<div class="line"><span class="lineno">  140</span>   <span class="keywordtype">bool</span> refOrientation = hit-&gt;isVertical();</div>
<div class="line"><span class="lineno">  141</span>   <span class="keywordtype">float</span> hitTime = -1.0;</div>
<div class="line"><span class="lineno">  142</span>   <span class="keywordtype">float</span> timeConversion = 1.;</div>
<div class="line"><span class="lineno">  143</span>   <span class="keywordflow">if</span> (!isMC) {</div>
<div class="line"><span class="lineno">  144</span>      timeConversion = 1E9 / (ShipUnit::snd_freq / ShipUnit::hertz);</div>
<div class="line"><span class="lineno">  145</span>   }</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>   <span class="keywordflow">for</span> (<span class="keyword">auto</span> *p : digiHits) {</div>
<div class="line"><span class="lineno">  148</span>      <span class="keyword">auto</span> *hit = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *<span class="keyword">&gt;</span>(p);</div>
<div class="line"><span class="lineno">  149</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="sndSciFiTools_8cxx.html#a1fd0777019d2b6e914490ff374f2f922">validateHit</a>(hit, refStation, refOrientation)) {</div>
<div class="line"><span class="lineno">  150</span>         <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  151</span>      }</div>
<div class="line"><span class="lineno">  152</span>      hitTime = hit-&gt;<a class="code hl_function" href="classSndlhcHit.html#a866527b9119beb9fa2900cca74418ba1">GetTime</a>() * timeConversion;</div>
<div class="line"><span class="lineno">  153</span>      <span class="keywordflow">if</span> (!isMC){</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordtype">int</span> id_hit = hit -&gt;GetDetectorID();</div>
<div class="line"><span class="lineno">  155</span>        hitTime = ScifiDet-&gt;<a class="code hl_function" href="classScifi.html#ad450e9024b424afc7cc0cdeafbe23552">GetCorrectedTime</a>(id_hit, hitTime, 0);</div>
<div class="line"><span class="lineno">  156</span>      }</div>
<div class="line"><span class="lineno">  157</span>      <span class="keywordflow">if</span> (hitTime &lt; min_x || hitTime &gt; max_x) {</div>
<div class="line"><span class="lineno">  158</span>         <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  159</span>      }</div>
<div class="line"><span class="lineno">  160</span>      ScifiTiming.Fill(hitTime);</div>
<div class="line"><span class="lineno">  161</span>      hitTime = -1.0;</div>
<div class="line"><span class="lineno">  162</span>   }</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>   <span class="keywordtype">float</span> peakTiming = (ScifiTiming.GetMaximumBin() - 0.5) * (max_x - min_x) / <a class="code hl_variable" href="namespaceTTCluster.html#a65472a05de0b21cb4f6d667745454235">bins</a> + min_x;</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>   <span class="keywordflow">return</span> peakTiming;</div>
<div class="line"><span class="lineno">  167</span>}</div>
<div class="ttc" id="aclassScifi_html_ad450e9024b424afc7cc0cdeafbe23552"><div class="ttname"><a href="classScifi.html#ad450e9024b424afc7cc0cdeafbe23552">Scifi::GetCorrectedTime</a></div><div class="ttdeci">Double_t GetCorrectedTime(Int_t fDetectorID, Double_t rawTime, Double_t L)</div><div class="ttdef"><b>Definition</b> <a href="Scifi_8cxx_source.html#l00614">Scifi.cxx:614</a></div></div>
<div class="ttc" id="aclassSndlhcHit_html_a866527b9119beb9fa2900cca74418ba1"><div class="ttname"><a href="classSndlhcHit.html#a866527b9119beb9fa2900cca74418ba1">SndlhcHit::GetTime</a></div><div class="ttdeci">Float_t GetTime(Int_t nChannel=0)</div><div class="ttdef"><b>Definition</b> <a href="SndlhcHit_8cxx_source.html#l00032">SndlhcHit.cxx:32</a></div></div>
<div class="ttc" id="anamespaceTTCluster_html_a65472a05de0b21cb4f6d667745454235"><div class="ttname"><a href="namespaceTTCluster.html#a65472a05de0b21cb4f6d667745454235">TTCluster.bins</a></div><div class="ttdeci">bins</div><div class="ttdef"><b>Definition</b> <a href="TTCluster_8py_source.html#l00731">TTCluster.py:731</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a06cbff42f3e162d8c91b1d3388771179" name="a06cbff42f3e162d8c91b1d3388771179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06cbff42f3e162d8c91b1d3388771179">&#9670;&#160;</a></span>selectScifiHits() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; TClonesArray &gt; snd::analysis_tools::selectScifiHits </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray &amp;&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>station</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>orientation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>selection_parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>make_selection</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isMC</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00278">278</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  281</span>{</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>   <span class="keywordflow">if</span> ((selection_parameters.find(<span class="stringliteral">&quot;bins_x&quot;</span>) == selection_parameters.end()) ||</div>
<div class="line"><span class="lineno">  284</span>       (selection_parameters.find(<span class="stringliteral">&quot;min_x&quot;</span>) == selection_parameters.end()) ||</div>
<div class="line"><span class="lineno">  285</span>       (selection_parameters.find(<span class="stringliteral">&quot;max_x&quot;</span>) == selection_parameters.end()) ||</div>
<div class="line"><span class="lineno">  286</span>       (selection_parameters.find(<span class="stringliteral">&quot;time_lower_range&quot;</span>) == selection_parameters.end())) {</div>
<div class="line"><span class="lineno">  287</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;In order to use method 0 please provide the correct selection_parameters. Consider the default = &quot;</span></div>
<div class="line"><span class="lineno">  288</span>                    <span class="stringliteral">&quot;{{\&quot;bins_x\&quot;, 52.}, {\&quot;min_x\&quot;, 0.}, {\&quot;max_x\&quot;, 26.}, {\&quot;time_lower_range\&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  289</span>                    <span class="stringliteral">&quot;1E9/(2*ShipUnit::snd_freq/ShipUnit::hertz))}, {\&quot;time_upper_range\&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  290</span>                    <span class="stringliteral">&quot;2E9/(ShipUnit::snd_freq/ShipUnit::hertz)}}&quot;</span>;</div>
<div class="line"><span class="lineno">  291</span>   }</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>   <span class="keywordtype">float</span> time_upper_range = -1.;</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>   <span class="keywordflow">if</span> (selection_parameters.find(<span class="stringliteral">&quot;time_upper_range&quot;</span>) == selection_parameters.end()) {</div>
<div class="line"><span class="lineno">  296</span>      time_upper_range = selection_parameters.at(<span class="stringliteral">&quot;time_lower_range&quot;</span>);</div>
<div class="line"><span class="lineno">  297</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  298</span>      time_upper_range = selection_parameters.at(<span class="stringliteral">&quot;time_upper_range&quot;</span>);</div>
<div class="line"><span class="lineno">  299</span>   }</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>   <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#ac24087a94e7ae37f910b9482ddf021b0">selectScifiHits</a>(digiHits, station, orientation, <span class="keywordtype">int</span>(selection_parameters.at(<span class="stringliteral">&quot;bins_x&quot;</span>)),</div>
<div class="line"><span class="lineno">  302</span>                          selection_parameters.at(<span class="stringliteral">&quot;min_x&quot;</span>), selection_parameters.at(<span class="stringliteral">&quot;max_x&quot;</span>),</div>
<div class="line"><span class="lineno">  303</span>                          selection_parameters.at(<span class="stringliteral">&quot;time_lower_range&quot;</span>), time_upper_range, make_selection,</div>
<div class="line"><span class="lineno">  304</span>              isMC);</div>
<div class="line"><span class="lineno">  305</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac24087a94e7ae37f910b9482ddf021b0" name="ac24087a94e7ae37f910b9482ddf021b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac24087a94e7ae37f910b9482ddf021b0">&#9670;&#160;</a></span>selectScifiHits() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; TClonesArray &gt; snd::analysis_tools::selectScifiHits </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray &amp;&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>station</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>orientation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bins_x</em> = <code>52</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>min_x</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_x</em> = <code>26.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>time_lower_range</em> = <code>1E9/(2*ShipUnit::snd_freq/ShipUnit::hertz)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>time_upper_range</em> = <code>1.2E9/(ShipUnit::snd_freq/ShipUnit::hertz)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>make_selection</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isMC</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00195">195</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  200</span>{</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>   <span class="keywordflow">if</span> (bins_x &lt; 1) {</div>
<div class="line"><span class="lineno">  203</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;bins_x in selection_parameters cannot be &lt;1. Consider using the default value of 52 instead.&quot;</span>;</div>
<div class="line"><span class="lineno">  204</span>   }</div>
<div class="line"><span class="lineno">  205</span>   <span class="keywordflow">if</span> (min_x &gt; max_x) {</div>
<div class="line"><span class="lineno">  206</span>      LOG(warning) &lt;&lt; <span class="stringliteral">&quot;In selection_parameters min_x &gt; max_x. Values will be swapped.&quot;</span>;</div>
<div class="line"><span class="lineno">  207</span>      <span class="keywordtype">float</span> aux_float = min_x;</div>
<div class="line"><span class="lineno">  208</span>      min_x = max_x;</div>
<div class="line"><span class="lineno">  209</span>      max_x = aux_float;</div>
<div class="line"><span class="lineno">  210</span>   }</div>
<div class="line"><span class="lineno">  211</span>   <span class="keywordflow">if</span> (min_x &lt; 0.0) {</div>
<div class="line"><span class="lineno">  212</span>      LOG(warning) &lt;&lt; <span class="stringliteral">&quot;In selection_parameters min_x &lt; 0.0. Consider using the default value of 0.0.&quot;</span>;</div>
<div class="line"><span class="lineno">  213</span>   }</div>
<div class="line"><span class="lineno">  214</span>   <span class="keywordflow">if</span> (max_x &lt; 0.0) {</div>
<div class="line"><span class="lineno">  215</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;In selection_parameters max_x &lt; 0.0. Consider using the default value of 26.0.&quot;</span>;</div>
<div class="line"><span class="lineno">  216</span>   }</div>
<div class="line"><span class="lineno">  217</span>   <span class="keywordflow">if</span> (time_lower_range &lt;= 0.0) {</div>
<div class="line"><span class="lineno">  218</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;In selection_parameters time_lower_range &lt;= 0.0. Value should always be positive, in ns.&quot;</span>;</div>
<div class="line"><span class="lineno">  219</span>   }</div>
<div class="line"><span class="lineno">  220</span>   <span class="keywordflow">if</span> (time_upper_range &lt;= 0.0) {</div>
<div class="line"><span class="lineno">  221</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;In selection_parameters time_upper_range &lt;= 0.0. Value should always be positive, in ns.&quot;</span>;</div>
<div class="line"><span class="lineno">  222</span>   }</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>   <span class="keyword">auto</span> filteredHits = std::make_unique&lt;TClonesArray&gt;(<span class="stringliteral">&quot;sndScifiHit&quot;</span>, digiHits.GetEntries());</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>   <span class="keywordtype">float</span> peakTiming = -1.0;</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>   <span class="keywordtype">float</span> timeConversion = 1.;</div>
<div class="line"><span class="lineno">  229</span>   <span class="keywordflow">if</span> (!isMC) {</div>
<div class="line"><span class="lineno">  230</span>      timeConversion = 1E9 / (ShipUnit::snd_freq / ShipUnit::hertz);</div>
<div class="line"><span class="lineno">  231</span>   }</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>   <span class="keywordflow">if</span> (make_selection) {</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>      <span class="keyword">auto</span> selectedHits = <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a898b9cbb7bac8c95c59069b6aecbe9b3">getScifiHits</a>(digiHits, station, orientation);</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>      peakTiming = <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a22e18e1d83715d3cecf04d03eb350cac">peakScifiTiming</a>(*selectedHits, bins_x, min_x, max_x, isMC);</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>      <span class="keywordtype">int</span> <a class="code hl_variable" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> = 0;</div>
<div class="line"><span class="lineno">  240</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *p : *selectedHits) {</div>
<div class="line"><span class="lineno">  241</span>         <span class="keyword">auto</span> *hit = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *<span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1c800df226d66062268fa28c3e0c7f7a">p</a>);</div>
<div class="line"><span class="lineno">  242</span>         <span class="keywordflow">if</span> (!<a class="code hl_function" href="sndSciFiTools_8cxx.html#a1fd0777019d2b6e914490ff374f2f922">validateHit</a>(hit, station, orientation)) {</div>
<div class="line"><span class="lineno">  243</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  244</span>         }</div>
<div class="line"><span class="lineno">  245</span>         <span class="keywordflow">if</span> ((peakTiming - time_lower_range &gt; hit-&gt;GetTime() * timeConversion) ||</div>
<div class="line"><span class="lineno">  246</span>             (hit-&gt;GetTime() * timeConversion &gt; peakTiming + time_upper_range)) {</div>
<div class="line"><span class="lineno">  247</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  248</span>         }</div>
<div class="line"><span class="lineno">  249</span>         <span class="keyword">new</span> ((*filteredHits)[<a class="code hl_variable" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>++]) <a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a>(*hit);</div>
<div class="line"><span class="lineno">  250</span>      }</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  253</span>      <span class="comment">// Does not create selectedHits and just uses digiHits (not unique_ptr)</span></div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>      peakTiming = <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a22e18e1d83715d3cecf04d03eb350cac">peakScifiTiming</a>(digiHits, bins_x, min_x, max_x, isMC);</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>      <span class="keywordtype">int</span> <a class="code hl_variable" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a> = 0;</div>
<div class="line"><span class="lineno">  258</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *p : digiHits) {</div>
<div class="line"><span class="lineno">  259</span>         <span class="keyword">auto</span> *hit = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a> *<span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1c800df226d66062268fa28c3e0c7f7a">p</a>);</div>
<div class="line"><span class="lineno">  260</span>         <span class="keywordflow">if</span> (!<a class="code hl_function" href="sndSciFiTools_8cxx.html#a1fd0777019d2b6e914490ff374f2f922">validateHit</a>(hit, station, orientation)) {</div>
<div class="line"><span class="lineno">  261</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  262</span>         }</div>
<div class="line"><span class="lineno">  263</span>         <span class="keywordflow">if</span> ((peakTiming - time_lower_range &gt; hit-&gt;GetTime() * timeConversion) ||</div>
<div class="line"><span class="lineno">  264</span>             (hit-&gt;GetTime() * timeConversion &gt; peakTiming + time_upper_range)) {</div>
<div class="line"><span class="lineno">  265</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  266</span>         }</div>
<div class="line"><span class="lineno">  267</span>         <span class="keyword">new</span> ((*filteredHits)[<a class="code hl_variable" href="namespaceShipAna.html#aa4bf87f4d17f9d38b1d8f4d009bb54b3">i</a>++]) <a class="code hl_class" href="classsndScifiHit.html">sndScifiHit</a>(*hit);</div>
<div class="line"><span class="lineno">  268</span>      }</div>
<div class="line"><span class="lineno">  269</span>   }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>   <span class="keywordflow">return</span> filteredHits;</div>
<div class="line"><span class="lineno">  272</span>}</div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_a22e18e1d83715d3cecf04d03eb350cac"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#a22e18e1d83715d3cecf04d03eb350cac">snd::analysis_tools::peakScifiTiming</a></div><div class="ttdeci">float peakScifiTiming(const TClonesArray &amp;digiHits, int bins, float min_x, float max_x, bool isMC=false)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00127">sndSciFiTools.cxx:127</a></div></div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_a898b9cbb7bac8c95c59069b6aecbe9b3"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#a898b9cbb7bac8c95c59069b6aecbe9b3">snd::analysis_tools::getScifiHits</a></div><div class="ttdeci">std::unique_ptr&lt; TClonesArray &gt; getScifiHits(const TClonesArray &amp;digiHits, int station, bool orientation)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00171">sndSciFiTools.cxx:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3efcc7ce16eb9a30afcdcedd2c4f4ac2" name="a3efcc7ce16eb9a30afcdcedd2c4f4ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3efcc7ce16eb9a30afcdcedd2c4f4ac2">&#9670;&#160;</a></span>showerInteractionWall() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snd::analysis_tools::showerInteractionWall </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray &amp;&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>selection_parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>setup</em> = <code>&quot;TI18&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00497">497</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  500</span>{</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>   <span class="keywordtype">int</span> totalScifiStations = 5;</div>
<div class="line"><span class="lineno">  503</span>   <span class="keywordflow">if</span> (setup == <span class="stringliteral">&quot;H8&quot;</span>) {</div>
<div class="line"><span class="lineno">  504</span>      totalScifiStations = 4;</div>
<div class="line"><span class="lineno">  505</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  506</span>      LOG(info) &lt;&lt; <span class="stringliteral">&quot;\&quot;TI18\&quot; setup will be used by default, please provide \&quot;H8\&quot; for the Testbeam setup.&quot;</span>;</div>
<div class="line"><span class="lineno">  507</span>   }</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>   <span class="comment">// There is always 1 more Scifi Station than a target block. As such, showerStart == totalScifiStations</span></div>
<div class="line"><span class="lineno">  510</span>   <span class="comment">// means that the shower did not start developing in the target, before the last Scifi Station</span></div>
<div class="line"><span class="lineno">  511</span>   <span class="keywordtype">int</span> showerStart = totalScifiStations;</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>   <span class="keywordflow">if</span> (method == 0) {</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>      <span class="keywordflow">if</span> ((selection_parameters.find(<span class="stringliteral">&quot;radius&quot;</span>) == selection_parameters.end()) ||</div>
<div class="line"><span class="lineno">  516</span>          (selection_parameters.find(<span class="stringliteral">&quot;min_hit_density&quot;</span>) == selection_parameters.end())) {</div>
<div class="line"><span class="lineno">  517</span>         LOG(FATAL)</div>
<div class="line"><span class="lineno">  518</span>            &lt;&lt; <span class="stringliteral">&quot;Argument of select_parameters is incorrect. Please provide a map with the arguments \&quot;radius\&quot; and &quot;</span></div>
<div class="line"><span class="lineno">  519</span>               <span class="stringliteral">&quot;\&quot;min_hit_density\&quot;. Consider using the default values of {{\&quot;radius\&quot;,64}, {\&quot;min_hit_density\&quot;,36}}.&quot;</span>;</div>
<div class="line"><span class="lineno">  520</span>      }</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> scifiStation = 1; scifiStation &lt;= totalScifiStations; scifiStation++) {</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>         <span class="comment">// For each ScifiStation we check whether we see clusters with the desired parameters</span></div>
<div class="line"><span class="lineno">  525</span>         <span class="comment">// By default, we require passing the check on both the horizontal and vertical mats</span></div>
<div class="line"><span class="lineno">  526</span>         <span class="comment">// In case selection_parameters[&quot;orientation&quot;] was provided, we set the NOT CHOSEN orientation</span></div>
<div class="line"><span class="lineno">  527</span>         <span class="comment">// as true by default, so as to only need to pass the chosen orientation check</span></div>
<div class="line"><span class="lineno">  528</span>         <span class="keywordtype">bool</span> horizontalCheck = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  529</span>         <span class="keywordtype">bool</span> verticalCheck = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  530</span>         <span class="keywordflow">if</span> (selection_parameters.find(<span class="stringliteral">&quot;orientation&quot;</span>) != selection_parameters.end()) {</div>
<div class="line"><span class="lineno">  531</span>            <span class="keywordflow">if</span> (<span class="keywordtype">int</span>(selection_parameters.at(<span class="stringliteral">&quot;orientation&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno">  532</span>               verticalCheck = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  533</span>            }</div>
<div class="line"><span class="lineno">  534</span>            <span class="keywordflow">if</span> (<span class="keywordtype">int</span>(selection_parameters.at(<span class="stringliteral">&quot;orientation&quot;</span>)) == 1) {</div>
<div class="line"><span class="lineno">  535</span>               horizontalCheck = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  536</span>            }</div>
<div class="line"><span class="lineno">  537</span>         }</div>
<div class="line"><span class="lineno">  538</span>         horizontalCheck = (<a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#aa6dd4352f5c110708f8070ad1c88a907">densityCheck</a>(digiHits, <span class="keywordtype">int</span>(selection_parameters.at(<span class="stringliteral">&quot;radius&quot;</span>)),</div>
<div class="line"><span class="lineno">  539</span>                                         <span class="keywordtype">int</span>(selection_parameters.at(<span class="stringliteral">&quot;min_hit_density&quot;</span>)), scifiStation, <span class="keyword">false</span>) ||</div>
<div class="line"><span class="lineno">  540</span>                            horizontalCheck);</div>
<div class="line"><span class="lineno">  541</span>         verticalCheck = (<a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#aa6dd4352f5c110708f8070ad1c88a907">densityCheck</a>(digiHits, <span class="keywordtype">int</span>(selection_parameters.at(<span class="stringliteral">&quot;radius&quot;</span>)),</div>
<div class="line"><span class="lineno">  542</span>                                       <span class="keywordtype">int</span>(selection_parameters.at(<span class="stringliteral">&quot;min_hit_density&quot;</span>)), scifiStation, <span class="keyword">true</span>) ||</div>
<div class="line"><span class="lineno">  543</span>                          verticalCheck);</div>
<div class="line"><span class="lineno">  544</span>         <span class="keywordflow">if</span> ((horizontalCheck) &amp;&amp; (verticalCheck)) {</div>
<div class="line"><span class="lineno">  545</span>            showerStart = scifiStation - 1;</div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">return</span> showerStart;</div>
<div class="line"><span class="lineno">  547</span>         }</div>
<div class="line"><span class="lineno">  548</span>      }</div>
<div class="line"><span class="lineno">  549</span>   }</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>   <span class="keywordflow">return</span> showerStart;</div>
<div class="line"><span class="lineno">  552</span>}</div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_aa6dd4352f5c110708f8070ad1c88a907"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#aa6dd4352f5c110708f8070ad1c88a907">snd::analysis_tools::densityCheck</a></div><div class="ttdeci">bool densityCheck(const TClonesArray &amp;digiHits, int radius=64, int min_hit_density=36, int station=1, bool orientation=false)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00434">sndSciFiTools.cxx:434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a78b08ea6c3c2d141709d92390c1f87b8" name="a78b08ea6c3c2d141709d92390c1f87b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b08ea6c3c2d141709d92390c1f87b8">&#9670;&#160;</a></span>showerInteractionWall() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snd::analysis_tools::showerInteractionWall </td>
          <td>(</td>
          <td class="paramtype">const TClonesArray &amp;&#160;</td>
          <td class="paramname"><em>digiHits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>setup</em> = <code>&quot;TI18&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sndSciFiTools_8cxx_source.html#l00554">554</a> of file <a class="el" href="sndSciFiTools_8cxx_source.html">sndSciFiTools.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  555</span>{</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>   <span class="keywordflow">if</span> (method != 0) {</div>
<div class="line"><span class="lineno">  558</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;Please use method=0. No other methods implemented so far.&quot;</span>;</div>
<div class="line"><span class="lineno">  559</span>   }</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>   std::map&lt;std::string, float&gt; selection_parameters = {{<span class="stringliteral">&quot;radius&quot;</span>, 64.}, {<span class="stringliteral">&quot;min_hit_density&quot;</span>, 36.}};</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>   <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesnd_1_1analysis__tools.html#a3efcc7ce16eb9a30afcdcedd2c4f4ac2">showerInteractionWall</a>(digiHits, selection_parameters, method, setup);</div>
<div class="line"><span class="lineno">  564</span>}</div>
<div class="ttc" id="anamespacesnd_1_1analysis__tools_html_a3efcc7ce16eb9a30afcdcedd2c4f4ac2"><div class="ttname"><a href="namespacesnd_1_1analysis__tools.html#a3efcc7ce16eb9a30afcdcedd2c4f4ac2">snd::analysis_tools::showerInteractionWall</a></div><div class="ttdeci">int showerInteractionWall(const TClonesArray &amp;digiHits, const std::map&lt; std::string, float &gt; &amp;selection_parameters, int method=0, std::string setup=&quot;TI18&quot;)</div><div class="ttdef"><b>Definition</b> <a href="sndSciFiTools_8cxx_source.html#l00497">sndSciFiTools.cxx:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesnd.html">snd</a></li><li class="navelem"><a class="el" href="namespacesnd_1_1analysis__tools.html">analysis_tools</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
