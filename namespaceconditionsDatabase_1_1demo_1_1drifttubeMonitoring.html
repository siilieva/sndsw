<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SND@LHC Software: conditionsDatabase.demo.drifttubeMonitoring Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SND@LHC Software
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">conditionsDatabase.demo.drifttubeMonitoring Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac7c38bffd007965bf3c588ddc071ec1b" id="r_ac7c38bffd007965bf3c588ddc071ec1b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac7c38bffd007965bf3c588ddc071ec1b">pyExit</a> ()</td></tr>
<tr class="separator:ac7c38bffd007965bf3c588ddc071ec1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd3d6231f42c142638cb1d1ef9d11be" id="r_afdd3d6231f42c142638cb1d1ef9d11be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#afdd3d6231f42c142638cb1d1ef9d11be">compareAlignment</a> ()</td></tr>
<tr class="separator:afdd3d6231f42c142638cb1d1ef9d11be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ce39f1469f62669f49c71270a46217" id="r_aa0ce39f1469f62669f49c71270a46217"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa0ce39f1469f62669f49c71270a46217">surveyVSfairship</a> ()</td></tr>
<tr class="separator:aa0ce39f1469f62669f49c71270a46217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a7e240d2e8388fe85ae38d9775aa12" id="r_a99a7e240d2e8388fe85ae38d9775aa12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a99a7e240d2e8388fe85ae38d9775aa12">checkZtilts</a> ()</td></tr>
<tr class="separator:a99a7e240d2e8388fe85ae38d9775aa12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af486a59ce80789034292cccafffdc176" id="r_af486a59ce80789034292cccafffdc176"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af486a59ce80789034292cccafffdc176">dispTrack3D</a> (theTrack)</td></tr>
<tr class="separator:af486a59ce80789034292cccafffdc176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb497d6138ef0a9adeffaa2d90a7d03" id="r_addb497d6138ef0a9adeffaa2d90a7d03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#addb497d6138ef0a9adeffaa2d90a7d03">displayDTLayers</a> ()</td></tr>
<tr class="separator:addb497d6138ef0a9adeffaa2d90a7d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae447084be4070e93d40f5fbb48a412be" id="r_ae447084be4070e93d40f5fbb48a412be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ae447084be4070e93d40f5fbb48a412be">addText</a> ()</td></tr>
<tr class="separator:ae447084be4070e93d40f5fbb48a412be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957cccd89a33c3b0d11f0663420de92b" id="r_a957cccd89a33c3b0d11f0663420de92b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a957cccd89a33c3b0d11f0663420de92b">plotEvent</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0300c9226cb21058a0167e6076c29b1d">n</a>=-1)</td></tr>
<tr class="separator:a957cccd89a33c3b0d11f0663420de92b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c086a469d1b23854f0e55e63b05d450" id="r_a8c086a469d1b23854f0e55e63b05d450"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a8c086a469d1b23854f0e55e63b05d450">stationInfo</a> (hit)</td></tr>
<tr class="separator:a8c086a469d1b23854f0e55e63b05d450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4a6b113edfa61922e58bc6bd8fa065" id="r_abd4a6b113edfa61922e58bc6bd8fa065"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#abd4a6b113edfa61922e58bc6bd8fa065">DTEfficiencyFudgefactor</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#afc34cec7841abb88e0d8133383958b4d">method</a>=-1)</td></tr>
<tr class="separator:abd4a6b113edfa61922e58bc6bd8fa065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8719f27e171bc0d8c606e74f454568ab" id="r_a8719f27e171bc0d8c606e74f454568ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a8719f27e171bc0d8c606e74f454568ab">MakeKeysToDThits</a> (minToT=-999)</td></tr>
<tr class="separator:a8719f27e171bc0d8c606e74f454568ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b067a5cf2e0ebe335b2287ee15cba28" id="r_a2b067a5cf2e0ebe335b2287ee15cba28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2b067a5cf2e0ebe335b2287ee15cba28">studyLateDTHits</a> (nevents=1000, nStart=0)</td></tr>
<tr class="separator:a2b067a5cf2e0ebe335b2287ee15cba28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af081b3c2e1d434cd1be69a3818ef0d5f" id="r_af081b3c2e1d434cd1be69a3818ef0d5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af081b3c2e1d434cd1be69a3818ef0d5f">nicePrintout</a> (hits)</td></tr>
<tr class="separator:af081b3c2e1d434cd1be69a3818ef0d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02334ccf0946fbc31a1e9aa8f2b437c3" id="r_a02334ccf0946fbc31a1e9aa8f2b437c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a02334ccf0946fbc31a1e9aa8f2b437c3">plotHitMaps</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a47aca6e0eba55397b1e10446d1adb0e6">onlyPlotting</a>=False)</td></tr>
<tr class="separator:a02334ccf0946fbc31a1e9aa8f2b437c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed59ff09c9ec3cf0d6f096f580459bea" id="r_aed59ff09c9ec3cf0d6f096f580459bea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aed59ff09c9ec3cf0d6f096f580459bea">hitMapsFromFittedTracks</a> ()</td></tr>
<tr class="separator:aed59ff09c9ec3cf0d6f096f580459bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf86b17583f773e5963f935dfdd136d" id="r_afcf86b17583f773e5963f935dfdd136d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#afcf86b17583f773e5963f935dfdd136d">plotHitMapsOld</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a47aca6e0eba55397b1e10446d1adb0e6">onlyPlotting</a>=False)</td></tr>
<tr class="separator:afcf86b17583f773e5963f935dfdd136d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb8690890114281d3ec431ddf1f4a08" id="r_a6bb8690890114281d3ec431ddf1f4a08"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a6bb8690890114281d3ec431ddf1f4a08">printScalers</a> ()</td></tr>
<tr class="separator:a6bb8690890114281d3ec431ddf1f4a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2898399bae1fa462781b9a9bc4c5139c" id="r_a2898399bae1fa462781b9a9bc4c5139c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2898399bae1fa462781b9a9bc4c5139c">plotRPCHitmap</a> ()</td></tr>
<tr class="separator:a2898399bae1fa462781b9a9bc4c5139c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b7782412df27eb46160a8c589a431b" id="r_a43b7782412df27eb46160a8c589a431b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a43b7782412df27eb46160a8c589a431b">plotRPCExample</a> ()</td></tr>
<tr class="separator:a43b7782412df27eb46160a8c589a431b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a691ac5471bc235448cd908ef6e3dd73b" id="r_a691ac5471bc235448cd908ef6e3dd73b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a691ac5471bc235448cd908ef6e3dd73b">plotTimeOverThreshold</a> (N, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a11975a640538efbb52d1e52777b94f76">Debug</a>=False)</td></tr>
<tr class="separator:a691ac5471bc235448cd908ef6e3dd73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a968efcd640acaa740d94df4d34d7c704" id="r_a968efcd640acaa740d94df4d34d7c704"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a968efcd640acaa740d94df4d34d7c704">materialEffects</a> (switch)</td></tr>
<tr class="separator:a968efcd640acaa740d94df4d34d7c704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d36e2a01d95e4c8d37301c14791033" id="r_af9d36e2a01d95e4c8d37301c14791033"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af9d36e2a01d95e4c8d37301c14791033">extractMinAndMax</a> ()</td></tr>
<tr class="separator:af9d36e2a01d95e4c8d37301c14791033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d55a5e5cad4589fca47fa57a116e995" id="r_a5d55a5e5cad4589fca47fa57a116e995"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5d55a5e5cad4589fca47fa57a116e995">extractRTPanda</a> (hname='TDC1000_x')</td></tr>
<tr class="separator:a5d55a5e5cad4589fca47fa57a116e995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af91b2b8f8b82e3c74b6149ccd25c5574" id="r_af91b2b8f8b82e3c74b6149ccd25c5574"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af91b2b8f8b82e3c74b6149ccd25c5574">makeRTrelations</a> ()</td></tr>
<tr class="separator:af91b2b8f8b82e3c74b6149ccd25c5574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0255479f1814a4c7fecdae69b9358bd4" id="r_a0255479f1814a4c7fecdae69b9358bd4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0255479f1814a4c7fecdae69b9358bd4">RT</a> (hit, t)</td></tr>
<tr class="separator:a0255479f1814a4c7fecdae69b9358bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf97a95e90ea61d6afd2599e79061ce6" id="r_aaf97a95e90ea61d6afd2599e79061ce6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aaf97a95e90ea61d6afd2599e79061ce6">checkMCSmearing</a> ()</td></tr>
<tr class="separator:aaf97a95e90ea61d6afd2599e79061ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1644964d81e865e917515e85c61aec0" id="r_af1644964d81e865e917515e85c61aec0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af1644964d81e865e917515e85c61aec0">checkMassOfResonances</a> ()</td></tr>
<tr class="separator:af1644964d81e865e917515e85c61aec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede586c20f1f26c5b2be45856a3b8319" id="r_aede586c20f1f26c5b2be45856a3b8319"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aede586c20f1f26c5b2be45856a3b8319">check4muon</a> (<a class="el" href="ShipBellField_8cxx.html#a42d42dd2c682d42f11de58e34c89f895">m</a>, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a566a82fa4c2d17443cd7b4ea12777caf">debug</a>=False)</td></tr>
<tr class="separator:aede586c20f1f26c5b2be45856a3b8319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206ca565bde32199055958ee4696cdf5" id="r_a206ca565bde32199055958ee4696cdf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a206ca565bde32199055958ee4696cdf5">minbias</a> ()</td></tr>
<tr class="separator:a206ca565bde32199055958ee4696cdf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd34568c0abbba7ca3fda882577bbaf" id="r_a0bd34568c0abbba7ca3fda882577bbaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0bd34568c0abbba7ca3fda882577bbaf">originMCmuons</a> ()</td></tr>
<tr class="separator:a0bd34568c0abbba7ca3fda882577bbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac755917ae3405e737a30f2b8a76f6134" id="r_ac755917ae3405e737a30f2b8a76f6134"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac755917ae3405e737a30f2b8a76f6134">yBeam</a> ()</td></tr>
<tr class="separator:ac755917ae3405e737a30f2b8a76f6134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed615db10f66abb34604d55a095b2a78" id="r_aed615db10f66abb34604d55a095b2a78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aed615db10f66abb34604d55a095b2a78">MCJpsiProd</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a47aca6e0eba55397b1e10446d1adb0e6">onlyPlotting</a>=False)</td></tr>
<tr class="separator:aed615db10f66abb34604d55a095b2a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9af486ed850be81e385ec73ead8293" id="r_a8d9af486ed850be81e385ec73ead8293"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a8d9af486ed850be81e385ec73ead8293">extrapolateToPlane</a> (fT, z, cplusplus=True)</td></tr>
<tr class="separator:a8d9af486ed850be81e385ec73ead8293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ed934843d893606ce1873ca59e317c" id="r_a58ed934843d893606ce1873ca59e317c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a58ed934843d893606ce1873ca59e317c">displayTrack</a> (theTrack, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a566a82fa4c2d17443cd7b4ea12777caf">debug</a>=False)</td></tr>
<tr class="separator:a58ed934843d893606ce1873ca59e317c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39fb210487e2ba160fb05271c3c292b5" id="r_a39fb210487e2ba160fb05271c3c292b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a39fb210487e2ba160fb05271c3c292b5">plotMuonTaggerTrack</a> (muTracks)</td></tr>
<tr class="separator:a39fb210487e2ba160fb05271c3c292b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51bb26a2235b2b3fed132fb9b62699e5" id="r_a51bb26a2235b2b3fed132fb9b62699e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a51bb26a2235b2b3fed132fb9b62699e5">findSimpleEvent</a> (event, nmin=2, nmax=6)</td></tr>
<tr class="separator:a51bb26a2235b2b3fed132fb9b62699e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ab9001f1252252aee4d2549637d992" id="r_a98ab9001f1252252aee4d2549637d992"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a98ab9001f1252252aee4d2549637d992">fitTracks</a> (nMax=-1, simpleEvents=True, withDisplay=False, nStart=0, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a566a82fa4c2d17443cd7b4ea12777caf">debug</a>=False, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a>=1, withRT=False, chi2UL=3)</td></tr>
<tr class="separator:a98ab9001f1252252aee4d2549637d992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa421ac5ddf3075c2405743975951e4" id="r_adfa421ac5ddf3075c2405743975951e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#adfa421ac5ddf3075c2405743975951e4">momDisplay</a> ()</td></tr>
<tr class="separator:adfa421ac5ddf3075c2405743975951e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb960fd681272f206948489d9f5054b" id="r_a0eb960fd681272f206948489d9f5054b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0eb960fd681272f206948489d9f5054b">bestTracks</a> ()</td></tr>
<tr class="separator:a0eb960fd681272f206948489d9f5054b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac440b75558af5f5269b7176f72a8cfba" id="r_ac440b75558af5f5269b7176f72a8cfba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac440b75558af5f5269b7176f72a8cfba">fitTrack</a> (hitlist, Pstart=3.)</td></tr>
<tr class="separator:ac440b75558af5f5269b7176f72a8cfba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acddbe4ce38cf4c3f384bdc4f80872219" id="r_acddbe4ce38cf4c3f384bdc4f80872219"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#acddbe4ce38cf4c3f384bdc4f80872219">getSlopes</a> (cl1, cl2, view='_x')</td></tr>
<tr class="separator:acddbe4ce38cf4c3f384bdc4f80872219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9903f4e092de5dc66a4c787962eb1978" id="r_a9903f4e092de5dc66a4c787962eb1978"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9903f4e092de5dc66a4c787962eb1978">testPR</a> (onlyHits=False)</td></tr>
<tr class="separator:a9903f4e092de5dc66a4c787962eb1978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4418a575f793410c25aca395476a33" id="r_add4418a575f793410c25aca395476a33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#add4418a575f793410c25aca395476a33">plotTracklets</a> (track_hits)</td></tr>
<tr class="separator:add4418a575f793410c25aca395476a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38f9b6bba5b5d6e68241904d5e4bec2" id="r_ab38f9b6bba5b5d6e68241904d5e4bec2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab38f9b6bba5b5d6e68241904d5e4bec2">printClustersPerStation</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a72e438a874d05ad222408b23072d5fda">clusters</a>, s, view)</td></tr>
<tr class="separator:ab38f9b6bba5b5d6e68241904d5e4bec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d0e552b032f5973511c6840c42a373" id="r_af5d0e552b032f5973511c6840c42a373"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af5d0e552b032f5973511c6840c42a373">ghostFraction</a> (aTrack)</td></tr>
<tr class="separator:af5d0e552b032f5973511c6840c42a373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10cac80206b38d980525380b682314da" id="r_a10cac80206b38d980525380b682314da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a10cac80206b38d980525380b682314da">findDTClusters</a> (removeBigClusters=True)</td></tr>
<tr class="separator:a10cac80206b38d980525380b682314da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d465a97a3c7a80e350e973b7a27dd3" id="r_a27d465a97a3c7a80e350e973b7a27dd3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a27d465a97a3c7a80e350e973b7a27dd3">findDTClustersDebug1</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0300c9226cb21058a0167e6076c29b1d">n</a>, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a983c4ccffa135d77a12bed4ff546e7c4">tmp</a>)</td></tr>
<tr class="separator:a27d465a97a3c7a80e350e973b7a27dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d95a3e30798b84c9f3d99f7fd49ad6" id="r_a45d95a3e30798b84c9f3d99f7fd49ad6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a45d95a3e30798b84c9f3d99f7fd49ad6">findDTClustersDebug2</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa745e9ba3ed7794bba358bebbc24cd43">L</a>)</td></tr>
<tr class="separator:a45d95a3e30798b84c9f3d99f7fd49ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73aba9fb662ca157513ac4b3520682a9" id="r_a73aba9fb662ca157513ac4b3520682a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a73aba9fb662ca157513ac4b3520682a9">findTracks</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a>=1, linearTrackModel=False, withCloneKiller=True)</td></tr>
<tr class="separator:a73aba9fb662ca157513ac4b3520682a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a0502b8694c911b6e4c529683b8561" id="r_aa4a0502b8694c911b6e4c529683b8561"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa4a0502b8694c911b6e4c529683b8561">overlap</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5e37896fee417eb26379057dc702c406">a</a>, b)</td></tr>
<tr class="separator:aa4a0502b8694c911b6e4c529683b8561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35bf6b88459830685b67ecc4bbd176e" id="r_af35bf6b88459830685b67ecc4bbd176e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af35bf6b88459830685b67ecc4bbd176e">tuneMCefficiency</a> (tkey)</td></tr>
<tr class="separator:af35bf6b88459830685b67ecc4bbd176e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166ef858f1f7bde29c622567f73dc4a3" id="r_a166ef858f1f7bde29c622567f73dc4a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a166ef858f1f7bde29c622567f73dc4a3">countMeasurements</a> (aTrack, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a>=1)</td></tr>
<tr class="separator:a166ef858f1f7bde29c622567f73dc4a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b4d8b7230cda8e86bd59fc0506c162" id="r_a45b4d8b7230cda8e86bd59fc0506c162"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a45b4d8b7230cda8e86bd59fc0506c162">methodD</a> ()</td></tr>
<tr class="separator:a45b4d8b7230cda8e86bd59fc0506c162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c366c1b081917fb4cb91e2d3f6a1f05" id="r_a1c366c1b081917fb4cb91e2d3f6a1f05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1c366c1b081917fb4cb91e2d3f6a1f05">cloneKiller</a> (trackCandidates)</td></tr>
<tr class="separator:a1c366c1b081917fb4cb91e2d3f6a1f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e16d8b2dd3fe96851489e92562c4615" id="r_a1e16d8b2dd3fe96851489e92562c4615"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1e16d8b2dd3fe96851489e92562c4615">makeLinearExtrapolations</a> (t1t2, t3t4)</td></tr>
<tr class="separator:a1e16d8b2dd3fe96851489e92562c4615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd917b431c64b180bf430f023d69312" id="r_adfd917b431c64b180bf430f023d69312"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#adfd917b431c64b180bf430f023d69312">testClusters</a> (nEvent=-1, nTot=1000)</td></tr>
<tr class="separator:adfd917b431c64b180bf430f023d69312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10daaf17f98e91a404440f9e29b179c5" id="r_a10daaf17f98e91a404440f9e29b179c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a10daaf17f98e91a404440f9e29b179c5">printResiduals</a> (aTrack)</td></tr>
<tr class="separator:a10daaf17f98e91a404440f9e29b179c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b43d5475ae0908306438674e0a2d22" id="r_a82b43d5475ae0908306438674e0a2d22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a82b43d5475ae0908306438674e0a2d22">plotBiasedResiduals</a> (nEvent=-1, nTot=1000, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a>=11, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a47aca6e0eba55397b1e10446d1adb0e6">onlyPlotting</a>=False, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a873e987a77783c12fc9c5991abba78ba">minP</a>=3.)</td></tr>
<tr class="separator:a82b43d5475ae0908306438674e0a2d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2192bbcd06bb53aaf320fd29f4cbb011" id="r_a2192bbcd06bb53aaf320fd29f4cbb011"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2192bbcd06bb53aaf320fd29f4cbb011">investigateActiveArea</a> ()</td></tr>
<tr class="separator:a2192bbcd06bb53aaf320fd29f4cbb011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac82d631bfd5984c8e73094fbcbe0defb" id="r_ac82d631bfd5984c8e73094fbcbe0defb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac82d631bfd5984c8e73094fbcbe0defb">plotSigmaRes</a> ()</td></tr>
<tr class="separator:ac82d631bfd5984c8e73094fbcbe0defb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d8b5eedfcf1ff10d8edfc235e2321bd" id="r_a5d8b5eedfcf1ff10d8edfc235e2321bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5d8b5eedfcf1ff10d8edfc235e2321bd">calculateRTcorrection</a> ()</td></tr>
<tr class="separator:a5d8b5eedfcf1ff10d8edfc235e2321bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a71603a320feb60b676baced064a7c1" id="r_a8a71603a320feb60b676baced064a7c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a8a71603a320feb60b676baced064a7c1">testConvOfGausses</a> ()</td></tr>
<tr class="separator:a8a71603a320feb60b676baced064a7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08e02f08e1cbd2cce5159015c81cf73" id="r_ad08e02f08e1cbd2cce5159015c81cf73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad08e02f08e1cbd2cce5159015c81cf73">analyzeSingleDT</a> ()</td></tr>
<tr class="separator:ad08e02f08e1cbd2cce5159015c81cf73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50903e01434bb507939ac279babedfc6" id="r_a50903e01434bb507939ac279babedfc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a50903e01434bb507939ac279babedfc6">plot2dResiduals</a> (minEntries=-1)</td></tr>
<tr class="separator:a50903e01434bb507939ac279babedfc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf78fbfcacd2d76dd4b0cfa56f66370c" id="r_adf78fbfcacd2d76dd4b0cfa56f66370c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#adf78fbfcacd2d76dd4b0cfa56f66370c">binoEff</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0300c9226cb21058a0167e6076c29b1d">n</a>=4, k=2)</td></tr>
<tr class="separator:adf78fbfcacd2d76dd4b0cfa56f66370c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d4a8e464a869ba839b80e7b1b36d6a" id="r_af2d4a8e464a869ba839b80e7b1b36d6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af2d4a8e464a869ba839b80e7b1b36d6a">DTeffWithRPCTracks</a> (Nevents=0, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a47aca6e0eba55397b1e10446d1adb0e6">onlyPlotting</a>=False, fHisto=None)</td></tr>
<tr class="separator:af2d4a8e464a869ba839b80e7b1b36d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01c0ca2dee6675e1e1bbce93a81d86a0" id="r_a01c0ca2dee6675e1e1bbce93a81d86a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a01c0ca2dee6675e1e1bbce93a81d86a0">checkTrackEfficiencyPerSpill</a> ()</td></tr>
<tr class="separator:a01c0ca2dee6675e1e1bbce93a81d86a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383180a7f419296951cd55c71a2a10af" id="r_a383180a7f419296951cd55c71a2a10af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a383180a7f419296951cd55c71a2a10af">efficiencyEstimates</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#afc34cec7841abb88e0d8133383958b4d">method</a>=2, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a32a6f50db891025c690051a1ab83b6bd">MCdata</a>=False)</td></tr>
<tr class="separator:a383180a7f419296951cd55c71a2a10af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a564e496e4746e771cce5669a0b27222b" id="r_a564e496e4746e771cce5669a0b27222b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a564e496e4746e771cce5669a0b27222b">printTrackMeasurements</a> (atrack, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a>=1)</td></tr>
<tr class="separator:a564e496e4746e771cce5669a0b27222b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a813d1bedf9252b5d6da76d7288545" id="r_aa4a813d1bedf9252b5d6da76d7288545"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa4a813d1bedf9252b5d6da76d7288545">debugTrackFit</a> (nEvents, nStart=0, simpleEvents=True, singleTrack=True, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a>=1)</td></tr>
<tr class="separator:aa4a813d1bedf9252b5d6da76d7288545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b59d41cb6a9f2031d32da22f95d4d1e" id="r_a1b59d41cb6a9f2031d32da22f95d4d1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1b59d41cb6a9f2031d32da22f95d4d1e">plotLinearResiduals</a> ()</td></tr>
<tr class="separator:a1b59d41cb6a9f2031d32da22f95d4d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63cfbb5646669c8bd7a313971867e679" id="r_a63cfbb5646669c8bd7a313971867e679"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a63cfbb5646669c8bd7a313971867e679">mergeHistosForMomResol</a> (withFitPoints=False)</td></tr>
<tr class="separator:a63cfbb5646669c8bd7a313971867e679"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f1517641a06d9e5ca1e9b33899a01f" id="r_af9f1517641a06d9e5ca1e9b33899a01f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af9f1517641a06d9e5ca1e9b33899a01f">hitResolution</a> ()</td></tr>
<tr class="separator:af9f1517641a06d9e5ca1e9b33899a01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb66db98af35139b8aef090a0ce8ebda" id="r_abb66db98af35139b8aef090a0ce8ebda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#abb66db98af35139b8aef090a0ce8ebda">checkRPCAcceptance</a> ()</td></tr>
<tr class="separator:abb66db98af35139b8aef090a0ce8ebda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71459cc2bfb4121c028d21ba59bd0737" id="r_a71459cc2bfb4121c028d21ba59bd0737"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a71459cc2bfb4121c028d21ba59bd0737">matchedRPCHits</a> (aTrack, maxDistance=10.)</td></tr>
<tr class="separator:a71459cc2bfb4121c028d21ba59bd0737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659e95c12ed3f192a0ba1121bb363df0" id="r_a659e95c12ed3f192a0ba1121bb363df0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a659e95c12ed3f192a0ba1121bb363df0">RPCResolution</a> ()</td></tr>
<tr class="separator:a659e95c12ed3f192a0ba1121bb363df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac0bd2c36657594eba05cfe43fa2bb4" id="r_a7ac0bd2c36657594eba05cfe43fa2bb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a7ac0bd2c36657594eba05cfe43fa2bb4">plotRPCExtrap</a> (nEvent=-1, nTot=1000, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a>=1, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a47aca6e0eba55397b1e10446d1adb0e6">onlyPlotting</a>=False)</td></tr>
<tr class="separator:a7ac0bd2c36657594eba05cfe43fa2bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ee0a17f020fa0eca8975e7db0cd84d" id="r_a81ee0a17f020fa0eca8975e7db0cd84d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a81ee0a17f020fa0eca8975e7db0cd84d">debugRPCstrips</a> ()</td></tr>
<tr class="separator:a81ee0a17f020fa0eca8975e7db0cd84d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6ae6e2e588f8b2427fd3882771e09b" id="r_ada6ae6e2e588f8b2427fd3882771e09b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ada6ae6e2e588f8b2427fd3882771e09b">debugRPCYCoordinate</a> ()</td></tr>
<tr class="separator:ada6ae6e2e588f8b2427fd3882771e09b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2ac4e6dc332b54904a2bbac1868b242" id="r_ab2ac4e6dc332b54904a2bbac1868b242"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab2ac4e6dc332b54904a2bbac1868b242">strawPosition</a> ()</td></tr>
<tr class="separator:ab2ac4e6dc332b54904a2bbac1868b242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24aa1969c53f2fc0fc65f5ed2e459344" id="r_a24aa1969c53f2fc0fc65f5ed2e459344"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a24aa1969c53f2fc0fc65f5ed2e459344">RPCPosition</a> ()</td></tr>
<tr class="separator:a24aa1969c53f2fc0fc65f5ed2e459344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460ef3ce8a649282b9e2f1e3b971e730" id="r_a460ef3ce8a649282b9e2f1e3b971e730"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a460ef3ce8a649282b9e2f1e3b971e730">correctAlignment</a> (hit)</td></tr>
<tr class="separator:a460ef3ce8a649282b9e2f1e3b971e730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15128f44510ac8babfd98bf521cc34d" id="r_ad15128f44510ac8babfd98bf521cc34d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad15128f44510ac8babfd98bf521cc34d">loopTracks</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aede22303843a29a0e309f77331129bf9">r</a>, w)</td></tr>
<tr class="separator:ad15128f44510ac8babfd98bf521cc34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a778c44b1c79c3cfaf9d4e7077ac4409b" id="r_a778c44b1c79c3cfaf9d4e7077ac4409b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a778c44b1c79c3cfaf9d4e7077ac4409b">FCN</a> (npar, gin, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a637894e719175e5eb3e4a4fb4679ed7e">f</a>, par, iflag)</td></tr>
<tr class="separator:a778c44b1c79c3cfaf9d4e7077ac4409b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46be27668e307beb6f5dd17ffdad37cc" id="r_a46be27668e307beb6f5dd17ffdad37cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a46be27668e307beb6f5dd17ffdad37cc">makeFit</a> ()</td></tr>
<tr class="separator:a46be27668e307beb6f5dd17ffdad37cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016c73fa068acd42b5d28e53cd6d86b9" id="r_a016c73fa068acd42b5d28e53cd6d86b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a016c73fa068acd42b5d28e53cd6d86b9">debugGeometrie</a> ()</td></tr>
<tr class="separator:a016c73fa068acd42b5d28e53cd6d86b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2572b750eccf509040eaab1fff2d28f" id="r_ad2572b750eccf509040eaab1fff2d28f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad2572b750eccf509040eaab1fff2d28f">residualLoop</a> (nstart=0, nend=50000)</td></tr>
<tr class="separator:ad2572b750eccf509040eaab1fff2d28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d2d5cf5ac493749b1134288a8010da7" id="r_a0d2d5cf5ac493749b1134288a8010da7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0d2d5cf5ac493749b1134288a8010da7">correctAlignmentRPC</a> (hit, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2309e9fc8c297156c5977adca2c8a4cb">v</a>)</td></tr>
<tr class="separator:a0d2d5cf5ac493749b1134288a8010da7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4621730c99bd965c33d5a3f39c8f4ca" id="r_ae4621730c99bd965c33d5a3f39c8f4ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ae4621730c99bd965c33d5a3f39c8f4ca">debugRPCposition</a> ()</td></tr>
<tr class="separator:ae4621730c99bd965c33d5a3f39c8f4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f77eb275500d665697b3b6c46d7a84d" id="r_a2f77eb275500d665697b3b6c46d7a84d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2f77eb275500d665697b3b6c46d7a84d">grouper</a> (iterable, grouping)</td></tr>
<tr class="separator:a2f77eb275500d665697b3b6c46d7a84d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a433d36cb2637e33e514ea31fedb860b3" id="r_a433d36cb2637e33e514ea31fedb860b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a433d36cb2637e33e514ea31fedb860b3">muonTaggerClustering</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a>=11)</td></tr>
<tr class="separator:a433d36cb2637e33e514ea31fedb860b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57c2db763e0cd4aa7406088fb36130c8" id="r_a57c2db763e0cd4aa7406088fb36130c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a57c2db763e0cd4aa7406088fb36130c8">testForSameDetID</a> (nEvent=-1, nTot=1000)</td></tr>
<tr class="separator:a57c2db763e0cd4aa7406088fb36130c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7024f5ebc7deecf1624a034fff35b71e" id="r_a7024f5ebc7deecf1624a034fff35b71e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a7024f5ebc7deecf1624a034fff35b71e">clusterSizesPerLayer</a> (nevents)</td></tr>
<tr class="separator:a7024f5ebc7deecf1624a034fff35b71e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbec574f3bb1e509e0916eafd13df238" id="r_adbec574f3bb1e509e0916eafd13df238"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#adbec574f3bb1e509e0916eafd13df238">studyDeltaRays</a> (onlyPlots=False)</td></tr>
<tr class="separator:adbec574f3bb1e509e0916eafd13df238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30db9c4bb4ddc89186d07fdab420321" id="r_ab30db9c4bb4ddc89186d07fdab420321"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab30db9c4bb4ddc89186d07fdab420321">DTreconstructible</a> ()</td></tr>
<tr class="separator:ab30db9c4bb4ddc89186d07fdab420321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45dc39510916e2208b3896124658b23e" id="r_a45dc39510916e2208b3896124658b23e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a45dc39510916e2208b3896124658b23e">studyGhosts</a> ()</td></tr>
<tr class="separator:a45dc39510916e2208b3896124658b23e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd18bfd360a7f7a560d14349e6ea985" id="r_a6bd18bfd360a7f7a560d14349e6ea985"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a6bd18bfd360a7f7a560d14349e6ea985">studyGhostTracks</a> (nStart=0, nEnd=0, chi2UL=3, pxLow=5.)</td></tr>
<tr class="separator:a6bd18bfd360a7f7a560d14349e6ea985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a349cb0ae78f5415fc0eb126c1c1993" id="r_a2a349cb0ae78f5415fc0eb126c1c1993"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2a349cb0ae78f5415fc0eb126c1c1993">studyScintillator</a> ()</td></tr>
<tr class="separator:a2a349cb0ae78f5415fc0eb126c1c1993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4736e8db0e1f0877a220965f9299e5e" id="r_ac4736e8db0e1f0877a220965f9299e5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac4736e8db0e1f0877a220965f9299e5e">myVertex</a> (t1, t2, PosDir, xproj=False)</td></tr>
<tr class="separator:ac4736e8db0e1f0877a220965f9299e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7196a213a3bc68ee599c6a26a8f621a" id="r_ac7196a213a3bc68ee599c6a26a8f621a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac7196a213a3bc68ee599c6a26a8f621a">findV0</a> (nstart=0, nmax=-1, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a>=1)</td></tr>
<tr class="separator:ac7196a213a3bc68ee599c6a26a8f621a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494d83c54d8c3bc0358a82dd2f8dd143" id="r_a494d83c54d8c3bc0358a82dd2f8dd143"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a494d83c54d8c3bc0358a82dd2f8dd143">getEvent</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0300c9226cb21058a0167e6076c29b1d">n</a>)</td></tr>
<tr class="separator:a494d83c54d8c3bc0358a82dd2f8dd143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5711223520353f104c1db44ecf65c62f" id="r_a5711223520353f104c1db44ecf65c62f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5711223520353f104c1db44ecf65c62f">makeRTrelPersistent</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4362efdd47c16d19ace7f40dfb01ab0d">RTrelations</a>)</td></tr>
<tr class="separator:a5711223520353f104c1db44ecf65c62f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ecdd3a78b48b8e44c396fd088c596e4" id="r_a4ecdd3a78b48b8e44c396fd088c596e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4ecdd3a78b48b8e44c396fd088c596e4">makeAlignmentConstantsPersistent</a> ()</td></tr>
<tr class="separator:a4ecdd3a78b48b8e44c396fd088c596e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada45bf1dc9b69f15e8d54d85052618f5" id="r_ada45bf1dc9b69f15e8d54d85052618f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ada45bf1dc9b69f15e8d54d85052618f5">importAlignmentConstants</a> ()</td></tr>
<tr class="separator:ada45bf1dc9b69f15e8d54d85052618f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9486cd0f16eb49682dc8081bae47ab" id="r_a2e9486cd0f16eb49682dc8081bae47ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2e9486cd0f16eb49682dc8081bae47ab">importRTrel</a> ()</td></tr>
<tr class="separator:a2e9486cd0f16eb49682dc8081bae47ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1033010ffa71f9afefc7db0c616609b" id="r_af1033010ffa71f9afefc7db0c616609b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af1033010ffa71f9afefc7db0c616609b">importRTCorrection</a> ()</td></tr>
<tr class="separator:af1033010ffa71f9afefc7db0c616609b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a436151ad68971d3357aede76fc6ecb04" id="r_a436151ad68971d3357aede76fc6ecb04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a436151ad68971d3357aede76fc6ecb04">analyzeRTrel</a> ()</td></tr>
<tr class="separator:a436151ad68971d3357aede76fc6ecb04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b27234c24b3779836e499ce281c7ae2" id="r_a5b27234c24b3779836e499ce281c7ae2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5b27234c24b3779836e499ce281c7ae2">init</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2ed4cbe9dced0d91692eb8df4dfed696">database</a>='muflux_RTrelations.pkl', remake=False, withReco=False)</td></tr>
<tr class="separator:a5b27234c24b3779836e499ce281c7ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8930f0e176c12bf342443b5f740fcd96" id="r_a8930f0e176c12bf342443b5f740fcd96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a8930f0e176c12bf342443b5f740fcd96">monitorMasterTrigger</a> ()</td></tr>
<tr class="separator:a8930f0e176c12bf342443b5f740fcd96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f9a074272e484d0d5284e43b133e05" id="r_ab9f9a074272e484d0d5284e43b133e05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab9f9a074272e484d0d5284e43b133e05">disableBranches</a> ()</td></tr>
<tr class="separator:ab9f9a074272e484d0d5284e43b133e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a948acb1d86d902dad28b49e402344876" id="r_a948acb1d86d902dad28b49e402344876"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a948acb1d86d902dad28b49e402344876">checkForDiMuon</a> ()</td></tr>
<tr class="separator:a948acb1d86d902dad28b49e402344876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90fea055eb311fdd36d5801b4f18540c" id="r_a90fea055eb311fdd36d5801b4f18540c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a90fea055eb311fdd36d5801b4f18540c">muonOrigin</a> ()</td></tr>
<tr class="separator:a90fea055eb311fdd36d5801b4f18540c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e6a498a35e0b31155b98524058856a" id="r_ae5e6a498a35e0b31155b98524058856a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ae5e6a498a35e0b31155b98524058856a">splitOffBoostedEvents</a> ()</td></tr>
<tr class="separator:ae5e6a498a35e0b31155b98524058856a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0364ba7fbf684c319cc3501a90f13c2a" id="r_a0364ba7fbf684c319cc3501a90f13c2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0364ba7fbf684c319cc3501a90f13c2a">plotDTPoints</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a47aca6e0eba55397b1e10446d1adb0e6">onlyPlotting</a>=False)</td></tr>
<tr class="separator:a0364ba7fbf684c319cc3501a90f13c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2887cebdcdbd206e565d9255d5d53874" id="r_a2887cebdcdbd206e565d9255d5d53874"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2887cebdcdbd206e565d9255d5d53874">plotFitPoints</a> ()</td></tr>
<tr class="separator:a2887cebdcdbd206e565d9255d5d53874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b063360489582bc8a2ccade2996995" id="r_a83b063360489582bc8a2ccade2996995"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a83b063360489582bc8a2ccade2996995">plotEnergyLoss</a> ()</td></tr>
<tr class="separator:a83b063360489582bc8a2ccade2996995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1196888c2c707b59a056eb32f353eda" id="r_ab1196888c2c707b59a056eb32f353eda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab1196888c2c707b59a056eb32f353eda">checkMCEffTuning</a> ()</td></tr>
<tr class="separator:ab1196888c2c707b59a056eb32f353eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8d62bbcad987b3be4fdc035cb818e6" id="r_a3a8d62bbcad987b3be4fdc035cb818e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a3a8d62bbcad987b3be4fdc035cb818e6">ghostSuppression</a> (hname=&quot;sumHistos--simulation10GeV-withDeadChannels.root&quot;)</td></tr>
<tr class="separator:a3a8d62bbcad987b3be4fdc035cb818e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd18b7e6d8640f8c9005d215ebd4a05" id="r_a7cd18b7e6d8640f8c9005d215ebd4a05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a7cd18b7e6d8640f8c9005d215ebd4a05">MCcomparison</a> (pot=-1, pMin=5., pMax=300., ptMax=4., simpleEffCor=0.023, effCor=False, eric=False, version=&quot;-repro&quot;, withOverFlow=False, withDisplay=True, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a75dc20c6e4da9367878f56b702dfbcc0">cuts</a>='', noTitle=False)</td></tr>
<tr class="separator:a7cd18b7e6d8640f8c9005d215ebd4a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d9b1ba210efede244427ffad494fc90" id="r_a0d9b1ba210efede244427ffad494fc90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0d9b1ba210efede244427ffad494fc90">synchFigures</a> ()</td></tr>
<tr class="separator:a0d9b1ba210efede244427ffad494fc90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c1dd0362989fc812cc1eca6611c294d" id="r_a5c1dd0362989fc812cc1eca6611c294d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5c1dd0362989fc812cc1eca6611c294d">singlePtSlices</a> ()</td></tr>
<tr class="separator:a5c1dd0362989fc812cc1eca6611c294d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a035195a77a289c5bf29727e1727da63d" id="r_a035195a77a289c5bf29727e1727da63d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a035195a77a289c5bf29727e1727da63d">printSources</a> ()</td></tr>
<tr class="separator:a035195a77a289c5bf29727e1727da63d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628841e32bbfade168941e2cf1225cba" id="r_a628841e32bbfade168941e2cf1225cba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a628841e32bbfade168941e2cf1225cba">MCcomparisonHitmaps</a> (MC='1GeV', first=False)</td></tr>
<tr class="separator:a628841e32bbfade168941e2cf1225cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea4327fcdc0e2c3d8e3eaf6ccc2d0671" id="r_aea4327fcdc0e2c3d8e3eaf6ccc2d0671"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aea4327fcdc0e2c3d8e3eaf6ccc2d0671">MCchecks</a> ()</td></tr>
<tr class="separator:aea4327fcdc0e2c3d8e3eaf6ccc2d0671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f18ee87150e3b09b98003645394c3b" id="r_a24f18ee87150e3b09b98003645394c3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a24f18ee87150e3b09b98003645394c3b">countTracks</a> (analyse=False)</td></tr>
<tr class="separator:a24f18ee87150e3b09b98003645394c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaea00fc74e5c24b3da191d3f5fdecf5d" id="r_aaea00fc74e5c24b3da191d3f5fdecf5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aaea00fc74e5c24b3da191d3f5fdecf5d">compareRuns</a> (runs=[])</td></tr>
<tr class="separator:aaea00fc74e5c24b3da191d3f5fdecf5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d07c9388f919c0ced990dd8f12f12a" id="r_a13d07c9388f919c0ced990dd8f12f12a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a13d07c9388f919c0ced990dd8f12f12a">plotTDCExample</a> ()</td></tr>
<tr class="separator:a13d07c9388f919c0ced990dd8f12f12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac545294135b71f1452e0033147a5391d" id="r_ac545294135b71f1452e0033147a5391d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac545294135b71f1452e0033147a5391d">energyLossRPC</a> ()</td></tr>
<tr class="separator:ac545294135b71f1452e0033147a5391d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52ba111ea0c12b0c89e41d1205fa53e" id="r_aa52ba111ea0c12b0c89e41d1205fa53e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa52ba111ea0c12b0c89e41d1205fa53e">plotResidualExample</a> ()</td></tr>
<tr class="separator:aa52ba111ea0c12b0c89e41d1205fa53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3fc48e891536d5843f84479e984e9d" id="r_aad3fc48e891536d5843f84479e984e9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aad3fc48e891536d5843f84479e984e9d">residualsExamples</a> ()</td></tr>
<tr class="separator:aad3fc48e891536d5843f84479e984e9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d73b043b6c3dcaed7e8d5b6cd9e0d1c" id="r_a0d73b043b6c3dcaed7e8d5b6cd9e0d1c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0d73b043b6c3dcaed7e8d5b6cd9e0d1c">plotEffMethod2Example</a> ()</td></tr>
<tr class="separator:a0d73b043b6c3dcaed7e8d5b6cd9e0d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63561987aa967584d316174386276462" id="r_a63561987aa967584d316174386276462"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a63561987aa967584d316174386276462">plotWithRPCTrackEffExample</a> ()</td></tr>
<tr class="separator:a63561987aa967584d316174386276462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe11f846359e97351342b12c97a8af8" id="r_aafe11f846359e97351342b12c97a8af8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aafe11f846359e97351342b12c97a8af8">plotRPCResidualsExample</a> ()</td></tr>
<tr class="separator:aafe11f846359e97351342b12c97a8af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907895aae93e04cfe4e64272ed57da79" id="r_a907895aae93e04cfe4e64272ed57da79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a907895aae93e04cfe4e64272ed57da79">plotRPC3Example</a> ()</td></tr>
<tr class="separator:a907895aae93e04cfe4e64272ed57da79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af27394aff0aaef8adce9c03baf3c7db2" id="r_af27394aff0aaef8adce9c03baf3c7db2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af27394aff0aaef8adce9c03baf3c7db2">mergeGoodRuns</a> (excludeRPC=False, path='.', fromEOS=True)</td></tr>
<tr class="separator:af27394aff0aaef8adce9c03baf3c7db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbaf5795dd996d387a84980e4511f3d5" id="r_afbaf5795dd996d387a84980e4511f3d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#afbaf5795dd996d387a84980e4511f3d5">findHighMomEvents</a> ()</td></tr>
<tr class="separator:afbaf5795dd996d387a84980e4511f3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f9249d7649cb06f04f1b74e1333794f" id="r_a8f9249d7649cb06f04f1b74e1333794f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a8f9249d7649cb06f04f1b74e1333794f">fcn</a> (npar, gin, <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a637894e719175e5eb3e4a4fb4679ed7e">f</a>, par, iflag)</td></tr>
<tr class="separator:a8f9249d7649cb06f04f1b74e1333794f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfdb9569fdf2ce68851ce4f972bfd5bf" id="r_acfdb9569fdf2ce68851ce4f972bfd5bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#acfdb9569fdf2ce68851ce4f972bfd5bf">doFit</a> (p0=5.7, p1=0.17)</td></tr>
<tr class="separator:acfdb9569fdf2ce68851ce4f972bfd5bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7557d4a4f659460e4fa26f92e1428786" id="r_a7557d4a4f659460e4fa26f92e1428786"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a7557d4a4f659460e4fa26f92e1428786">doFitByHand</a> ()</td></tr>
<tr class="separator:a7557d4a4f659460e4fa26f92e1428786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad54130e953136e51bacd5f3cee3157a0" id="r_ad54130e953136e51bacd5f3cee3157a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad54130e953136e51bacd5f3cee3157a0">additionalMomSmearing</a> ()</td></tr>
<tr class="separator:ad54130e953136e51bacd5f3cee3157a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b92d3cc04bded8ccbeaa0f965c59a45" id="r_a0b92d3cc04bded8ccbeaa0f965c59a45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0b92d3cc04bded8ccbeaa0f965c59a45">myPrint</a> (obj, aname)</td></tr>
<tr class="separator:a0b92d3cc04bded8ccbeaa0f965c59a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a992b7773cd32070fc5b04a9d83540759" id="r_a992b7773cd32070fc5b04a9d83540759"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a992b7773cd32070fc5b04a9d83540759">copyRTRelation</a> ()</td></tr>
<tr class="separator:a992b7773cd32070fc5b04a9d83540759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404bd0e39285a9eddcab5f1468dd98d8" id="r_a404bd0e39285a9eddcab5f1468dd98d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a404bd0e39285a9eddcab5f1468dd98d8">recoStep0</a> ()</td></tr>
<tr class="separator:a404bd0e39285a9eddcab5f1468dd98d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaff08f23a647184a695c06287d1556f" id="r_aaaff08f23a647184a695c06287d1556f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aaaff08f23a647184a695c06287d1556f">recoStep1</a> (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a>=11)</td></tr>
<tr class="separator:aaaff08f23a647184a695c06287d1556f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f1fd47113a2e29efde7388f9510e82" id="r_a00f1fd47113a2e29efde7388f9510e82"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a00f1fd47113a2e29efde7388f9510e82">getParOfRTcorrectio</a> ()</td></tr>
<tr class="separator:a00f1fd47113a2e29efde7388f9510e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e4c822d3d3bdbb4e5128ce98bc42735" id="r_a6e4c822d3d3bdbb4e5128ce98bc42735"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a6e4c822d3d3bdbb4e5128ce98bc42735">recoStep2</a> ()</td></tr>
<tr class="separator:a6e4c822d3d3bdbb4e5128ce98bc42735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38996741f5f9baa8396b08fb1567254c" id="r_a38996741f5f9baa8396b08fb1567254c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a38996741f5f9baa8396b08fb1567254c">recoMuonTaggerTracks</a> ()</td></tr>
<tr class="separator:a38996741f5f9baa8396b08fb1567254c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0973c8eccfb22be2d5b0f73a2c8eb39e" id="r_a0973c8eccfb22be2d5b0f73a2c8eb39e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0973c8eccfb22be2d5b0f73a2c8eb39e">anaResiduals</a> ()</td></tr>
<tr class="separator:a0973c8eccfb22be2d5b0f73a2c8eb39e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7b3861a38f9ffc3334fd75fa17f075d5" id="r_a7b3861a38f9ffc3334fd75fa17f075d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a7b3861a38f9ffc3334fd75fa17f075d5">PDG</a> = ROOT.TDatabasePDG.Instance()</td></tr>
<tr class="separator:a7b3861a38f9ffc3334fd75fa17f075d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4784cc035e2ef062771e9a11b0a280f" id="r_ad4784cc035e2ef062771e9a11b0a280f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad4784cc035e2ef062771e9a11b0a280f">timer</a> = ROOT.TStopwatch()</td></tr>
<tr class="separator:ad4784cc035e2ef062771e9a11b0a280f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d51328433cea18605b9a14c1cf1f67b" id="r_a4d51328433cea18605b9a14c1cf1f67b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4d51328433cea18605b9a14c1cf1f67b">gErrorIgnoreLevel</a></td></tr>
<tr class="separator:a4d51328433cea18605b9a14c1cf1f67b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a82aaff9fd279a87b4798d8742874c" id="r_a18a82aaff9fd279a87b4798d8742874c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a18a82aaff9fd279a87b4798d8742874c">zeroField</a> = False</td></tr>
<tr class="separator:a18a82aaff9fd279a87b4798d8742874c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705500e79a2277f296896c0f1a1e83e1" id="r_a705500e79a2277f296896c0f1a1e83e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a705500e79a2277f296896c0f1a1e83e1">DAFfitter</a> = True</td></tr>
<tr class="separator:a705500e79a2277f296896c0f1a1e83e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac36be2f5c0d0c692a444f3d3a186b2b" id="r_aac36be2f5c0d0c692a444f3d3a186b2b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aac36be2f5c0d0c692a444f3d3a186b2b">withMaterial</a> = True</td></tr>
<tr class="separator:aac36be2f5c0d0c692a444f3d3a186b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a6f50db891025c690051a1ab83b6bd" id="r_a32a6f50db891025c690051a1ab83b6bd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a32a6f50db891025c690051a1ab83b6bd">MCdata</a> = False</td></tr>
<tr class="separator:a32a6f50db891025c690051a1ab83b6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d82ab9b14c8c52f88aad063ff017cb6" id="r_a2d82ab9b14c8c52f88aad063ff017cb6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2d82ab9b14c8c52f88aad063ff017cb6">MCsmearing</a> = 0.022</td></tr>
<tr class="memdesc:a2d82ab9b14c8c52f88aad063ff017cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">before RT correction: MCsmearing=0.04 # + 0.027**2 -&gt; 0.05 <br  />
  <br /></td></tr>
<tr class="separator:a2d82ab9b14c8c52f88aad063ff017cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75dc20c6e4da9367878f56b702dfbcc0" id="r_a75dc20c6e4da9367878f56b702dfbcc0"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a75dc20c6e4da9367878f56b702dfbcc0">cuts</a> = {}</td></tr>
<tr class="separator:a75dc20c6e4da9367878f56b702dfbcc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c3f721ff189e365921c0e1f9597761" id="r_a41c3f721ff189e365921c0e1f9597761"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a41c3f721ff189e365921c0e1f9597761">vbot</a> = ROOT.TVector3()</td></tr>
<tr class="separator:a41c3f721ff189e365921c0e1f9597761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55852f87a90f7ead855200283efc9e91" id="r_a55852f87a90f7ead855200283efc9e91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a55852f87a90f7ead855200283efc9e91">vtop</a> = ROOT.TVector3()</td></tr>
<tr class="separator:a55852f87a90f7ead855200283efc9e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ba70fb44f04610a28aee25d3458587" id="r_a27ba70fb44f04610a28aee25d3458587"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a27ba70fb44f04610a28aee25d3458587">alignConstants</a> = {}</td></tr>
<tr class="separator:a27ba70fb44f04610a28aee25d3458587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235bb5e32c7e7d7c71109654a19e16ed" id="r_a235bb5e32c7e7d7c71109654a19e16ed"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a235bb5e32c7e7d7c71109654a19e16ed">h</a> = {}</td></tr>
<tr class="separator:a235bb5e32c7e7d7c71109654a19e16ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8cf5e21d8737d95d13d1f2681a4970" id="r_a1c8cf5e21d8737d95d13d1f2681a4970"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1c8cf5e21d8737d95d13d1f2681a4970">log</a> = {}</td></tr>
<tr class="separator:a1c8cf5e21d8737d95d13d1f2681a4970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566a82fa4c2d17443cd7b4ea12777caf" id="r_a566a82fa4c2d17443cd7b4ea12777caf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a566a82fa4c2d17443cd7b4ea12777caf">debug</a> = False</td></tr>
<tr class="separator:a566a82fa4c2d17443cd7b4ea12777caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc018b3a888f4415d45db857c32d6fa9" id="r_afc018b3a888f4415d45db857c32d6fa9"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#afc018b3a888f4415d45db857c32d6fa9">views</a> = {1:['_x','_u'],2:['_x','_v'],3:['_x'],4:['_x']}</td></tr>
<tr class="separator:afc018b3a888f4415d45db857c32d6fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce13d27c7f5d58800facc89739d2a3d" id="r_acce13d27c7f5d58800facc89739d2a3d"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#acce13d27c7f5d58800facc89739d2a3d">viewsI</a> = {1:[0,1],2:[0,2],3:[0],4:[0]}</td></tr>
<tr class="separator:acce13d27c7f5d58800facc89739d2a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35292ba2e47bb1b08636a663657ef3c" id="r_ad35292ba2e47bb1b08636a663657ef3c"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad35292ba2e47bb1b08636a663657ef3c">viewC</a> = {0:&quot;_x&quot;,1:&quot;_u&quot;,2:&quot;_v&quot;}</td></tr>
<tr class="separator:ad35292ba2e47bb1b08636a663657ef3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8855842f9bce91ebf2419f9d1da48bf" id="r_ae8855842f9bce91ebf2419f9d1da48bf"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ae8855842f9bce91ebf2419f9d1da48bf">muSources</a> = {'eta':221,'omega':223,'phi':333,'rho0':113,'eta_prime':331}</td></tr>
<tr class="separator:ae8855842f9bce91ebf2419f9d1da48bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a92314e6031ad77bc6e49142d6f2fc" id="r_a80a92314e6031ad77bc6e49142d6f2fc"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a80a92314e6031ad77bc6e49142d6f2fc">muSourcesIDs</a> = muSources.values()</td></tr>
<tr class="separator:a80a92314e6031ad77bc6e49142d6f2fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3321ff07000e57ead794677c9ea8960f" id="r_a3321ff07000e57ead794677c9ea8960f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a3321ff07000e57ead794677c9ea8960f">rnr</a> = ROOT.TRandom()</td></tr>
<tr class="separator:a3321ff07000e57ead794677c9ea8960f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3644b1d16b2524b6d8878658ad576890" id="r_a3644b1d16b2524b6d8878658ad576890"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a3644b1d16b2524b6d8878658ad576890">parser</a> = ArgumentParser()</td></tr>
<tr class="separator:a3644b1d16b2524b6d8878658ad576890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4761262924c3ec5c89e319afab5084a9" id="r_a4761262924c3ec5c89e319afab5084a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4761262924c3ec5c89e319afab5084a9">dest</a></td></tr>
<tr class="separator:a4761262924c3ec5c89e319afab5084a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d1e64db089b1ac12b4bd0b07b2ae1d" id="r_aa0d1e64db089b1ac12b4bd0b07b2ae1d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa0d1e64db089b1ac12b4bd0b07b2ae1d">help</a></td></tr>
<tr class="separator:aa0d1e64db089b1ac12b4bd0b07b2ae1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c73e3c55f35ff6a3f7e225e687ddbb0" id="r_a4c73e3c55f35ff6a3f7e225e687ddbb0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4c73e3c55f35ff6a3f7e225e687ddbb0">required</a></td></tr>
<tr class="separator:a4c73e3c55f35ff6a3f7e225e687ddbb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4749bb547bfa6c16d7505ad56c9e17" id="r_a6d4749bb547bfa6c16d7505ad56c9e17"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a6d4749bb547bfa6c16d7505ad56c9e17">default</a></td></tr>
<tr class="separator:a6d4749bb547bfa6c16d7505ad56c9e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ec0290ec701bbefc8cde7570a8ddcd" id="r_a93ec0290ec701bbefc8cde7570a8ddcd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a93ec0290ec701bbefc8cde7570a8ddcd">options</a> = parser.parse_args()</td></tr>
<tr class="separator:a93ec0290ec701bbefc8cde7570a8ddcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a22db7ffcf8772d4b219ff3552fb610" id="r_a4a22db7ffcf8772d4b219ff3552fb610"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4a22db7ffcf8772d4b219ff3552fb610">fnames</a> = []</td></tr>
<tr class="separator:a4a22db7ffcf8772d4b219ff3552fb610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a983c4ccffa135d77a12bed4ff546e7c4" id="r_a983c4ccffa135d77a12bed4ff546e7c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a983c4ccffa135d77a12bed4ff546e7c4">tmp</a> = open(options.listOfFiles)</td></tr>
<tr class="separator:a983c4ccffa135d77a12bed4ff546e7c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74b7d484c149574cf545c7ac39623dcb" id="r_a74b7d484c149574cf545c7ac39623dcb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a74b7d484c149574cf545c7ac39623dcb">fname</a> = x.replace('\<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0300c9226cb21058a0167e6076c29b1d">n</a>','')</td></tr>
<tr class="separator:a74b7d484c149574cf545c7ac39623dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637894e719175e5eb3e4a4fb4679ed7e" id="r_a637894e719175e5eb3e4a4fb4679ed7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a637894e719175e5eb3e4a4fb4679ed7e">f</a> = ROOT.TFile.Open(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a74b7d484c149574cf545c7ac39623dcb">fname</a>)</td></tr>
<tr class="separator:a637894e719175e5eb3e4a4fb4679ed7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e7c16960758f46030c0dea49a1415a" id="r_a98e7c16960758f46030c0dea49a1415a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a98e7c16960758f46030c0dea49a1415a">sTree</a> = f.cbmsim</td></tr>
<tr class="separator:a98e7c16960758f46030c0dea49a1415a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade2b21e5f95220cb014c69bc230a789b" id="r_ade2b21e5f95220cb014c69bc230a789b"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ade2b21e5f95220cb014c69bc230a789b">rnames</a> = []</td></tr>
<tr class="separator:ade2b21e5f95220cb014c69bc230a789b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4807fe8ffcbe7e4d2d9f8d9ba94708" id="r_a0a4807fe8ffcbe7e4d2d9f8d9ba94708"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0a4807fe8ffcbe7e4d2d9f8d9ba94708">rname</a> = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ade2b21e5f95220cb014c69bc230a789b">rnames</a>[0]</td></tr>
<tr class="separator:a0a4807fe8ffcbe7e4d2d9f8d9ba94708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd03083f387ebb91ada737ea545f614" id="r_a1dd03083f387ebb91ada737ea545f614"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1dd03083f387ebb91ada737ea545f614">ShipGeo</a> = <a class="el" href="classShipGeoConfig_1_1ConfigRegistry.html#a579c538b81f23509dad5293c9c323858">ConfigRegistry.loadpy</a>(&quot;$FAIRSHIP/geometry/charm-geometry_config.py&quot;)</td></tr>
<tr class="separator:a1dd03083f387ebb91ada737ea545f614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c252a291c9a6a2611037a1a18f1f87" id="r_a36c252a291c9a6a2611037a1a18f1f87"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a36c252a291c9a6a2611037a1a18f1f87">fgeo</a> = ROOT.TFile.Open(options.geoFile)</td></tr>
<tr class="separator:a36c252a291c9a6a2611037a1a18f1f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dfd8329ebc82be3a935abaf8403b441" id="r_a2dfd8329ebc82be3a935abaf8403b441"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2dfd8329ebc82be3a935abaf8403b441">upkl</a> = <a class="el" href="classrootpyPickler_1_1Unpickler.html">Unpickler</a>(options.geoFile)</td></tr>
<tr class="separator:a2dfd8329ebc82be3a935abaf8403b441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5703139b30484fb1f862568a62a2834" id="r_ab5703139b30484fb1f862568a62a2834"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab5703139b30484fb1f862568a62a2834">run</a> = ROOT.FairRunSim()</td></tr>
<tr class="separator:ab5703139b30484fb1f862568a62a2834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d19b0cc2dd27555126fb882e6fe6734" id="r_a2d19b0cc2dd27555126fb882e6fe6734"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2d19b0cc2dd27555126fb882e6fe6734">rtdb</a> = run.GetRuntimeDb()</td></tr>
<tr class="separator:a2d19b0cc2dd27555126fb882e6fe6734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aedb05c47f1d0f9024ce8edc4bb9497" id="r_a7aedb05c47f1d0f9024ce8edc4bb9497"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a7aedb05c47f1d0f9024ce8edc4bb9497">modules</a> = <a class="el" href="namespacecharmDet__conf.html#a21d409da8df880da22b2f93d09061311">charmDet_conf.configure</a>(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab5703139b30484fb1f862568a62a2834">run</a>,<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1dd03083f387ebb91ada737ea545f614">ShipGeo</a>)</td></tr>
<tr class="separator:a7aedb05c47f1d0f9024ce8edc4bb9497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc80dee85740259a4c979b6d7432178" id="r_aedc80dee85740259a4c979b6d7432178"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aedc80dee85740259a4c979b6d7432178">sGeo</a> = ROOT.gGeoManager</td></tr>
<tr class="separator:aedc80dee85740259a4c979b6d7432178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f4b6e15d66500c584136de0c3fc2fd" id="r_a58f4b6e15d66500c584136de0c3fc2fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a58f4b6e15d66500c584136de0c3fc2fd">nav</a> = sGeo.GetCurrentNavigator()</td></tr>
<tr class="separator:a58f4b6e15d66500c584136de0c3fc2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f75d8ae8cd0e24f5478929b5ebf22d" id="r_ad2f75d8ae8cd0e24f5478929b5ebf22d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad2f75d8ae8cd0e24f5478929b5ebf22d">top</a> = sGeo.GetTopVolume()</td></tr>
<tr class="separator:ad2f75d8ae8cd0e24f5478929b5ebf22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b6ba729759d46ee8f06c33917792b3" id="r_a82b6ba729759d46ee8f06c33917792b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a82b6ba729759d46ee8f06c33917792b3">saveGeofile</a> = False</td></tr>
<tr class="separator:a82b6ba729759d46ee8f06c33917792b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9b80b54b3c4dcb48ad31a90fe10e86" id="r_a7d9b80b54b3c4dcb48ad31a90fe10e86"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a7d9b80b54b3c4dcb48ad31a90fe10e86">xpos</a> = {}</td></tr>
<tr class="separator:a7d9b80b54b3c4dcb48ad31a90fe10e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4ca3bb155668caea4d7164ff6f7dd9" id="r_a6d4ca3bb155668caea4d7164ff6f7dd9"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a6d4ca3bb155668caea4d7164ff6f7dd9">xposb</a> = {}</td></tr>
<tr class="separator:a6d4ca3bb155668caea4d7164ff6f7dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac30616e7f4e33cdceff214093fd110" id="r_afac30616e7f4e33cdceff214093fd110"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#afac30616e7f4e33cdceff214093fd110">ypos</a> = {}</td></tr>
<tr class="separator:afac30616e7f4e33cdceff214093fd110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e3387eac5652c4687bf0888b85222a3" id="r_a6e3387eac5652c4687bf0888b85222a3"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a6e3387eac5652c4687bf0888b85222a3">yposb</a> = {}</td></tr>
<tr class="separator:a6e3387eac5652c4687bf0888b85222a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82799a00480ce1306d41160c70e4bc4b" id="r_a82799a00480ce1306d41160c70e4bc4b"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a82799a00480ce1306d41160c70e4bc4b">zpos</a> = {}</td></tr>
<tr class="separator:a82799a00480ce1306d41160c70e4bc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3337d51ab47cbec42a610c53380fcda8" id="r_a3337d51ab47cbec42a610c53380fcda8"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a3337d51ab47cbec42a610c53380fcda8">residuals</a> = [0.]*24</td></tr>
<tr class="separator:a3337d51ab47cbec42a610c53380fcda8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8e13c148a5d8e0cffe661bc96f685a" id="r_a1a8e13c148a5d8e0cffe661bc96f685a"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1a8e13c148a5d8e0cffe661bc96f685a">Nchannels</a> = {1:12,2:12,3:48,4:48}</td></tr>
<tr class="separator:a1a8e13c148a5d8e0cffe661bc96f685a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a160f64cb0104b6062ebf34f32af4fe2f" id="r_a160f64cb0104b6062ebf34f32af4fe2f"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a160f64cb0104b6062ebf34f32af4fe2f">survey</a> = {}</td></tr>
<tr class="separator:a160f64cb0104b6062ebf34f32af4fe2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9166c56d0286bf4c83fbfe2cf6733b9a" id="r_a9166c56d0286bf4c83fbfe2cf6733b9a"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a> = {}</td></tr>
<tr class="separator:a9166c56d0286bf4c83fbfe2cf6733b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae69bf6a30e7325eb97acc2f3f63631a9" id="r_ae69bf6a30e7325eb97acc2f3f63631a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ae69bf6a30e7325eb97acc2f3f63631a9">api_factory</a> = <a class="el" href="classconditionsDatabase_1_1factory_1_1APIFactory.html">APIFactory</a>()</td></tr>
<tr class="separator:ae69bf6a30e7325eb97acc2f3f63631a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6484505109e9e229d98340c3fe91d8df" id="r_a6484505109e9e229d98340c3fe91d8df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a6484505109e9e229d98340c3fe91d8df">conditionsDB</a> = api_factory.construct_DB_API()</td></tr>
<tr class="separator:a6484505109e9e229d98340c3fe91d8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97415ab0ae5e93fb3c63f9a204635c06" id="r_a97415ab0ae5e93fb3c63f9a204635c06"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a97415ab0ae5e93fb3c63f9a204635c06">Lcorrection</a> = {}</td></tr>
<tr class="separator:a97415ab0ae5e93fb3c63f9a204635c06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5caf934adf3dea1063702364894702fa" id="r_a5caf934adf3dea1063702364894702fa"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5caf934adf3dea1063702364894702fa">surveyXYZ</a> = {}</td></tr>
<tr class="separator:a5caf934adf3dea1063702364894702fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f1ab73c153a3bfdea2eb6fddc05c18" id="r_a91f1ab73c153a3bfdea2eb6fddc05c18"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a91f1ab73c153a3bfdea2eb6fddc05c18">Langle</a> = {}</td></tr>
<tr class="separator:a91f1ab73c153a3bfdea2eb6fddc05c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab166aed8fa034e4034f32e59d03cfe67" id="r_ab166aed8fa034e4034f32e59d03cfe67"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab166aed8fa034e4034f32e59d03cfe67">delx</a> = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5caf934adf3dea1063702364894702fa">surveyXYZ</a>[s+'01'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5caf934adf3dea1063702364894702fa">surveyXYZ</a>[s+'04'][0]</td></tr>
<tr class="separator:ab166aed8fa034e4034f32e59d03cfe67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa59067d5eed04a2a4466c86d9024f68c" id="r_aa59067d5eed04a2a4466c86d9024f68c"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa59067d5eed04a2a4466c86d9024f68c">dely</a> = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5caf934adf3dea1063702364894702fa">surveyXYZ</a>[s+'01'][1]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5caf934adf3dea1063702364894702fa">surveyXYZ</a>[s+'04'][1]</td></tr>
<tr class="separator:aa59067d5eed04a2a4466c86d9024f68c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e37896fee417eb26379057dc702c406" id="r_a5e37896fee417eb26379057dc702c406"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5e37896fee417eb26379057dc702c406">a</a></td></tr>
<tr class="separator:a5e37896fee417eb26379057dc702c406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c7882c5477e077b87eb552375aa76a" id="r_a26c7882c5477e077b87eb552375aa76a"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a26c7882c5477e077b87eb552375aa76a">delta</a> = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>[s+'1'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>[s+'2'][0]</td></tr>
<tr class="separator:a26c7882c5477e077b87eb552375aa76a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0091556b92e06a413f4dfa3c8bac1e9f" id="r_a0091556b92e06a413f4dfa3c8bac1e9f"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0091556b92e06a413f4dfa3c8bac1e9f">rc</a> = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a235bb5e32c7e7d7c71109654a19e16ed">h</a>['lengthCalibration'].Fill(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a26c7882c5477e077b87eb552375aa76a">delta</a>-45.2)</td></tr>
<tr class="separator:a0091556b92e06a413f4dfa3c8bac1e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56700d70f009945fdc241896bf1f6221" id="r_a56700d70f009945fdc241896bf1f6221"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a56700d70f009945fdc241896bf1f6221">rn</a> = {}</td></tr>
<tr class="separator:a56700d70f009945fdc241896bf1f6221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a8590514d794467691675f27a4fde0" id="r_af7a8590514d794467691675f27a4fde0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af7a8590514d794467691675f27a4fde0">test</a> = ROOT.MufluxSpectrometerHit(10002012,0.)</td></tr>
<tr class="separator:af7a8590514d794467691675f27a4fde0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cc37d2804c4ec862797eaf441dac280" id="r_a5cc37d2804c4ec862797eaf441dac280"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5cc37d2804c4ec862797eaf441dac280">deltaZ</a> = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a82799a00480ce1306d41160c70e4bc4b">zpos</a>['T1X']-(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a41c3f721ff189e365921c0e1f9597761">vbot</a>[2]+<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a55852f87a90f7ead855200283efc9e91">vtop</a>[2])/2.</td></tr>
<tr class="separator:a5cc37d2804c4ec862797eaf441dac280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0300c9226cb21058a0167e6076c29b1d" id="r_a0300c9226cb21058a0167e6076c29b1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0300c9226cb21058a0167e6076c29b1d">n</a> = 10002012</td></tr>
<tr class="separator:a0300c9226cb21058a0167e6076c29b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf58c8e5683cef7081a12d534f05739" id="r_abaf58c8e5683cef7081a12d534f05739"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#abaf58c8e5683cef7081a12d534f05739">start</a> = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MA_01'][0]</td></tr>
<tr class="separator:abaf58c8e5683cef7081a12d534f05739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7ac1e501fe47f63a8e95f2828e9eb48" id="r_ab7ac1e501fe47f63a8e95f2828e9eb48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab7ac1e501fe47f63a8e95f2828e9eb48">angleu1</a> = ROOT.TMath.ATan2((<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_01'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_04'][0]),(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_01'][1]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_04'][1]))</td></tr>
<tr class="separator:ab7ac1e501fe47f63a8e95f2828e9eb48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023dca9a903e5159aba7dc32313b9fe4" id="r_a023dca9a903e5159aba7dc32313b9fe4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a023dca9a903e5159aba7dc32313b9fe4">angleu2</a> = ROOT.TMath.ATan2((<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_02'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_03'][0]),(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_02'][1]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_03'][1]))</td></tr>
<tr class="separator:a023dca9a903e5159aba7dc32313b9fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac936ad10b14863cf91ad1c58eecda138" id="r_ac936ad10b14863cf91ad1c58eecda138"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac936ad10b14863cf91ad1c58eecda138">angleu</a> = (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab7ac1e501fe47f63a8e95f2828e9eb48">angleu1</a>+<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a023dca9a903e5159aba7dc32313b9fe4">angleu2</a>)/2.</td></tr>
<tr class="separator:ac936ad10b14863cf91ad1c58eecda138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f042ac8d5c79bab81997961ad3ee23" id="r_ab2f042ac8d5c79bab81997961ad3ee23"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab2f042ac8d5c79bab81997961ad3ee23">angle</a> = -<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac936ad10b14863cf91ad1c58eecda138">angleu</a></td></tr>
<tr class="separator:ab2f042ac8d5c79bab81997961ad3ee23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f1345c58a900b14a291d1e93e03299" id="r_af6f1345c58a900b14a291d1e93e03299"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af6f1345c58a900b14a291d1e93e03299">tx</a> = tx/4.</td></tr>
<tr class="separator:af6f1345c58a900b14a291d1e93e03299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af50c3e3be85d4740278515eda8e6f902" id="r_af50c3e3be85d4740278515eda8e6f902"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af50c3e3be85d4740278515eda8e6f902">ty</a> = ty/4.</td></tr>
<tr class="separator:af50c3e3be85d4740278515eda8e6f902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c800df226d66062268fa28c3e0c7f7a" id="r_a1c800df226d66062268fa28c3e0c7f7a"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1c800df226d66062268fa28c3e0c7f7a">p</a> = 'T1_MB_0'+str(i)</td></tr>
<tr class="separator:a1c800df226d66062268fa28c3e0c7f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa745e9ba3ed7794bba358bebbc24cd43" id="r_aa745e9ba3ed7794bba358bebbc24cd43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa745e9ba3ed7794bba358bebbc24cd43">L</a> = 110.</td></tr>
<tr class="separator:aa745e9ba3ed7794bba358bebbc24cd43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe86f801bc550e1aa6be07460089d71b" id="r_afe86f801bc550e1aa6be07460089d71b"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#afe86f801bc550e1aa6be07460089d71b">xnom</a> = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#abaf58c8e5683cef7081a12d534f05739">start</a> - <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a26c7882c5477e077b87eb552375aa76a">delta</a> * i</td></tr>
<tr class="separator:afe86f801bc550e1aa6be07460089d71b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92150c9e46628a603ed1978bb916ab13" id="r_a92150c9e46628a603ed1978bb916ab13"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a92150c9e46628a603ed1978bb916ab13">ynom</a> = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa745e9ba3ed7794bba358bebbc24cd43">L</a>/2.</td></tr>
<tr class="separator:a92150c9e46628a603ed1978bb916ab13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a8c3580a7e27ff53fb60aa0ddbc80bd" id="r_a2a8c3580a7e27ff53fb60aa0ddbc80bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2a8c3580a7e27ff53fb60aa0ddbc80bd">anglev1</a> = ROOT.TMath.ATan2((<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_02'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_03'][0]),(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_02'][1]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_03'][1]))</td></tr>
<tr class="separator:a2a8c3580a7e27ff53fb60aa0ddbc80bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca2e19b9858c33a1c41420948e51dd49" id="r_aca2e19b9858c33a1c41420948e51dd49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aca2e19b9858c33a1c41420948e51dd49">anglev2</a> = ROOT.TMath.ATan2((<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_01'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_04'][0]),(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_01'][1]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_04'][1]))</td></tr>
<tr class="separator:aca2e19b9858c33a1c41420948e51dd49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d18af5aa1dc2614fa008932bd43ef9c" id="r_a0d18af5aa1dc2614fa008932bd43ef9c"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0d18af5aa1dc2614fa008932bd43ef9c">anglev</a> = (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2a8c3580a7e27ff53fb60aa0ddbc80bd">anglev1</a>+<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aca2e19b9858c33a1c41420948e51dd49">anglev2</a>)/2.</td></tr>
<tr class="separator:a0d18af5aa1dc2614fa008932bd43ef9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede22303843a29a0e309f77331129bf9" id="r_aede22303843a29a0e309f77331129bf9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aede22303843a29a0e309f77331129bf9">r</a> = ROOT.TMath.Sqrt(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab166aed8fa034e4034f32e59d03cfe67">delx</a>**2+<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa59067d5eed04a2a4466c86d9024f68c">dely</a>**2)</td></tr>
<tr class="separator:aede22303843a29a0e309f77331129bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4759aa4af95897bf1c4e6b7e91a96797" id="r_a4759aa4af95897bf1c4e6b7e91a96797"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4759aa4af95897bf1c4e6b7e91a96797">rpc</a> = {}</td></tr>
<tr class="separator:a4759aa4af95897bf1c4e6b7e91a96797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905e4158bf8bf3fa99a2c17f9c19942b" id="r_a905e4158bf8bf3fa99a2c17f9c19942b"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a905e4158bf8bf3fa99a2c17f9c19942b">DT</a> = {}</td></tr>
<tr class="separator:a905e4158bf8bf3fa99a2c17f9c19942b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef9f9b1b7004df7dfd550c45a83226b5" id="r_aef9f9b1b7004df7dfd550c45a83226b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aef9f9b1b7004df7dfd550c45a83226b5">withTDC</a> = True</td></tr>
<tr class="separator:aef9f9b1b7004df7dfd550c45a83226b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75660a12f35101f968a4bf6f555ca858" id="r_a75660a12f35101f968a4bf6f555ca858"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a75660a12f35101f968a4bf6f555ca858">withDefaultAlignment</a> = True</td></tr>
<tr class="separator:a75660a12f35101f968a4bf6f555ca858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1919eef47bc12b9b94568f2ff63bf49f" id="r_a1919eef47bc12b9b94568f2ff63bf49f"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1919eef47bc12b9b94568f2ff63bf49f">viewDict</a> = {0:'_x',1:'_u',2:'_v'}</td></tr>
<tr class="separator:a1919eef47bc12b9b94568f2ff63bf49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec9ff61c1b8d23035fd59f1f94e727bc" id="r_aec9ff61c1b8d23035fd59f1f94e727bc"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aec9ff61c1b8d23035fd59f1f94e727bc">tdcIds</a></td></tr>
<tr class="separator:aec9ff61c1b8d23035fd59f1f94e727bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b09fb2b4557b41bcadd86524548986" id="r_ab9b09fb2b4557b41bcadd86524548986"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab9b09fb2b4557b41bcadd86524548986">xLayers</a> = {}</td></tr>
<tr class="separator:ab9b09fb2b4557b41bcadd86524548986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9498c476feca62360bfc545bb39d2328" id="r_a9498c476feca62360bfc545bb39d2328"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9498c476feca62360bfc545bb39d2328">channels</a> = {}</td></tr>
<tr class="separator:a9498c476feca62360bfc545bb39d2328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2309e9fc8c297156c5977adca2c8a4cb" id="r_a2309e9fc8c297156c5977adca2c8a4cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2309e9fc8c297156c5977adca2c8a4cb">v</a> = 0</td></tr>
<tr class="separator:a2309e9fc8c297156c5977adca2c8a4cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab18b4ab42922c1e7a0bc0cfddfcdef4c" id="r_ab18b4ab42922c1e7a0bc0cfddfcdef4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab18b4ab42922c1e7a0bc0cfddfcdef4c">myDetID</a> = s * 1000 + <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2309e9fc8c297156c5977adca2c8a4cb">v</a> * 100 + <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1c800df226d66062268fa28c3e0c7f7a">p</a> * 10 + l</td></tr>
<tr class="separator:ab18b4ab42922c1e7a0bc0cfddfcdef4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a006780f41095e8f94dd9399d78ba8924" id="r_a006780f41095e8f94dd9399d78ba8924"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a006780f41095e8f94dd9399d78ba8924">noiseThreshold</a> = 10</td></tr>
<tr class="separator:a006780f41095e8f94dd9399d78ba8924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4107d3e1add9a8e433fb4aebd7696b2c" id="r_a4107d3e1add9a8e433fb4aebd7696b2c"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4107d3e1add9a8e433fb4aebd7696b2c">noisyChannels</a> = []</td></tr>
<tr class="separator:a4107d3e1add9a8e433fb4aebd7696b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e642078dfb9e6e958a7e4c5ebde6d1e" id="r_a5e642078dfb9e6e958a7e4c5ebde6d1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5e642078dfb9e6e958a7e4c5ebde6d1e">deadChannels4MC</a> = ROOT.std.vector('int')()</td></tr>
<tr class="separator:a5e642078dfb9e6e958a7e4c5ebde6d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729579336989870294da6b0cc7d59a8e" id="r_a729579336989870294da6b0cc7d59a8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a729579336989870294da6b0cc7d59a8e">deadChannelsRPC4MC</a> = ROOT.std.vector('int')()</td></tr>
<tr class="separator:a729579336989870294da6b0cc7d59a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d28233b55089f60d339b47f175d530d" id="r_a5d28233b55089f60d339b47f175d530d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5d28233b55089f60d339b47f175d530d">gol</a> = sGeo.GetTopVolume().GetNode(&quot;volGoliath_1&quot;)</td></tr>
<tr class="separator:a5d28233b55089f60d339b47f175d530d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4052a011ed9a6f77527a66590214067e" id="r_a4052a011ed9a6f77527a66590214067e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4052a011ed9a6f77527a66590214067e">zgoliath</a> = gol.GetMatrix().GetTranslation()[2]</td></tr>
<tr class="separator:a4052a011ed9a6f77527a66590214067e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad65122cb6cca30a33be3d5a5f3d97dd9" id="r_ad65122cb6cca30a33be3d5a5f3d97dd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad65122cb6cca30a33be3d5a5f3d97dd9">vol</a> = nav.GetCurrentNode()</td></tr>
<tr class="separator:ad65122cb6cca30a33be3d5a5f3d97dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab606fe7ed19bf2ea186be60cb25e8b16" id="r_ab606fe7ed19bf2ea186be60cb25e8b16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab606fe7ed19bf2ea186be60cb25e8b16">shape</a> = vol.GetVolume().GetShape()</td></tr>
<tr class="separator:ab606fe7ed19bf2ea186be60cb25e8b16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab621e956ba8449383d1cea513d603137" id="r_ab621e956ba8449383d1cea513d603137"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab621e956ba8449383d1cea513d603137">local</a> = array('d',[0,0,0])</td></tr>
<tr class="separator:ab621e956ba8449383d1cea513d603137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090bbecbe87ba52398b4566b69faf8c3" id="r_a090bbecbe87ba52398b4566b69faf8c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a090bbecbe87ba52398b4566b69faf8c3">globOrigin</a> = array('d',[0,0,0])</td></tr>
<tr class="separator:a090bbecbe87ba52398b4566b69faf8c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fdfb80588ce7a3a05e81e7a7f393f91" id="r_a2fdfb80588ce7a3a05e81e7a7f393f91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2fdfb80588ce7a3a05e81e7a7f393f91">loc</a> = array('d',[0,0,0])</td></tr>
<tr class="separator:a2fdfb80588ce7a3a05e81e7a7f393f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e06c40cc40da9952198e29407f56879" id="r_a4e06c40cc40da9952198e29407f56879"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4e06c40cc40da9952198e29407f56879">glob</a> = array('d',[0,0,0])</td></tr>
<tr class="separator:a4e06c40cc40da9952198e29407f56879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ee05d960a3ec9902baa039dd291c77" id="r_af8ee05d960a3ec9902baa039dd291c77"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af8ee05d960a3ec9902baa039dd291c77">zRPC1</a> = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4e06c40cc40da9952198e29407f56879">glob</a>[2]</td></tr>
<tr class="separator:af8ee05d960a3ec9902baa039dd291c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50f41b0cafa1d4c18cfd054725736ce4" id="r_a50f41b0cafa1d4c18cfd054725736ce4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a50f41b0cafa1d4c18cfd054725736ce4">node</a> = nav.GetCurrentNode()</td></tr>
<tr class="separator:a50f41b0cafa1d4c18cfd054725736ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ba8c265e14509f1ff33d5852c8bc70" id="r_ac1ba8c265e14509f1ff33d5852c8bc70"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac1ba8c265e14509f1ff33d5852c8bc70">dx</a> = node.GetVolume().GetShape().GetDX()</td></tr>
<tr class="separator:ac1ba8c265e14509f1ff33d5852c8bc70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b9542bd6e928eeca5c80195476f914" id="r_a75b9542bd6e928eeca5c80195476f914"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a75b9542bd6e928eeca5c80195476f914">dy</a> = node.GetVolume().GetShape().GetDY()</td></tr>
<tr class="separator:a75b9542bd6e928eeca5c80195476f914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f3b88d3bcf940aa1750fadf8b11daa" id="r_a22f3b88d3bcf940aa1750fadf8b11daa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a22f3b88d3bcf940aa1750fadf8b11daa">xSHiP</a> = ROOT.TTreeReader(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a98e7c16960758f46030c0dea49a1415a">sTree</a>)</td></tr>
<tr class="separator:a22f3b88d3bcf940aa1750fadf8b11daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad34e16c3f55b860db57267f6e5f7a560" id="r_ad34e16c3f55b860db57267f6e5f7a560"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad34e16c3f55b860db57267f6e5f7a560">muflux_Reco</a> = ROOT.MufluxReco(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a22f3b88d3bcf940aa1750fadf8b11daa">xSHiP</a>)</td></tr>
<tr class="separator:ad34e16c3f55b860db57267f6e5f7a560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc34cec7841abb88e0d8133383958b4d" id="r_afc34cec7841abb88e0d8133383958b4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#afc34cec7841abb88e0d8133383958b4d">method</a></td></tr>
<tr class="separator:afc34cec7841abb88e0d8133383958b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b9b1af8b073464ba0a84b79a965280" id="r_a83b9b1af8b073464ba0a84b79a965280"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a83b9b1af8b073464ba0a84b79a965280">gMan</a> = ROOT.gGeoManager</td></tr>
<tr class="separator:a83b9b1af8b073464ba0a84b79a965280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b3432e5caf74e810cfb822c2c3eb949" id="r_a9b3432e5caf74e810cfb822c2c3eb949"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9b3432e5caf74e810cfb822c2c3eb949">geoMat</a> = ROOT.genfit.TGeoMaterialInterface()</td></tr>
<tr class="separator:a9b3432e5caf74e810cfb822c2c3eb949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42553a1135c3ed90f19e76935ba8210" id="r_af42553a1135c3ed90f19e76935ba8210"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af42553a1135c3ed90f19e76935ba8210">bfield</a> = ROOT.genfit.FairShipFields()</td></tr>
<tr class="separator:af42553a1135c3ed90f19e76935ba8210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735f149bf0b1009cab54a0a4b741f77a" id="r_a735f149bf0b1009cab54a0a4b741f77a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a735f149bf0b1009cab54a0a4b741f77a">fM</a> = ROOT.genfit.FieldManager.getInstance()</td></tr>
<tr class="separator:a735f149bf0b1009cab54a0a4b741f77a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5d29f8279f18de70085563d63b63b19" id="r_ac5d29f8279f18de70085563d63b63b19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac5d29f8279f18de70085563d63b63b19">fitter</a> = ROOT.genfit.DAF()</td></tr>
<tr class="separator:ac5d29f8279f18de70085563d63b63b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a469bfb29d8ff361fc3490bda96d4689b" id="r_a469bfb29d8ff361fc3490bda96d4689b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a469bfb29d8ff361fc3490bda96d4689b">parallelToZ</a> = ROOT.TVector3(0., 0., 1.)</td></tr>
<tr class="separator:a469bfb29d8ff361fc3490bda96d4689b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb2acc15ca214a8ce30a830e2929c32c" id="r_aeb2acc15ca214a8ce30a830e2929c32c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aeb2acc15ca214a8ce30a830e2929c32c">Bx</a></td></tr>
<tr class="separator:aeb2acc15ca214a8ce30a830e2929c32c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3562a47e342a4c9042afc286c41f01cb" id="r_a3562a47e342a4c9042afc286c41f01cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a3562a47e342a4c9042afc286c41f01cb">By</a></td></tr>
<tr class="separator:a3562a47e342a4c9042afc286c41f01cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9bc4a0fc4f401fea2f32a9956c36190" id="r_ae9bc4a0fc4f401fea2f32a9956c36190"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ae9bc4a0fc4f401fea2f32a9956c36190">Bz</a></td></tr>
<tr class="separator:ae9bc4a0fc4f401fea2f32a9956c36190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a196f59612bcdf4fd8db9bc00a3fe00a8" id="r_a196f59612bcdf4fd8db9bc00a3fe00a8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a196f59612bcdf4fd8db9bc00a3fe00a8">sigma_spatial</a> = 0.25</td></tr>
<tr class="separator:a196f59612bcdf4fd8db9bc00a3fe00a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11975a640538efbb52d1e52777b94f76" id="r_a11975a640538efbb52d1e52777b94f76"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a11975a640538efbb52d1e52777b94f76">Debug</a> = False</td></tr>
<tr class="separator:a11975a640538efbb52d1e52777b94f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5582f91908b612b6097ba553d4960d4" id="r_af5582f91908b612b6097ba553d4960d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af5582f91908b612b6097ba553d4960d4">minHitsPerCluster</a></td></tr>
<tr class="separator:af5582f91908b612b6097ba553d4960d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2494a4736f351931c67e303c2f5376b6" id="r_a2494a4736f351931c67e303c2f5376b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2494a4736f351931c67e303c2f5376b6">maxHitsPerCluster</a></td></tr>
<tr class="separator:a2494a4736f351931c67e303c2f5376b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb936c236dc0650f601ec93e5c3a0e6f" id="r_acb936c236dc0650f601ec93e5c3a0e6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#acb936c236dc0650f601ec93e5c3a0e6f">topA</a></td></tr>
<tr class="separator:acb936c236dc0650f601ec93e5c3a0e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0569ec9d403d7e0d90656a505d8bb66f" id="r_a0569ec9d403d7e0d90656a505d8bb66f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0569ec9d403d7e0d90656a505d8bb66f">botA</a></td></tr>
<tr class="separator:a0569ec9d403d7e0d90656a505d8bb66f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ef34c95a92047f84cfc2c9cc5b135d" id="r_a45ef34c95a92047f84cfc2c9cc5b135d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a45ef34c95a92047f84cfc2c9cc5b135d">topB</a></td></tr>
<tr class="separator:a45ef34c95a92047f84cfc2c9cc5b135d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a311eaed3a94185b237f25b4114832819" id="r_a311eaed3a94185b237f25b4114832819"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a311eaed3a94185b237f25b4114832819">botB</a></td></tr>
<tr class="separator:a311eaed3a94185b237f25b4114832819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e438a874d05ad222408b23072d5fda" id="r_a72e438a874d05ad222408b23072d5fda"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a72e438a874d05ad222408b23072d5fda">clusters</a> = {}</td></tr>
<tr class="separator:a72e438a874d05ad222408b23072d5fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfcc1d81eb487e6b40dc8426c8afd8d2" id="r_abfcc1d81eb487e6b40dc8426c8afd8d2"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#abfcc1d81eb487e6b40dc8426c8afd8d2">pl</a> = {0:'00',1:'01',2:'10',3:'11'}</td></tr>
<tr class="separator:abfcc1d81eb487e6b40dc8426c8afd8d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a402cd88a15e478d0f03c6317dfef4319" id="r_a402cd88a15e478d0f03c6317dfef4319"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a402cd88a15e478d0f03c6317dfef4319">myGauss</a> = ROOT.TF1('gauss','abs([0])/(abs([2])*sqrt(2*pi))*exp(-0.5*((x-[1])/[2])**2)+abs([3])',4)</td></tr>
<tr class="separator:a402cd88a15e478d0f03c6317dfef4319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf5bf8afbb6550fe05cb8d086136ca8d" id="r_acf5bf8afbb6550fe05cb8d086136ca8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#acf5bf8afbb6550fe05cb8d086136ca8d">exclude_layer</a> = None</td></tr>
<tr class="separator:acf5bf8afbb6550fe05cb8d086136ca8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5eca877d04a9fd5c6fabbe30435bb0" id="r_a1b5eca877d04a9fd5c6fabbe30435bb0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1b5eca877d04a9fd5c6fabbe30435bb0">myGauss2</a> = ROOT.TF1('<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af7a8590514d794467691675f27a4fde0">test</a>','abs([0])/(abs([2])*sqrt(2*pi))*exp(-0.5*((x-[1])/[2])**2)+abs( [3]+[6]*x+[7]*x**2 )+abs([4])/(abs([5])*sqrt(2*pi))*exp(-0.5*((x-[1])/[5])**2)',8)</td></tr>
<tr class="separator:a1b5eca877d04a9fd5c6fabbe30435bb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13688743f9d4e68fe906986c22790313" id="r_a13688743f9d4e68fe906986c22790313"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a13688743f9d4e68fe906986c22790313">alignCorrection</a> = {}</td></tr>
<tr class="separator:a13688743f9d4e68fe906986c22790313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aa77320505f8a84c8f81b012d27a87d" id="r_a7aa77320505f8a84c8f81b012d27a87d"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a7aa77320505f8a84c8f81b012d27a87d">slopeX</a></td></tr>
<tr class="separator:a7aa77320505f8a84c8f81b012d27a87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ad25bfbf79bce3bd8c99411065059c" id="r_ab5ad25bfbf79bce3bd8c99411065059c"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab5ad25bfbf79bce3bd8c99411065059c">slopeY</a> = {2:[0,0,0,0]}</td></tr>
<tr class="separator:ab5ad25bfbf79bce3bd8c99411065059c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9edf287ee144d9db051af3c32fa1851d" id="r_a9edf287ee144d9db051af3c32fa1851d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9edf287ee144d9db051af3c32fa1851d">withCorrections</a> = True</td></tr>
<tr class="separator:a9edf287ee144d9db051af3c32fa1851d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb79a950ad30519a44ca6a1392be50bc" id="r_adb79a950ad30519a44ca6a1392be50bc"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#adb79a950ad30519a44ca6a1392be50bc">alignCorrectionTMP</a> = (conditionsDB.get_condition_by_name_and_tag(&quot;muflux/driftTubes&quot;, &quot;alignCorrection&quot;, &quot;muflux/driftTubes_align_2020-03-23&quot;))[&quot;values&quot;]</td></tr>
<tr class="separator:adb79a950ad30519a44ca6a1392be50bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237a6f17fed06e48b30a7a36aa8710a8" id="r_a237a6f17fed06e48b30a7a36aa8710a8"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a237a6f17fed06e48b30a7a36aa8710a8">strawPositionsBotTop</a> = {}</td></tr>
<tr class="separator:a237a6f17fed06e48b30a7a36aa8710a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5142618cff6eb2db71467d5126b08ce" id="r_ac5142618cff6eb2db71467d5126b08ce"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac5142618cff6eb2db71467d5126b08ce">RPCPositionsBotTop</a> = {}</td></tr>
<tr class="separator:ac5142618cff6eb2db71467d5126b08ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410db53098d65e9fe2550a4c60c55be3" id="r_a410db53098d65e9fe2550a4c60c55be3"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a410db53098d65e9fe2550a4c60c55be3">listOfTracks</a> = {}</td></tr>
<tr class="separator:a410db53098d65e9fe2550a4c60c55be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4362efdd47c16d19ace7f40dfb01ab0d" id="r_a4362efdd47c16d19ace7f40dfb01ab0d"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4362efdd47c16d19ace7f40dfb01ab0d">RTrelations</a> = {}</td></tr>
<tr class="separator:a4362efdd47c16d19ace7f40dfb01ab0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad72c09954051889658d5907a84f9783c" id="r_ad72c09954051889658d5907a84f9783c"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad72c09954051889658d5907a84f9783c">zeroFieldData</a> = ['SPILLDATA_8000_0515970150_20180715_220030.root']</td></tr>
<tr class="separator:ad72c09954051889658d5907a84f9783c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6cc9f68581f450c05c982e82a70b220" id="r_af6cc9f68581f450c05c982e82a70b220"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af6cc9f68581f450c05c982e82a70b220">hMC</a> = {}</td></tr>
<tr class="separator:af6cc9f68581f450c05c982e82a70b220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ec0061480773dc9c830480cd2fa6861" id="r_a6ec0061480773dc9c830480cd2fa6861"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a6ec0061480773dc9c830480cd2fa6861">hCharm</a> = {}</td></tr>
<tr class="separator:a6ec0061480773dc9c830480cd2fa6861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab35c0c9ea91fa6ce2238e2c2529e6c67" id="r_ab35c0c9ea91fa6ce2238e2c2529e6c67"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab35c0c9ea91fa6ce2238e2c2529e6c67">hMC10GeV</a> = {}</td></tr>
<tr class="separator:ab35c0c9ea91fa6ce2238e2c2529e6c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd397b2594b3be379bd33082e855fb1f" id="r_afd397b2594b3be379bd33082e855fb1f"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#afd397b2594b3be379bd33082e855fb1f">hMC0</a> = {}</td></tr>
<tr class="separator:afd397b2594b3be379bd33082e855fb1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9be9a7a929a55834a4ed6723b239917" id="r_aa9be9a7a929a55834a4ed6723b239917"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa9be9a7a929a55834a4ed6723b239917">hMC2</a> = {}</td></tr>
<tr class="separator:aa9be9a7a929a55834a4ed6723b239917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0535176c2b61e449c0db4e673d346c2c" id="r_a0535176c2b61e449c0db4e673d346c2c"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0535176c2b61e449c0db4e673d346c2c">hMCD</a> = {}</td></tr>
<tr class="separator:a0535176c2b61e449c0db4e673d346c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a00346e685b76040a580df3ac0d119" id="r_aa1a00346e685b76040a580df3ac0d119"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa1a00346e685b76040a580df3ac0d119">hMCrec0</a> = {}</td></tr>
<tr class="separator:aa1a00346e685b76040a580df3ac0d119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbd5d61ed9015e2eeb8c8e12199e8222" id="r_adbd5d61ed9015e2eeb8c8e12199e8222"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#adbd5d61ed9015e2eeb8c8e12199e8222">hMCrec2</a> = {}</td></tr>
<tr class="separator:adbd5d61ed9015e2eeb8c8e12199e8222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d41ac64d253a25ca645f9e4769b923" id="r_a92d41ac64d253a25ca645f9e4769b923"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a92d41ac64d253a25ca645f9e4769b923">hCharm0</a> = {}</td></tr>
<tr class="separator:a92d41ac64d253a25ca645f9e4769b923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ff7e8af3492bbdb2e4af60e49f3185" id="r_a90ff7e8af3492bbdb2e4af60e49f3185"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a90ff7e8af3492bbdb2e4af60e49f3185">hCharm2</a> = {}</td></tr>
<tr class="separator:a90ff7e8af3492bbdb2e4af60e49f3185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab413de4a82e9d838b33428795037b28a" id="r_ab413de4a82e9d838b33428795037b28a"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab413de4a82e9d838b33428795037b28a">hCharmD</a> = {}</td></tr>
<tr class="separator:ab413de4a82e9d838b33428795037b28a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f243e83baa6345221ae11d40966a555" id="r_a0f243e83baa6345221ae11d40966a555"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0f243e83baa6345221ae11d40966a555">hCharmrec0</a> = {}</td></tr>
<tr class="separator:a0f243e83baa6345221ae11d40966a555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a469eb0123f463d3fceb22faaadff344d" id="r_a469eb0123f463d3fceb22faaadff344d"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a469eb0123f463d3fceb22faaadff344d">hCharmrec2</a> = {}</td></tr>
<tr class="separator:a469eb0123f463d3fceb22faaadff344d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7a5cfd53b30cbd9ed7ad4a3009c0ba" id="r_a7c7a5cfd53b30cbd9ed7ad4a3009c0ba"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a7c7a5cfd53b30cbd9ed7ad4a3009c0ba">hMC10GeV0</a> = {}</td></tr>
<tr class="separator:a7c7a5cfd53b30cbd9ed7ad4a3009c0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a506f0424ed976f02abf359013dfdf6d6" id="r_a506f0424ed976f02abf359013dfdf6d6"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a506f0424ed976f02abf359013dfdf6d6">hMC10GeV2</a> = {}</td></tr>
<tr class="separator:a506f0424ed976f02abf359013dfdf6d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae35b484e4fa12b14d48113cf89bb7b54" id="r_ae35b484e4fa12b14d48113cf89bb7b54"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ae35b484e4fa12b14d48113cf89bb7b54">hMC10GeVrec0</a> = {}</td></tr>
<tr class="separator:ae35b484e4fa12b14d48113cf89bb7b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819ae191e54d6ff3243851f8f1105585" id="r_a819ae191e54d6ff3243851f8f1105585"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a819ae191e54d6ff3243851f8f1105585">hMC10GeVrec2</a> = {}</td></tr>
<tr class="separator:a819ae191e54d6ff3243851f8f1105585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b273a395c0bb4ccf85be1903da178be" id="r_a7b273a395c0bb4ccf85be1903da178be"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a7b273a395c0bb4ccf85be1903da178be">hMC10GeVD</a> = {}</td></tr>
<tr class="separator:a7b273a395c0bb4ccf85be1903da178be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3db63cdca8f5bdf5cd6758a49732c5b7" id="r_a3db63cdca8f5bdf5cd6758a49732c5b7"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a3db63cdca8f5bdf5cd6758a49732c5b7">hruns</a> = {}</td></tr>
<tr class="separator:a3db63cdca8f5bdf5cd6758a49732c5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3d3edc625b1bce4cc17f0c7017a1d7" id="r_a6b3d3edc625b1bce4cc17f0c7017a1d7"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a6b3d3edc625b1bce4cc17f0c7017a1d7">vetoLayer</a> = []</td></tr>
<tr class="separator:a6b3d3edc625b1bce4cc17f0c7017a1d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed4cbe9dced0d91692eb8df4dfed696" id="r_a2ed4cbe9dced0d91692eb8df4dfed696"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2ed4cbe9dced0d91692eb8df4dfed696">database</a> = 'muflux_RTrelations.pkl'</td></tr>
<tr class="separator:a2ed4cbe9dced0d91692eb8df4dfed696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f75f7abe06d7b590bd6dfe107adfcb" id="r_ad0f75f7abe06d7b590bd6dfe107adfcb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ad0f75f7abe06d7b590bd6dfe107adfcb">PR</a></td></tr>
<tr class="separator:ad0f75f7abe06d7b590bd6dfe107adfcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873e987a77783c12fc9c5991abba78ba" id="r_a873e987a77783c12fc9c5991abba78ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a873e987a77783c12fc9c5991abba78ba">minP</a></td></tr>
<tr class="separator:a873e987a77783c12fc9c5991abba78ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47aca6e0eba55397b1e10446d1adb0e6" id="r_a47aca6e0eba55397b1e10446d1adb0e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a47aca6e0eba55397b1e10446d1adb0e6">onlyPlotting</a></td></tr>
<tr class="separator:a47aca6e0eba55397b1e10446d1adb0e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad54130e953136e51bacd5f3cee3157a0" name="ad54130e953136e51bacd5f3cee3157a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad54130e953136e51bacd5f3cee3157a0">&#9670;&#160;</a></span>additionalMomSmearing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.additionalMomSmearing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07430">7430</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7430</span><span class="keyword">def </span>additionalMomSmearing():</div>
<div class="line"><span class="lineno"> 7431</span>    hname = <span class="stringliteral">&#39;MCp/pt_x&#39;</span></div>
<div class="line"><span class="lineno"> 7432</span>    folname = <span class="stringliteral">&#39;S&#39;</span>+hname</div>
<div class="line"><span class="lineno"> 7433</span><span class="comment"># true resolution: sigma = [0.36/100.,0.036/100.]</span></div>
<div class="line"><span class="lineno"> 7434</span>    fudge = 2.</div>
<div class="line"><span class="lineno"> 7435</span>    sigma = [0.36/100.*fudge,0.036/100.*fudge]</div>
<div class="line"><span class="lineno"> 7436</span>    h[folname]=h[hname].Clone(folname)</div>
<div class="line"><span class="lineno"> 7437</span>    h[folname].Reset()</div>
<div class="line"><span class="lineno"> 7438</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,h[hname].GetNbinsX()+1):</div>
<div class="line"><span class="lineno"> 7439</span>        P = h[hname].GetBinCenter(n)</div>
<div class="line"><span class="lineno"> 7440</span>        N = h[hname].GetBinContent(n)</div>
<div class="line"><span class="lineno"> 7441</span>        sig = (sigma[0]+P*sigma[1])*P</div>
<div class="line"><span class="lineno"> 7442</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(int(N+0.5)):</div>
<div class="line"><span class="lineno"> 7443</span>            p = rnr.Gaus(P,sig)</div>
<div class="line"><span class="lineno"> 7444</span>            rc = h[folname].Fill(p)</div>
<div class="line"><span class="lineno"> 7445</span>    ut.makeIntegralDistrib(h,hname)</div>
<div class="line"><span class="lineno"> 7446</span>    h[hname].Draw()</div>
<div class="line"><span class="lineno"> 7447</span>    h[folname].SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 7448</span>    h[folname].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae447084be4070e93d40f5fbb48a412be" name="ae447084be4070e93d40f5fbb48a412be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae447084be4070e93d40f5fbb48a412be">&#9670;&#160;</a></span>addText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.addText </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00899">899</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  899</span><span class="keyword">def </span>addText():</div>
<div class="line"><span class="lineno">  900</span>    rc = h[ <span class="stringliteral">&#39;simpleDisplay&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno">  901</span>    h[<span class="stringliteral">&#39;yprojtxt&#39;</span>] = ROOT.TLatex(200,100,<span class="stringliteral">&#39;Y projection&#39;</span>)</div>
<div class="line"><span class="lineno">  902</span>    h[<span class="stringliteral">&#39;xprojtxt&#39;</span>] = ROOT.TLatex(600,-20,<span class="stringliteral">&#39;X projection&#39;</span>)</div>
<div class="line"><span class="lineno">  903</span>    h[<span class="stringliteral">&#39;xprojtxt&#39;</span>].SetTextColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno">  904</span>    h[<span class="stringliteral">&#39;yprojtxt&#39;</span>].SetTextColor(ROOT.kCyan)</div>
<div class="line"><span class="lineno">  905</span>    h[<span class="stringliteral">&#39;xprojtxt&#39;</span>].Draw()</div>
<div class="line"><span class="lineno">  906</span>    h[<span class="stringliteral">&#39;yprojtxt&#39;</span>].Draw()</div>
<div class="line"><span class="lineno">  907</span>    myPrint(h[ <span class="stringliteral">&#39;simpleDisplay&#39;</span>],<span class="stringliteral">&#39;EventDisplay&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a436151ad68971d3357aede76fc6ecb04" name="a436151ad68971d3357aede76fc6ecb04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a436151ad68971d3357aede76fc6ecb04">&#9670;&#160;</a></span>analyzeRTrel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.analyzeRTrel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05352">5352</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5352</span><span class="keyword">def </span>analyzeRTrel():</div>
<div class="line"><span class="lineno"> 5353</span>    <span class="keyword">global</span> fnames</div>
<div class="line"><span class="lineno"> 5354</span>    fnames = []</div>
<div class="line"><span class="lineno"> 5355</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> os.listdir(<span class="stringliteral">&#39;.&#39;</span>):</div>
<div class="line"><span class="lineno"> 5356</span>        <span class="keywordflow">if</span> x.find(<span class="stringliteral">&#39;_RT&#39;</span>)&gt;0 <span class="keywordflow">and</span> x.find(<span class="stringliteral">&#39;histos&#39;</span>)&lt;0: fnames.append(x)</div>
<div class="line"><span class="lineno"> 5357</span>    importRTrel()</div>
<div class="line"><span class="lineno"> 5358</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> RTrelations[fnames[0]][<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5359</span>        ut.bookHist(h,x+<span class="stringliteral">&#39;Tmin&#39;</span>,x+<span class="stringliteral">&#39;Tmin&#39;</span>,100,-130.,-30.)</div>
<div class="line"><span class="lineno"> 5360</span>        ut.bookHist(h,x+<span class="stringliteral">&#39;Tmax&#39;</span>,x+<span class="stringliteral">&#39;Tmax&#39;</span>,600,1100.,1700.)</div>
<div class="line"><span class="lineno"> 5361</span>    <span class="keywordflow">for</span> fname <span class="keywordflow">in</span> RTrelations:</div>
<div class="line"><span class="lineno"> 5362</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> RTrelations[fname][<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5363</span>            rc = h[x+<span class="stringliteral">&#39;Tmin&#39;</span>].Fill(RTrelations[fname][<span class="stringliteral">&#39;tMinAndTmax&#39;</span>][x][0])</div>
<div class="line"><span class="lineno"> 5364</span>            rc = h[x+<span class="stringliteral">&#39;Tmax&#39;</span>].Fill(RTrelations[fname][<span class="stringliteral">&#39;tMinAndTmax&#39;</span>][x][1])</div>
<div class="line"><span class="lineno"> 5365</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;RTMins&#39;</span>,<span class="stringliteral">&#39;RT Min&#39;</span>,1200,900,7,5)</div>
<div class="line"><span class="lineno"> 5366</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;RTMaxs&#39;</span>,<span class="stringliteral">&#39;RT Max&#39;</span>,1200,900,7,5)</div>
<div class="line"><span class="lineno"> 5367</span>    keys = RTrelations[fnames[0]][<span class="stringliteral">&#39;tMinAndTmax&#39;</span>].keys()</div>
<div class="line"><span class="lineno"> 5368</span>    keys.sort()</div>
<div class="line"><span class="lineno"> 5369</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,35):</div>
<div class="line"><span class="lineno"> 5370</span>        tc = h[<span class="stringliteral">&#39;RTMins&#39;</span>].cd(n)</div>
<div class="line"><span class="lineno"> 5371</span>        h[keys[n-1]+<span class="stringliteral">&#39;Tmin&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 5372</span>        tc = h[<span class="stringliteral">&#39;RTMaxs&#39;</span>].cd(n)</div>
<div class="line"><span class="lineno"> 5373</span>        h[keys[n-1]+<span class="stringliteral">&#39;Tmax&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 5374</span> </div>
<div class="line"><span class="lineno"> 5375</span><span class="comment"># to START</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad08e02f08e1cbd2cce5159015c81cf73" name="ad08e02f08e1cbd2cce5159015c81cf73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08e02f08e1cbd2cce5159015c81cf73">&#9670;&#160;</a></span>analyzeSingleDT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.analyzeSingleDT </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03248">3248</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3248</span><span class="keyword">def </span>analyzeSingleDT():</div>
<div class="line"><span class="lineno"> 3249</span>    keys = xpos.keys()</div>
<div class="line"><span class="lineno"> 3250</span>    keys.sort()</div>
<div class="line"><span class="lineno"> 3251</span>    <span class="keywordflow">for</span> detID <span class="keywordflow">in</span> keys:</div>
<div class="line"><span class="lineno"> 3252</span>        histo = h[<span class="stringliteral">&#39;biasResX_&#39;</span>+str(detID)+<span class="stringliteral">&#39;_projx&#39;</span>]</div>
<div class="line"><span class="lineno"> 3253</span>        mean,rms = -999.,0.</div>
<div class="line"><span class="lineno"> 3254</span>        <span class="keywordflow">if</span> histo.GetSumOfWeights()&gt;25:</div>
<div class="line"><span class="lineno"> 3255</span>            fitResult = histo.Fit(<span class="stringliteral">&#39;gaus&#39;</span>,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.5,0.5)</div>
<div class="line"><span class="lineno"> 3256</span>            rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 3257</span>            fitFunction = histo.GetFunction(<span class="stringliteral">&#39;gauss&#39;</span>)</div>
<div class="line"><span class="lineno"> 3258</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitFunction : fitFunction = myGauss</div>
<div class="line"><span class="lineno"> 3259</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 3260</span>                            <span class="comment"># print &quot;simple gaus fit failed&quot;</span></div>
<div class="line"><span class="lineno"> 3261</span>                fitFunction.SetParameter(0,histo.GetEntries()*histo.GetBinWidth(1))</div>
<div class="line"><span class="lineno"> 3262</span>                fitFunction.SetParameter(1,0.)</div>
<div class="line"><span class="lineno"> 3263</span>                fitFunction.SetParameter(2,0.1)</div>
<div class="line"><span class="lineno"> 3264</span>                fitFunction.SetParameter(3,1.)</div>
<div class="line"><span class="lineno"> 3265</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 3266</span>                fitFunction.SetParameter(0,rc.GetParams()[0]*ROOT.TMath.Sqrt(2*ROOT.TMath.Pi())*rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 3267</span>                fitFunction.SetParameter(1,rc.GetParams()[1])</div>
<div class="line"><span class="lineno"> 3268</span>                fitFunction.SetParameter(2,rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 3269</span>                fitFunction.SetParameter(3,0.)</div>
<div class="line"><span class="lineno"> 3270</span>            fitResult = histo.Fit(fitFunction,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.3,0.3)</div>
<div class="line"><span class="lineno"> 3271</span>            rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 3272</span>            <span class="keywordflow">if</span> rc:</div>
<div class="line"><span class="lineno"> 3273</span>                mean = rc.GetParams()[1]</div>
<div class="line"><span class="lineno"> 3274</span>                rms  = rc.GetParams()[2]</div>
<div class="line"><span class="lineno"> 3275</span>        uf =  histo.GetBinContent(0)</div>
<div class="line"><span class="lineno"> 3276</span>        of = histo.GetBinContent(histo.GetNbinsX()+1)</div>
<div class="line"><span class="lineno"> 3277</span>        <span class="keywordflow">if</span> mean &lt; -900: <span class="keywordflow">print</span> <span class="stringliteral">&quot;channel:%i : not enough statistics, integral=%i, under- over-flow: %i,%i&quot;</span>%(detID,histo.GetSumOfWeights(),uf,of)</div>
<div class="line"><span class="lineno"> 3278</span>        <span class="keywordflow">else</span>: <span class="keywordflow">print</span> <span class="stringliteral">&quot;channel:%i : mean=%6.3Fmm,  sigma=%6.3Fmm&quot;</span>%(detID,mean*10,rms*10)</div>
<div class="line"><span class="lineno"> 3279</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0973c8eccfb22be2d5b0f73a2c8eb39e" name="a0973c8eccfb22be2d5b0f73a2c8eb39e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0973c8eccfb22be2d5b0f73a2c8eb39e">&#9670;&#160;</a></span>anaResiduals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.anaResiduals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07647">7647</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7647</span><span class="keyword">def </span>anaResiduals():</div>
<div class="line"><span class="lineno"> 7648</span>    <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&#39;FitTracks_refitted&#39;</span>):</div>
<div class="line"><span class="lineno"> 7649</span>       PR = 3</div>
<div class="line"><span class="lineno"> 7650</span>    <span class="keywordflow">elif</span> sTree.GetBranch(<span class="stringliteral">&#39;FitTracks&#39;</span>):</div>
<div class="line"><span class="lineno"> 7651</span>       PR = 1</div>
<div class="line"><span class="lineno"> 7652</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 7653</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;this file has no tracks&quot;</span>,sTree.GetCurrentFile().GetName()</div>
<div class="line"><span class="lineno"> 7654</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 7655</span>    muflux_Reco.trackKinematics(3.)</div>
<div class="line"><span class="lineno"> 7656</span>    <span class="keywordflow">if</span> MCdata <span class="keywordflow">and</span> sTree.GetCurrentFile().GetName().find(<span class="stringliteral">&#39;Jpsi&#39;</span>)&lt;0:</div>
<div class="line"><span class="lineno"> 7657</span>        MCchecks()</div>
<div class="line"><span class="lineno"> 7658</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 7659</span>        printScalers()</div>
<div class="line"><span class="lineno"> 7660</span>    plotRPCExtrap(PR)</div>
<div class="line"><span class="lineno"> 7661</span>    norm = h[<span class="stringliteral">&#39;TrackMult&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 7662</span>    <span class="keywordflow">print</span> <span class="stringliteral">&#39;*** Track Stats ***&#39;</span>,norm</div>
<div class="line"><span class="lineno"> 7663</span>    ut.writeHists(h,<span class="stringliteral">&#39;histos-analysis-&#39;</span>+rname)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0eb960fd681272f206948489d9f5054b" name="a0eb960fd681272f206948489d9f5054b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb960fd681272f206948489d9f5054b">&#9670;&#160;</a></span>bestTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.bestTracks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02012">2012</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2012</span><span class="keyword">def </span>bestTracks():</div>
<div class="line"><span class="lineno"> 2013</span>    theTracks1 = findTracks(PR=11)</div>
<div class="line"><span class="lineno"> 2014</span>    theTracks2 = findTracks(PR=12)</div>
<div class="line"><span class="lineno"> 2015</span>    bestTracks = cloneKiller(theTracks1 + theTracks2)</div>
<div class="line"><span class="lineno"> 2016</span>    <span class="keywordflow">return</span> bestTracks</div>
</div><!-- fragment -->
</div>
</div>
<a id="adf78fbfcacd2d76dd4b0cfa56f66370c" name="adf78fbfcacd2d76dd4b0cfa56f66370c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf78fbfcacd2d76dd4b0cfa56f66370c">&#9670;&#160;</a></span>binoEff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.binoEff </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em> = <code>4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>k</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03313">3313</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3313</span><span class="keyword">def </span>binoEff(n=4,k=2):</div>
<div class="line"><span class="lineno"> 3314</span>    totEff = 0</div>
<div class="line"><span class="lineno"> 3315</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(k,n+1):  totEff += ROOT.TMath.Binomial(n,i)*eff**i*(1-eff)**(n-i)</div>
<div class="line"><span class="lineno"> 3316</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;global efficiency = %5.4F  %i %i&quot;</span>%(totEff,n,k)</div>
<div class="line"><span class="lineno"> 3317</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d8b5eedfcf1ff10d8edfc235e2321bd" name="a5d8b5eedfcf1ff10d8edfc235e2321bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8b5eedfcf1ff10d8edfc235e2321bd">&#9670;&#160;</a></span>calculateRTcorrection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.calculateRTcorrection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03155">3155</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3155</span><span class="keyword">def </span>calculateRTcorrection():</div>
<div class="line"><span class="lineno"> 3156</span>    hkeys = h.keys()</div>
<div class="line"><span class="lineno"> 3157</span>    <span class="keywordflow">for</span> hist <span class="keywordflow">in</span> hkeys:</div>
<div class="line"><span class="lineno"> 3158</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hist.find(<span class="stringliteral">&#39;proj&#39;</span>)&lt;0:  <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3159</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hist.find(<span class="stringliteral">&#39;slice&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3160</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hist.find(<span class="stringliteral">&#39;LR&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3161</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hist.find(<span class="stringliteral">&#39;biasResDist2Wire&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3162</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hist == <span class="stringliteral">&#39;biasResDist&#39;</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> hist.find(<span class="stringliteral">&#39;biasResDist_&#39;</span>)==0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3163</span>        v=hist.replace(<span class="stringliteral">&#39;biasResDist&#39;</span>,<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 3164</span>        h[<span class="stringliteral">&#39;RTcorr&#39;</span>+v]=ROOT.TGraph()</div>
<div class="line"><span class="lineno"> 3165</span>        N = 0</div>
<div class="line"><span class="lineno"> 3166</span>        tmpx = h[hist].ProjectionX()</div>
<div class="line"><span class="lineno"> 3167</span>        hresol = <span class="stringliteral">&#39;resVsDr&#39;</span>+v</div>
<div class="line"><span class="lineno"> 3168</span>        h[hresol]=tmpx.Clone(hresol)</div>
<div class="line"><span class="lineno"> 3169</span>        h[hresol].SetTitle(<span class="stringliteral">&#39;resolution as function of driftRadius&#39;</span>)</div>
<div class="line"><span class="lineno"> 3170</span>        h[hresol].Reset()</div>
<div class="line"><span class="lineno"> 3171</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,h[hist].GetNbinsX()):</div>
<div class="line"><span class="lineno"> 3172</span>            <span class="keywordflow">if</span> tmpx.GetBinCenter(n)&gt;1.8: <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 3173</span>            name = hist+<span class="stringliteral">&#39;slice&#39;</span>+str(n)</div>
<div class="line"><span class="lineno"> 3174</span>            h[name] = h[hist].ProjectionY(name,n,n+1)</div>
<div class="line"><span class="lineno"> 3175</span>            fitResult = h[name].Fit(<span class="stringliteral">&#39;gaus&#39;</span>,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.2,0.2)</div>
<div class="line"><span class="lineno"> 3176</span>            rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 3177</span>            <span class="keywordflow">if</span> rc:</div>
<div class="line"><span class="lineno"> 3178</span>                <span class="comment">#print hist+&#39;slice&#39;+str(n),rc.GetParams()[1],rc.GetParams()[2]</span></div>
<div class="line"><span class="lineno"> 3179</span>                h[<span class="stringliteral">&#39;RTcorr&#39;</span>+v].SetPoint(N,tmpx.GetBinCenter(n),rc.GetParams()[1])</div>
<div class="line"><span class="lineno"> 3180</span>                h[hresol].SetBinContent(n,rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 3181</span>                N+=1</div>
<div class="line"><span class="lineno"> 3182</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;RTCorrection&#39;</span>): </div>
<div class="line"><span class="lineno"> 3183</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;RTCorrection&#39;</span>,title=<span class="stringliteral">&#39;RTCorrection&#39;</span>,nx=1200,ny=1400,cx=1,cy=2)</div>
<div class="line"><span class="lineno"> 3184</span>        ut.bookCanvas(h,<span class="stringliteral">&#39;dummy&#39;</span>,<span class="stringliteral">&#39; &#39;</span>,900,600,1,1)</div>
<div class="line"><span class="lineno"> 3185</span>    case = {<span class="stringliteral">&#39;dummy&#39;</span>:1,<span class="stringliteral">&#39;RTCorrection&#39;</span>:1}</div>
<div class="line"><span class="lineno"> 3186</span>    <span class="keywordflow">for</span> z <span class="keywordflow">in</span> case:</div>
<div class="line"><span class="lineno"> 3187</span>     tc = h[z].cd(case[z])</div>
<div class="line"><span class="lineno"> 3188</span>     h[<span class="stringliteral">&#39;RTcorr&#39;</span>].SetLineColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 3189</span>     h[<span class="stringliteral">&#39;RTcorr&#39;</span>].SetLineWidth(2)</div>
<div class="line"><span class="lineno"> 3190</span>     h[<span class="stringliteral">&#39;hRTCorrection&#39;</span>]=h[<span class="stringliteral">&#39;resVsDr&#39;</span>].Clone(<span class="stringliteral">&#39;hRTCorrection&#39;</span>)</div>
<div class="line"><span class="lineno"> 3191</span>     h[<span class="stringliteral">&#39;hRTCorrection&#39;</span>].SetTitle(<span class="stringliteral">&#39;;drift radius [cm]; mean difference [cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 3192</span>     h[<span class="stringliteral">&#39;hRTCorrection&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 3193</span>     h[<span class="stringliteral">&#39;hRTCorrection&#39;</span>].SetMaximum(0.02)</div>
<div class="line"><span class="lineno"> 3194</span>     h[<span class="stringliteral">&#39;hRTCorrection&#39;</span>].SetMinimum(-0.06)</div>
<div class="line"><span class="lineno"> 3195</span>     h[<span class="stringliteral">&#39;hRTCorrection&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 3196</span>     h[<span class="stringliteral">&#39;hRTCorrection&#39;</span>].SetLineColor(0)</div>
<div class="line"><span class="lineno"> 3197</span>     h[<span class="stringliteral">&#39;hRTCorrection&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3198</span>     keys = h.keys()</div>
<div class="line"><span class="lineno"> 3199</span>     <span class="keywordflow">for</span> x <span class="keywordflow">in</span> keys:</div>
<div class="line"><span class="lineno"> 3200</span>        <span class="keywordflow">if</span> x.find(<span class="stringliteral">&#39;RTcorr&#39;</span>)!=0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3201</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> x.find(<span class="stringliteral">&#39;LR&#39;</span>)&lt;0 <span class="keywordflow">or</span> <span class="keywordflow">not</span> x.find(<span class="stringliteral">&#39;Par&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3202</span>        h[x].Draw()</div>
<div class="line"><span class="lineno"> 3203</span>        rc = h[x].Fit(<span class="stringliteral">&#39;pol3&#39;</span>,<span class="stringliteral">&#39;SQ&#39;</span>)</div>
<div class="line"><span class="lineno"> 3204</span>        fitresult = rc.Get()</div>
<div class="line"><span class="lineno"> 3205</span>        h[x+<span class="stringliteral">&#39;Par&#39;</span>+x]=[fitresult.Parameter(0),fitresult.Parameter(1),fitresult.Parameter(2),fitresult.Parameter(3)]</div>
<div class="line"><span class="lineno"> 3206</span>     <span class="keywordflow">if</span> z==<span class="stringliteral">&#39;dummy&#39;</span>: myPrint(h[<span class="stringliteral">&#39;dummy&#39;</span>],<span class="stringliteral">&#39;RTCorrection&#39;</span>)</div>
<div class="line"><span class="lineno"> 3207</span>    case = {<span class="stringliteral">&#39;RTCorrection&#39;</span>:2}</div>
<div class="line"><span class="lineno"> 3208</span>    <span class="keywordflow">for</span> z <span class="keywordflow">in</span> case:</div>
<div class="line"><span class="lineno"> 3209</span>     tc = h[z].cd(case[z])</div>
<div class="line"><span class="lineno"> 3210</span>     h[<span class="stringliteral">&#39;resVsDr&#39;</span>].SetLineColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 3211</span>     h[<span class="stringliteral">&#39;resVsDr&#39;</span>].SetLineWidth(2)</div>
<div class="line"><span class="lineno"> 3212</span>     h[<span class="stringliteral">&#39;resVsDr&#39;</span>].SetMaximum(0.2)</div>
<div class="line"><span class="lineno"> 3213</span>     h[<span class="stringliteral">&#39;resVsDr&#39;</span>].SetMinimum(-0.06)</div>
<div class="line"><span class="lineno"> 3214</span>     h[<span class="stringliteral">&#39;resVsDr&#39;</span>].SetTitle(<span class="stringliteral">&#39;;drift radius [cm]; sigma [cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 3215</span>     h[<span class="stringliteral">&#39;resVsDr&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 3216</span>     h[<span class="stringliteral">&#39;resVsDr&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3217</span>     <span class="keywordflow">for</span> x <span class="keywordflow">in</span> h:</div>
<div class="line"><span class="lineno"> 3218</span>        <span class="keywordflow">if</span> x.find(<span class="stringliteral">&#39;resVsDr&#39;</span>)!=0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3219</span>        <span class="keywordflow">if</span> x.find(<span class="stringliteral">&#39;u&#39;</span>)&gt;0 <span class="keywordflow">or</span> x.find(<span class="stringliteral">&#39;v&#39;</span>)&gt;0: </div>
<div class="line"><span class="lineno"> 3220</span>            h[x].SetLineColor(ROOT.kGreen)</div>
<div class="line"><span class="lineno"> 3221</span>        <span class="keywordflow">elif</span> x.find(<span class="stringliteral">&#39;_3&#39;</span>)&gt;0 <span class="keywordflow">or</span> x.find(<span class="stringliteral">&#39;_4&#39;</span>)&gt;0: </div>
<div class="line"><span class="lineno"> 3222</span>            h[x].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 3223</span>        h[x].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aede586c20f1f26c5b2be45856a3b8319" name="aede586c20f1f26c5b2be45856a3b8319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede586c20f1f26c5b2be45856a3b8319">&#9670;&#160;</a></span>check4muon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.check4muon </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>debug</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01527">1527</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1527</span><span class="keyword">def </span>check4muon(m,debug=False):</div>
<div class="line"><span class="lineno"> 1528</span>  check = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1529</span>  mo = m.GetMotherId()</div>
<div class="line"><span class="lineno"> 1530</span>  <span class="keywordflow">while</span> mo&gt;0:</div>
<div class="line"><span class="lineno"> 1531</span>     m = sTree.MCTrack[mo]</div>
<div class="line"><span class="lineno"> 1532</span>     mo = m.GetMotherId()</div>
<div class="line"><span class="lineno"> 1533</span>     <span class="keywordflow">if</span> debug: <span class="keywordflow">print</span> m.GetPdgCode()</div>
<div class="line"><span class="lineno"> 1534</span>     <span class="keywordflow">if</span> abs(m.GetPdgCode())==13:</div>
<div class="line"><span class="lineno"> 1535</span>        check = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1536</span>        <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1537</span>  <span class="keywordflow">return</span> check</div>
<div class="line"><span class="lineno"> 1538</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a948acb1d86d902dad28b49e402344876" name="a948acb1d86d902dad28b49e402344876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a948acb1d86d902dad28b49e402344876">&#9670;&#160;</a></span>checkForDiMuon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.checkForDiMuon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05452">5452</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5452</span><span class="keyword">def </span>checkForDiMuon():</div>
<div class="line"><span class="lineno"> 5453</span>    boost = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 5454</span>    <span class="keywordflow">for</span> t <span class="keywordflow">in</span> sTree.MCTrack:</div>
<div class="line"><span class="lineno"> 5455</span>        <span class="keywordflow">if</span> abs(t.GetPdgCode())!=13: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5456</span>        moID  = abs(sTree.MCTrack[t.GetMotherId()].GetPdgCode())</div>
<div class="line"><span class="lineno"> 5457</span>        <span class="keywordflow">if</span> moID <span class="keywordflow">in</span> muSourcesIDs: </div>
<div class="line"><span class="lineno"> 5458</span>            boost = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 5459</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 5460</span>        pName = t.GetProcName().Data()</div>
<div class="line"><span class="lineno"> 5461</span>        <span class="keywordflow">if</span> not( pName.find(<span class="stringliteral">&#39;Lepton pair&#39;</span>)&lt;0 <span class="keywordflow">and</span> pName.find(<span class="stringliteral">&#39;Positron annihilation&#39;</span>)&lt;0  <span class="keywordflow">and</span>  pName.find(<span class="stringliteral">&#39;Hadronic inelastic&#39;</span>)&lt;0 ):</div>
<div class="line"><span class="lineno"> 5462</span>            boost = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 5463</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 5464</span>    <span class="keywordflow">return</span> boost</div>
</div><!-- fragment -->
</div>
</div>
<a id="af1644964d81e865e917515e85c61aec0" name="af1644964d81e865e917515e85c61aec0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1644964d81e865e917515e85c61aec0">&#9670;&#160;</a></span>checkMassOfResonances()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.checkMassOfResonances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01518">1518</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1518</span><span class="keyword">def </span>checkMassOfResonances():</div>
<div class="line"><span class="lineno"> 1519</span>  ut.bookHist(h,<span class="stringliteral">&#39;mass&#39;</span>,<span class="stringliteral">&#39;mass&#39;</span>,100,0.,2.)</div>
<div class="line"><span class="lineno"> 1520</span>  <span class="keywordflow">for</span> event <span class="keywordflow">in</span> sTree:</div>
<div class="line"><span class="lineno"> 1521</span>    <span class="keywordflow">for</span> m <span class="keywordflow">in</span> event.MCTrack:</div>
<div class="line"><span class="lineno"> 1522</span>      p = m.GetPdgCode()</div>
<div class="line"><span class="lineno"> 1523</span>      <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(str(p)):</div>
<div class="line"><span class="lineno"> 1524</span>          h[str(p)]=h[<span class="stringliteral">&#39;mass&#39;</span>].Clone(str(p))</div>
<div class="line"><span class="lineno"> 1525</span>      rc=h[str(p)].Fill(m.GetMass())</div>
<div class="line"><span class="lineno"> 1526</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1196888c2c707b59a056eb32f353eda" name="ab1196888c2c707b59a056eb32f353eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1196888c2c707b59a056eb32f353eda">&#9670;&#160;</a></span>checkMCEffTuning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.checkMCEffTuning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05724">5724</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5724</span><span class="keyword">def </span>checkMCEffTuning():</div>
<div class="line"><span class="lineno"> 5725</span>    charmNorm  = {1:0.176,10:0.424}</div>
<div class="line"><span class="lineno"> 5726</span>    beautyNorm = {1:0.,   10:0.01218}</div>
<div class="line"><span class="lineno"> 5727</span>    sim10fact = 1.8/(65.*(1.-0.016)) <span class="comment"># normalize 10GeV to 1GeV stats, 1.6% of 10GeV stats not processed.</span></div>
<div class="line"><span class="lineno"> 5728</span>    sources = {<span class="stringliteral">&quot;&quot;</span>:1.,<span class="stringliteral">&quot;Hadronic inelastic&quot;</span>:100.,<span class="stringliteral">&quot;Lepton pair&quot;</span>:100.,<span class="stringliteral">&quot;Positron annihilation&quot;</span>:100.,<span class="stringliteral">&quot;charm&quot;</span>:1./charmNorm[10],<span class="stringliteral">&quot;beauty&quot;</span>:1./beautyNorm[10]}</div>
<div class="line"><span class="lineno"> 5729</span>    interestingHistos = []</div>
<div class="line"><span class="lineno"> 5730</span>    <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5731</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5732</span>            <span class="keywordflow">for</span> source <span class="keywordflow">in</span> sources:  interestingHistos.append(a+x+source)</div>
<div class="line"><span class="lineno"> 5733</span>    ut.readHists(hMC,       <span class="stringliteral">&#39;../momDistributions-mbias.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5734</span>    ut.readHists(hCharm,    <span class="stringliteral">&#39;../momDistributions-charm.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5735</span>    ut.readHists(hMC10GeV,  <span class="stringliteral">&#39;../momDistributions-10GeVTR.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5736</span>    ut.readHists(hMCD,       <span class="stringliteral">&#39;momDistributions-1GeV-mbias-withDeadChannels.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5737</span>    ut.readHists(hCharmD,    <span class="stringliteral">&#39;momDistributions-1GeV-charm-withDeadChannels.root &#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5738</span>    ut.readHists(hMC10GeVD,  <span class="stringliteral">&#39;momDistributions-10GeV-mbias-withDeadChannels.root &#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5739</span>    ut.readHists(hMC0,      <span class="stringliteral">&#39;../momDistributions-1GeV-mbias-effTuned-M0.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5740</span>    ut.readHists(hMC2,      <span class="stringliteral">&#39;../momDistributions-1GeV-mbias-effTuned-M2.root&#39;</span>,     interestingHistos)</div>
<div class="line"><span class="lineno"> 5741</span>    ut.readHists(hMCrec0,   <span class="stringliteral">&#39;../momDistributions-1GeV-mbias-effTuned-M0-reco.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5742</span>    ut.readHists(hMCrec2,   <span class="stringliteral">&#39;../momDistributions-1GeV-mbias-effTuned-M2-reco.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5743</span>    ut.readHists(hCharm0,   <span class="stringliteral">&#39;../momDistributions-1GeV-charm-effTuned-M0.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5744</span>    ut.readHists(hCharm2,   <span class="stringliteral">&#39;../momDistributions-1GeV-charm-effTuned-M2.root&#39;</span>,     interestingHistos)</div>
<div class="line"><span class="lineno"> 5745</span>    ut.readHists(hCharmrec0,<span class="stringliteral">&#39;../momDistributions-1GeV-charm-effTuned-M0-reco.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5746</span>    ut.readHists(hCharmrec2,<span class="stringliteral">&#39;../momDistributions-1GeV-charm-effTuned-M2-reco.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5747</span>    ut.readHists(hMC10GeV0,   <span class="stringliteral">&#39;../momDistributions-10GeV-mbias-effTuned-M0.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5748</span>    ut.readHists(hMC10GeV2,   <span class="stringliteral">&#39;../momDistributions-10GeV-mbias-effTuned-M2.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5749</span>    ut.readHists(hMC10GeVrec0,<span class="stringliteral">&#39;../momDistributions-10GeV-mbias-effTuned-M0-reco.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5750</span>    ut.readHists(hMC10GeVrec2,<span class="stringliteral">&#39;../momDistributions-10GeV-mbias-effTuned-M2-reco.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5751</span>    a= <span class="stringliteral">&#39;p/pt_projx&#39;</span></div>
<div class="line"><span class="lineno"> 5752</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;with deadChannels / default&quot;</span></div>
<div class="line"><span class="lineno"> 5753</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;1GeV mbias:&quot;</span>,hMCD[a].GetEntries()/hMC[a].GetEntries()</div>
<div class="line"><span class="lineno"> 5754</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;1GeV charm:&quot;</span>,hCharmD[a].GetEntries()/hCharm[a].GetEntries()</div>
<div class="line"><span class="lineno"> 5755</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;10GeV     :&quot;</span>,hMC10GeVD[a].GetEntries()/hMC10GeV[a].GetEntries()</div>
<div class="line"><span class="lineno"> 5756</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;method 0 / default&quot;</span></div>
<div class="line"><span class="lineno"> 5757</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;1GeV mbias:&quot;</span>,hMC0[a].GetEntries()/hMC[a].GetEntries(),hMCrec0[a].GetEntries()/hMC[a].GetEntries()</div>
<div class="line"><span class="lineno"> 5758</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;1GeV charm:&quot;</span>,hCharm0[a].GetEntries()/hCharm[a].GetEntries(),hCharmrec0[a].GetEntries()/hCharm[a].GetEntries()</div>
<div class="line"><span class="lineno"> 5759</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;10GeV     :&quot;</span>,hMC10GeV0[a].GetEntries()/hMC10GeV[a].GetEntries(),hMC10GeVrec0[a].GetEntries()/hMC10GeV[a].GetEntries()</div>
<div class="line"><span class="lineno"> 5760</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;method 2 / default&quot;</span></div>
<div class="line"><span class="lineno"> 5761</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;1GeV mbias:&quot;</span>,hMC2[a].GetEntries()/hMC[a].GetEntries(),hMCrec2[a].GetEntries()/hMC[a].GetEntries()</div>
<div class="line"><span class="lineno"> 5762</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;1GeV charm:&quot;</span>,hCharm2[a].GetEntries()/hCharm[a].GetEntries(),hCharmrec2[a].GetEntries()/hCharm[a].GetEntries()</div>
<div class="line"><span class="lineno"> 5763</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;10GeV     :&quot;</span>,hMC10GeV2[a].GetEntries()/hMC10GeV[a].GetEntries(),hMC10GeVrec2[a].GetEntries()/hMC10GeV[a].GetEntries()</div>
<div class="line"><span class="lineno"> 5764</span><span class="comment"># effect on mom distribution of eff tuning</span></div>
<div class="line"><span class="lineno"> 5765</span>    <span class="comment">#methods = {&#39;default&#39;:[hMC,hCharm,hMC10GeV],&#39;M0&#39;:[hMC0,hCharm0,hMC10GeV0],&#39;M2&#39;:[hMC2,hCharm2,hMC10GeV2],&#39;M0rec&#39;:[hMCrec0,hCharmrec0,hMC10GeVrec0],&#39;M2rec&#39;:[hMCrec2,hCharmrec2,hMC10GeVrec2]}</span></div>
<div class="line"><span class="lineno"> 5766</span>    methods = {<span class="stringliteral">&#39;default&#39;</span>:[hMC,hCharm,hMC10GeV],<span class="stringliteral">&#39;M0rec&#39;</span>:[hMCrec0,hCharmrec0,hMC10GeVrec0],<span class="stringliteral">&#39;M2rec&#39;</span>:[hMCrec2,hCharmrec2,hMC10GeVrec2],<span class="stringliteral">&#39;D&#39;</span>:[hMCD,hCharmD,hMC10GeVD]}</div>
<div class="line"><span class="lineno"> 5767</span>    colors = {<span class="stringliteral">&#39;M0&#39;</span>:ROOT.kRed,<span class="stringliteral">&#39;M2&#39;</span>:ROOT.kCyan,<span class="stringliteral">&#39;M0rec&#39;</span>:ROOT.kMagenta,<span class="stringliteral">&#39;M2rec&#39;</span>:ROOT.kBlue,<span class="stringliteral">&#39;D&#39;</span>:ROOT.kOrange}</div>
<div class="line"><span class="lineno"> 5768</span>    <span class="keywordflow">for</span> m <span class="keywordflow">in</span> methods:</div>
<div class="line"><span class="lineno"> 5769</span>        h[<span class="stringliteral">&#39;MC&#39;</span>+m+a] = methods[m][0][a].Clone(<span class="stringliteral">&#39;MC&#39;</span>+m+a)</div>
<div class="line"><span class="lineno"> 5770</span>        h[<span class="stringliteral">&#39;MC&#39;</span>+m+a].Add(methods[m][1][a],charmNorm[1])</div>
<div class="line"><span class="lineno"> 5771</span>        h[<span class="stringliteral">&#39;MC10&#39;</span>+m+a] = methods[m][2][a].Clone(<span class="stringliteral">&#39;MC&#39;</span>+m+a)</div>
<div class="line"><span class="lineno"> 5772</span>        h[<span class="stringliteral">&#39;MC10&#39;</span>+m+a].Add(methods[m][2][a.replace(<span class="stringliteral">&quot;_&quot;</span>,<span class="stringliteral">&quot;charm_&quot;</span>)],-1.+charmNorm[10])</div>
<div class="line"><span class="lineno"> 5773</span>        h[<span class="stringliteral">&#39;MC10&#39;</span>+m+a].Add(methods[m][2][a.replace(<span class="stringliteral">&quot;_&quot;</span>,<span class="stringliteral">&quot;beauty_&quot;</span>)],-1.+beautyNorm[10])</div>
<div class="line"><span class="lineno"> 5774</span>        h[<span class="stringliteral">&#39;MC10&#39;</span>+m+a].Scale(sim10fact)</div>
<div class="line"><span class="lineno"> 5775</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,h[<span class="stringliteral">&#39;MC&#39;</span>+m+a].GetNbinsX()+1):</div>
<div class="line"><span class="lineno"> 5776</span>            <span class="keywordflow">if</span> h[<span class="stringliteral">&#39;MC&#39;</span>+m+a].GetBinCenter(n)&lt;6:</div>
<div class="line"><span class="lineno"> 5777</span>                h[<span class="stringliteral">&#39;MC&#39;</span>+m+a].SetBinContent(n,0.)</div>
<div class="line"><span class="lineno"> 5778</span>                h[<span class="stringliteral">&#39;MC&#39;</span>+m+a].SetBinError(n,0.)</div>
<div class="line"><span class="lineno"> 5779</span>            <span class="keywordflow">if</span> h[<span class="stringliteral">&#39;MC&#39;</span>+m+a].GetBinCenter(n)&gt;5.5: <span class="comment"># &gt;20: take only 10GeV MC due to resolution effects</span></div>
<div class="line"><span class="lineno"> 5780</span>                h[<span class="stringliteral">&#39;MC&#39;</span>+m+a].SetBinContent(n,h[<span class="stringliteral">&#39;MC10&#39;</span>+m+a].GetBinContent(n))</div>
<div class="line"><span class="lineno"> 5781</span>                h[<span class="stringliteral">&#39;MC&#39;</span>+m+a].SetBinError(n,h[<span class="stringliteral">&#39;MC10&#39;</span>+m+a].GetBinError(n))</div>
<div class="line"><span class="lineno"> 5782</span>        h[<span class="stringliteral">&#39;MC&#39;</span>+m+a].Rebin(5)</div>
<div class="line"><span class="lineno"> 5783</span>        ut.makeIntegralDistrib(h,<span class="stringliteral">&#39;MC&#39;</span>+m+a)</div>
<div class="line"><span class="lineno"> 5784</span>    t = <span class="stringliteral">&#39;MC-Comparison eff tuning&#39;</span></div>
<div class="line"><span class="lineno"> 5785</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): ut.bookCanvas(h,key=t,title=<span class="stringliteral">&#39;MC-Comparison eff tuning&#39;</span>,nx=900,ny=600,cx=1,cy=1)</div>
<div class="line"><span class="lineno"> 5786</span>    tc = h[t].cd(1)</div>
<div class="line"><span class="lineno"> 5787</span>    h[<span class="stringliteral">&#39;leg&#39;</span>+t]=ROOT.TLegend(0.55,0.65,0.85,0.85)</div>
<div class="line"><span class="lineno"> 5788</span>    n = 0</div>
<div class="line"><span class="lineno"> 5789</span>    plot = <span class="stringliteral">&#39;&#39;</span> <span class="comment"># &#39;I-&#39;</span></div>
<div class="line"><span class="lineno"> 5790</span>    <span class="keywordflow">for</span> m <span class="keywordflow">in</span> methods: </div>
<div class="line"><span class="lineno"> 5791</span>        <span class="keywordflow">if</span> m == <span class="stringliteral">&#39;default&#39;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5792</span>        ihist = plot+m+<span class="stringliteral">&#39;OverDefault&#39;</span></div>
<div class="line"><span class="lineno"> 5793</span>        h[ihist] = h[plot+<span class="stringliteral">&#39;MC&#39;</span>+m+a].Clone(ihist)</div>
<div class="line"><span class="lineno"> 5794</span>        h[ihist].Divide(h[plot+<span class="stringliteral">&#39;MCdefault&#39;</span>+a])</div>
<div class="line"><span class="lineno"> 5795</span>        h[ihist].SetLineColor(colors[m])</div>
<div class="line"><span class="lineno"> 5796</span>        h[ihist].GetXaxis().SetRangeUser(5,400)</div>
<div class="line"><span class="lineno"> 5797</span>        h[ihist].SetStats(0)</div>
<div class="line"><span class="lineno"> 5798</span>        h[ihist].SetMaximum(1.1)</div>
<div class="line"><span class="lineno"> 5799</span>        h[ihist].SetMinimum(0.8)</div>
<div class="line"><span class="lineno"> 5800</span>        h[ihist].SetTitle(<span class="stringliteral">&#39;efficiency correction as function of momentum ;#it{p} [GeV/c];efficiency correction&#39;</span>)</div>
<div class="line"><span class="lineno"> 5801</span>        <span class="keywordflow">if</span> n == 0: h[ihist].Draw()</div>
<div class="line"><span class="lineno"> 5802</span>        <span class="keywordflow">else</span>: h[ihist].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 5803</span>        n+=1</div>
<div class="line"><span class="lineno"> 5804</span>        h[<span class="stringliteral">&#39;leg&#39;</span>+t].AddEntry(h[ihist],<span class="stringliteral">&#39;method &#39;</span>+m+<span class="stringliteral">&#39; / default&#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 5805</span>    h[<span class="stringliteral">&#39;leg&#39;</span>+t].Draw()</div>
<div class="line"><span class="lineno"> 5806</span>    myPrint(h[t],<span class="stringliteral">&#39;MCcomparison-Efficiency-Tuning&#39;</span>)</div>
<div class="line"><span class="lineno"> 5807</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf97a95e90ea61d6afd2599e79061ce6" name="aaf97a95e90ea61d6afd2599e79061ce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf97a95e90ea61d6afd2599e79061ce6">&#9670;&#160;</a></span>checkMCSmearing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.checkMCSmearing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01491">1491</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1491</span><span class="keyword">def </span>checkMCSmearing():</div>
<div class="line"><span class="lineno"> 1492</span>    ut.bookHist(h,<span class="stringliteral">&#39;spr&#39;</span>,<span class="stringliteral">&#39;spatial resolution MC&#39;</span>,100,-1.,1.)</div>
<div class="line"><span class="lineno"> 1493</span>    ut.bookHist(h,<span class="stringliteral">&#39;MCposX&#39;</span>,<span class="stringliteral">&#39;diff position X&#39;</span>,100,-1.,1.)</div>
<div class="line"><span class="lineno"> 1494</span>    ut.bookHist(h,<span class="stringliteral">&#39;nMeasMC&#39;</span>,<span class="stringliteral">&#39;number of hits per track&#39;</span>,50,-0.5,49.5)</div>
<div class="line"><span class="lineno"> 1495</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 1496</span>        trackID = {}</div>
<div class="line"><span class="lineno"> 1497</span>        rc = sTree.GetEvent(i)</div>
<div class="line"><span class="lineno"> 1498</span>        <span class="keywordflow">if</span> sTree.Digi_MufluxSpectrometerHits.GetEntries() != sTree.MufluxSpectrometerPoint.GetEntries():</div>
<div class="line"><span class="lineno"> 1499</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;digi does not agree with MC, break&quot;</span></div>
<div class="line"><span class="lineno"> 1500</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1501</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.Digi_MufluxSpectrometerHits.GetEntries()):</div>
<div class="line"><span class="lineno"> 1502</span>            p =  sTree.Digi_MufluxSpectrometerHits[n]</div>
<div class="line"><span class="lineno"> 1503</span>            pmc = sTree.MufluxSpectrometerPoint[n]</div>
<div class="line"><span class="lineno"> 1504</span>            mcp = pmc.GetTrackID()</div>
<div class="line"><span class="lineno"> 1505</span>            <span class="keywordflow">if</span> mcp&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1506</span>            <span class="keywordflow">if</span> abs(sTree.MCTrack[mcp].GetPdgCode())!=13: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1507</span>            t = p.GetDigi()</div>
<div class="line"><span class="lineno"> 1508</span>            <span class="comment"># r = (t-sTree.ShipEventHeader.GetEventTime())*ShipGeo.MufluxSpectrometer.v_drift</span></div>
<div class="line"><span class="lineno"> 1509</span>            r = RT(p,t)</div>
<div class="line"><span class="lineno"> 1510</span>            rc = h[<span class="stringliteral">&#39;spr&#39;</span>].Fill(r-pmc.dist2Wire())</div>
<div class="line"><span class="lineno"> 1511</span>            vbot,vtop = strawPositionsBotTop[p.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 1512</span>            rc = h[<span class="stringliteral">&#39;MCposX&#39;</span>].Fill(pmc.GetX()-vbot[0]+r)</div>
<div class="line"><span class="lineno"> 1513</span>            rc = h[<span class="stringliteral">&#39;MCposX&#39;</span>].Fill(pmc.GetX()-vbot[0]-r)</div>
<div class="line"><span class="lineno"> 1514</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> trackID.has_key(mcp): trackID[mcp]=[]</div>
<div class="line"><span class="lineno"> 1515</span>            trackID[mcp].append(n)</div>
<div class="line"><span class="lineno"> 1516</span>        <span class="keywordflow">for</span> mcp <span class="keywordflow">in</span> trackID:</div>
<div class="line"><span class="lineno"> 1517</span>            rc=h[<span class="stringliteral">&#39;nMeasMC&#39;</span>].Fill(len(trackID[mcp]))</div>
</div><!-- fragment -->
</div>
</div>
<a id="abb66db98af35139b8aef090a0ce8ebda" name="abb66db98af35139b8aef090a0ce8ebda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb66db98af35139b8aef090a0ce8ebda">&#9670;&#160;</a></span>checkRPCAcceptance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.checkRPCAcceptance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04118">4118</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4118</span><span class="keyword">def </span>checkRPCAcceptance():</div>
<div class="line"><span class="lineno"> 4119</span>    Ntracks,inAcc = 0,0</div>
<div class="line"><span class="lineno"> 4120</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 4121</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 4122</span>        <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> sTree.FitTracks:</div>
<div class="line"><span class="lineno"> 4123</span>            st = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 4124</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> st.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4125</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> aTrack.getNumPointsWithMeasurement()&gt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4126</span>            sta = aTrack.getFittedState(0)</div>
<div class="line"><span class="lineno"> 4127</span>            <span class="keywordflow">if</span> sta.getMomMag() &lt; 5.: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4128</span>            rc,pos,mom = extrapolateToPlane(aTrack,cuts[<span class="stringliteral">&#39;zRPC1&#39;</span>])</div>
<div class="line"><span class="lineno"> 4129</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4130</span>            Ntracks+=1</div>
<div class="line"><span class="lineno"> 4131</span>            <span class="keywordflow">if</span> pos[0]&gt;cuts[<span class="stringliteral">&#39;xLRPC1&#39;</span>] <span class="keywordflow">and</span> pos[0]&lt;cuts[<span class="stringliteral">&#39;xRRPC1&#39;</span>] <span class="keywordflow">and</span> pos[1]&gt;cuts[<span class="stringliteral">&#39;yBRPC1&#39;</span>] <span class="keywordflow">and</span> pos[1]&lt;cuts[<span class="stringliteral">&#39;yTRPC1&#39;</span>]: </div>
<div class="line"><span class="lineno"> 4132</span>                inAcc+=1</div>
<div class="line"><span class="lineno"> 4133</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;number of tracks &quot;</span>,Ntracks,<span class="stringliteral">&quot; in acceptance &quot;</span>,inAcc,<span class="stringliteral">&quot;=&quot;</span>,<span class="stringliteral">&quot;%F5.2&quot;</span>%(inAcc/float(Ntracks)*100),<span class="stringliteral">&quot;%&quot;</span></div>
<div class="line"><span class="lineno"> 4134</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a01c0ca2dee6675e1e1bbce93a81d86a0" name="a01c0ca2dee6675e1e1bbce93a81d86a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01c0ca2dee6675e1e1bbce93a81d86a0">&#9670;&#160;</a></span>checkTrackEfficiencyPerSpill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.checkTrackEfficiencyPerSpill </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03640">3640</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3640</span><span class="keyword">def </span>checkTrackEfficiencyPerSpill():</div>
<div class="line"><span class="lineno"> 3641</span>    path = <span class="stringliteral">&quot;/media/truf/disk2/home/truf/ShipSoft/ship-ubuntu-1710-48/zeroField&quot;</span></div>
<div class="line"><span class="lineno"> 3642</span>    ut.bookHist(h,<span class="stringliteral">&#39;Teff&#39;</span>,<span class="stringliteral">&#39;efficiency&#39;</span>,100,0.9,1.0)</div>
<div class="line"><span class="lineno"> 3643</span>    goodFiles=[]</div>
<div class="line"><span class="lineno"> 3644</span>    interestingHistos = []</div>
<div class="line"><span class="lineno"> 3645</span>    <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3646</span>        interestingHistos.append(<span class="stringliteral">&#39;upStreamOcc&#39;</span>+str(k))</div>
<div class="line"><span class="lineno"> 3647</span>        interestingHistos.append(<span class="stringliteral">&#39;upStreamOccWithTrack&#39;</span>+str(k))</div>
<div class="line"><span class="lineno"> 3648</span>        interestingHistos.append(<span class="stringliteral">&#39;upStreamOccWithTrack_mu&#39;</span>+str(k))</div>
<div class="line"><span class="lineno"> 3649</span>        interestingHistos.append(<span class="stringliteral">&#39;upStreamOccWithTrack_muX&#39;</span>+str(k))</div>
<div class="line"><span class="lineno"> 3650</span>        interestingHistos.append(<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2&#39;</span>+str(k))</div>
<div class="line"><span class="lineno"> 3651</span>        interestingHistos.append(<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2mu&#39;</span>+str(k))</div>
<div class="line"><span class="lineno"> 3652</span>    <span class="keywordflow">for</span> f <span class="keywordflow">in</span> os.listdir(path):</div>
<div class="line"><span class="lineno"> 3653</span>        <span class="keywordflow">if</span> f.find(<span class="stringliteral">&quot;histos-DTEffSPILLDATA_&quot;</span>)==0:</div>
<div class="line"><span class="lineno"> 3654</span>            <span class="keywordflow">for</span> x <span class="keywordflow">in</span> interestingHistos: </div>
<div class="line"><span class="lineno"> 3655</span>                <span class="keywordflow">if</span> h.has_key(x): h[x].Reset()</div>
<div class="line"><span class="lineno"> 3656</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot; now analyzing histo&quot;</span>,f</div>
<div class="line"><span class="lineno"> 3657</span>            fHisto=path+<span class="stringliteral">&quot;/&quot;</span>+f</div>
<div class="line"><span class="lineno"> 3658</span>            ut.readHists(h,fHisto,interestingHistos)</div>
<div class="line"><span class="lineno"> 3659</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 3660</span>                <span class="keywordflow">if</span> h[<span class="stringliteral">&#39;upStreamOccWithTrack_Chi21&#39;</span>].GetEntries()&lt;1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3661</span>                Ntag   = h[<span class="stringliteral">&#39;upStreamOcc1&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3662</span>                Ntrack = h[<span class="stringliteral">&#39;upStreamOccWithTrack1&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3663</span>                Nmu    = h[<span class="stringliteral">&#39;upStreamOccWithTrack_mu1&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3664</span>                NmuX   = h[<span class="stringliteral">&#39;upStreamOccWithTrack_muX1&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3665</span>                NChi2  = h[<span class="stringliteral">&#39;upStreamOccWithTrack_Chi21&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3666</span>                NChi2mu = h[<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2mu1&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3667</span>            <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno"> 3668</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3669</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;====== Ntags=&quot;</span>,Ntag</div>
<div class="line"><span class="lineno"> 3670</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;average track  eff            = %5.2F%%&quot;</span>%( (Ntrack*100.)/Ntag)</div>
<div class="line"><span class="lineno"> 3671</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;average track mu eff          = %5.2F%%&quot;</span>%( (Nmu*100.)/Ntag)</div>
<div class="line"><span class="lineno"> 3672</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;average track Chi2 eff        = %5.2F%%&quot;</span>%( (NChi2*100.)/Ntag)</div>
<div class="line"><span class="lineno"> 3673</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;average track Chi2 mu eff     = %5.2F%%&quot;</span>%( (NChi2mu*100.)/Ntag)</div>
<div class="line"><span class="lineno"> 3674</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;average chi2 eff on top of    = %5.2F%%&quot;</span>%( (NChi2*100.)/Ntrack)</div>
<div class="line"><span class="lineno"> 3675</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;average chi2 eff on top of mu = %5.2F%%&quot;</span>%( (NChi2mu*100.)/Nmu)</div>
<div class="line"><span class="lineno"> 3676</span>            rc = h[<span class="stringliteral">&#39;Teff&#39;</span>].Fill(float(Ntrack)/Ntag)</div>
<div class="line"><span class="lineno"> 3677</span>            goodFiles.append(fHisto)</div>
<div class="line"><span class="lineno"> 3678</span>    h[<span class="stringliteral">&#39;Teff&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3679</span>    cmd = <span class="stringliteral">&quot;hadd -f DTEff.root &quot;</span></div>
<div class="line"><span class="lineno"> 3680</span>    <span class="keywordflow">for</span> f <span class="keywordflow">in</span> goodFiles:</div>
<div class="line"><span class="lineno"> 3681</span>        cmd+=f+<span class="stringliteral">&#39; &#39;</span></div>
<div class="line"><span class="lineno"> 3682</span>    os.system(cmd)</div>
<div class="line"><span class="lineno"> 3683</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a99a7e240d2e8388fe85ae38d9775aa12" name="a99a7e240d2e8388fe85ae38d9775aa12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99a7e240d2e8388fe85ae38d9775aa12">&#9670;&#160;</a></span>checkZtilts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.checkZtilts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00823">823</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  823</span><span class="keyword">def </span>checkZtilts():</div>
<div class="line"><span class="lineno">  824</span>    <span class="comment"># station 1 and 2  01: +x,+y 02: -x,+y, 03: -x,-y 04: +x,-y </span></div>
<div class="line"><span class="lineno">  825</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> [<span class="stringliteral">&#39;T1_MA_&#39;</span>,<span class="stringliteral">&#39;T1_MB_&#39;</span>,<span class="stringliteral">&#39;T2_MC_&#39;</span>,<span class="stringliteral">&#39;T2_MD_&#39;</span>]:</div>
<div class="line"><span class="lineno">  826</span>        meanZ = 0</div>
<div class="line"><span class="lineno">  827</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;01&#39;</span>,<span class="stringliteral">&#39;02&#39;</span>,<span class="stringliteral">&#39;03&#39;</span>,<span class="stringliteral">&#39;04&#39;</span>]:</div>
<div class="line"><span class="lineno">  828</span>            meanZ += daniel[s+x][2]</div>
<div class="line"><span class="lineno">  829</span>        meanZ = meanZ/4.</div>
<div class="line"><span class="lineno">  830</span>        rms = 0</div>
<div class="line"><span class="lineno">  831</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;01&#39;</span>,<span class="stringliteral">&#39;02&#39;</span>,<span class="stringliteral">&#39;03&#39;</span>,<span class="stringliteral">&#39;04&#39;</span>]:</div>
<div class="line"><span class="lineno">  832</span>            rms += (daniel[s+x][2]-meanZ)**2</div>
<div class="line"><span class="lineno">  833</span>        rms = ROOT.TMath.Sqrt(rms)</div>
<div class="line"><span class="lineno">  834</span>        diffTopBot =  daniel[s+<span class="stringliteral">&#39;01&#39;</span>][2]-daniel[s+<span class="stringliteral">&#39;04&#39;</span>][2],daniel[s+<span class="stringliteral">&#39;02&#39;</span>][2]-daniel[s+<span class="stringliteral">&#39;03&#39;</span>][2]</div>
<div class="line"><span class="lineno">  835</span>        diffLefRig =  daniel[s+<span class="stringliteral">&#39;01&#39;</span>][2]-daniel[s+<span class="stringliteral">&#39;02&#39;</span>][2],daniel[s+<span class="stringliteral">&#39;04&#39;</span>][2]-daniel[s+<span class="stringliteral">&#39;03&#39;</span>][2]</div>
<div class="line"><span class="lineno">  836</span>        <span class="keywordflow">print</span> s,meanZ,rms,<span class="stringliteral">&#39; top/bot &#39;</span>,diffTopBot,<span class="stringliteral">&#39; left/right &#39;</span>,diffLefRig</div>
<div class="line"><span class="lineno">  837</span>    <span class="comment"># station 1 and 2  01: +x,+y 02: -x,+y, 03: -x,-y 04: +x,-y </span></div>
<div class="line"><span class="lineno">  838</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> [<span class="stringliteral">&#39;T3&#39;</span>,<span class="stringliteral">&#39;T4&#39;</span>]:</div>
<div class="line"><span class="lineno">  839</span>        meanZ = 0</div>
<div class="line"><span class="lineno">  840</span>        <span class="keywordflow">for</span> y <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_T&#39;</span>,<span class="stringliteral">&#39;_B&#39;</span>]:</div>
<div class="line"><span class="lineno">  841</span>            <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;01&#39;</span>,<span class="stringliteral">&#39;02&#39;</span>,<span class="stringliteral">&#39;03&#39;</span>,<span class="stringliteral">&#39;04&#39;</span>,<span class="stringliteral">&#39;05&#39;</span>,<span class="stringliteral">&#39;06&#39;</span>,<span class="stringliteral">&#39;07&#39;</span>,<span class="stringliteral">&#39;08&#39;</span>]:</div>
<div class="line"><span class="lineno">  842</span>                meanZ += daniel[s+y+x][2]</div>
<div class="line"><span class="lineno">  843</span>                <span class="keywordflow">print</span> s+y+x,daniel[s+y+x][2]</div>
<div class="line"><span class="lineno">  844</span>        meanZ = meanZ/16.</div>
<div class="line"><span class="lineno">  845</span>        rms = 0</div>
<div class="line"><span class="lineno">  846</span>        <span class="keywordflow">for</span> y <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_T&#39;</span>,<span class="stringliteral">&#39;_B&#39;</span>]:</div>
<div class="line"><span class="lineno">  847</span>            <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;01&#39;</span>,<span class="stringliteral">&#39;02&#39;</span>,<span class="stringliteral">&#39;03&#39;</span>,<span class="stringliteral">&#39;04&#39;</span>,<span class="stringliteral">&#39;05&#39;</span>,<span class="stringliteral">&#39;06&#39;</span>,<span class="stringliteral">&#39;07&#39;</span>,<span class="stringliteral">&#39;08&#39;</span>]:</div>
<div class="line"><span class="lineno">  848</span>                rms += (daniel[s+y+x][2]-meanZ)**2</div>
<div class="line"><span class="lineno">  849</span>        rms = ROOT.TMath.Sqrt(rms)</div>
<div class="line"><span class="lineno">  850</span>        <span class="keywordflow">print</span> s,meanZ,rms</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c366c1b081917fb4cb91e2d3f6a1f05" name="a1c366c1b081917fb4cb91e2d3f6a1f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c366c1b081917fb4cb91e2d3f6a1f05">&#9670;&#160;</a></span>cloneKiller()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.cloneKiller </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trackCandidates</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02757">2757</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2757</span><span class="keyword">def </span>cloneKiller(trackCandidates):</div>
<div class="line"><span class="lineno"> 2758</span><span class="comment"># if all x measurements identical take the one with most u,v</span></div>
<div class="line"><span class="lineno"> 2759</span><span class="comment"># if tracks share &gt;50% of downstream hits, take the one with max measurements</span></div>
<div class="line"><span class="lineno"> 2760</span>    detIDs = {}</div>
<div class="line"><span class="lineno"> 2761</span>    <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range( len(trackCandidates) ):</div>
<div class="line"><span class="lineno"> 2762</span>        detIDs[j]=countMeasurements(trackCandidates[j],PR=11)</div>
<div class="line"><span class="lineno"> 2763</span>    <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(len(detIDs)-1):</div>
<div class="line"><span class="lineno"> 2764</span>        <span class="keywordflow">if</span> len(detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>])==0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2765</span>        tj = float(len(detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>]))</div>
<div class="line"><span class="lineno"> 2766</span>        sj = trackCandidates[j].getFitStatus()</div>
<div class="line"><span class="lineno"> 2767</span>        <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(j+1,len(detIDs)):</div>
<div class="line"><span class="lineno"> 2768</span>            <span class="keywordflow">if</span> len(detIDs[k][<span class="stringliteral">&#39;xDown&#39;</span>])==0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2769</span>        <span class="comment"># not yet ready</span></div>
<div class="line"><span class="lineno"> 2770</span>            <span class="comment">#if len(detIDs[j][&#39;xAll&#39;])==len(detIDs[k][&#39;xAll&#39;]):</span></div>
<div class="line"><span class="lineno"> 2771</span>            <span class="comment"># if len(overlap(detIDs[j][&#39;xAll&#39;],detIDs[k][&#39;xAll&#39;]))==len(detIDs[j][&#39;xAll&#39;]):</span></div>
<div class="line"><span class="lineno"> 2772</span><span class="comment"># only differ in stereo </span></div>
<div class="line"><span class="lineno"> 2773</span>            <span class="comment">#  if len(detIDs[&#39;uv&#39;]</span></div>
<div class="line"><span class="lineno"> 2774</span>            o = overlap(detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>],detIDs[k][<span class="stringliteral">&#39;xDown&#39;</span>])</div>
<div class="line"><span class="lineno"> 2775</span>            tk = float(len(detIDs[k][<span class="stringliteral">&#39;xDown&#39;</span>]))</div>
<div class="line"><span class="lineno"> 2776</span>            <span class="keywordflow">if</span> max(len(o)/tj,len(o)/tk)&gt;0.49:</div>
<div class="line"><span class="lineno"> 2777</span>                sk = trackCandidates[k].getFitStatus()</div>
<div class="line"><span class="lineno"> 2778</span>                <span class="keywordflow">if</span>   sj.getNdf() &lt; sk.getNdf()-cuts[<span class="stringliteral">&#39;deltaNdf&#39;</span>]: detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>]=[]</div>
<div class="line"><span class="lineno"> 2779</span>                <span class="keywordflow">elif</span> sk.getNdf() &lt; sj.getNdf()-cuts[<span class="stringliteral">&#39;deltaNdf&#39;</span>]: detIDs[k][<span class="stringliteral">&#39;xDown&#39;</span>]=[]</div>
<div class="line"><span class="lineno"> 2780</span>                <span class="keywordflow">elif</span> sj.getChi2()/sj.getNdf() &lt; sk.getChi2()/sk.getNdf():   detIDs[k][<span class="stringliteral">&#39;xDown&#39;</span>]=[]</div>
<div class="line"><span class="lineno"> 2781</span>                <span class="keywordflow">elif</span> sk.getChi2()/sk.getNdf() &lt; sj.getChi2()/sj.getNdf(): detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>]=[]</div>
<div class="line"><span class="lineno"> 2782</span>                <span class="keywordflow">else</span>: detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>]=[]</div>
<div class="line"><span class="lineno"> 2783</span>                <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> <span class="stringliteral">&quot;j,k&quot;</span>,j,sj.getNdf(),sj.getChi2(),sj.getChi2()/sj.getNdf(),len(detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>]),len(detIDs[j][<span class="stringliteral">&#39;uv&#39;</span>]),<span class="stringliteral">&#39; | &#39;</span>, k,sk.getNdf(),sk.getChi2(),sk.getChi2()/sk.getNdf(),len(detIDs[k][<span class="stringliteral">&#39;xDown&#39;</span>]),len(detIDs[k][<span class="stringliteral">&#39;uv&#39;</span>])</div>
<div class="line"><span class="lineno"> 2784</span>            <span class="keywordflow">if</span> len(detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>])==0: <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 2785</span>    cloneKilledTracks = []</div>
<div class="line"><span class="lineno"> 2786</span>    j=-1</div>
<div class="line"><span class="lineno"> 2787</span>    <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> trackCandidates:</div>
<div class="line"><span class="lineno"> 2788</span>        j+=1</div>
<div class="line"><span class="lineno"> 2789</span>        <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> <span class="stringliteral">&quot;clone killer at work&quot;</span>,j,len(detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>])</div>
<div class="line"><span class="lineno"> 2790</span>        <span class="keywordflow">if</span>  len(detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>])&gt;0: </div>
<div class="line"><span class="lineno"> 2791</span>            cloneKilledTracks.append(aTrack)</div>
<div class="line"><span class="lineno"> 2792</span>    j=-1</div>
<div class="line"><span class="lineno"> 2793</span>    <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> trackCandidates:</div>
<div class="line"><span class="lineno"> 2794</span>        j+=1</div>
<div class="line"><span class="lineno"> 2795</span>        <span class="keywordflow">if</span>  len(detIDs[j][<span class="stringliteral">&#39;xDown&#39;</span>])==0: aTrack.Delete()</div>
<div class="line"><span class="lineno"> 2796</span>    <span class="keywordflow">return</span> cloneKilledTracks</div>
<div class="line"><span class="lineno"> 2797</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7024f5ebc7deecf1624a034fff35b71e" name="a7024f5ebc7deecf1624a034fff35b71e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7024f5ebc7deecf1624a034fff35b71e">&#9670;&#160;</a></span>clusterSizesPerLayer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.clusterSizesPerLayer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nevents</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04953">4953</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4953</span><span class="keyword">def </span>clusterSizesPerLayer(nevents):</div>
<div class="line"><span class="lineno"> 4954</span>    ut.bookHist(h,<span class="stringliteral">&#39;ToverT&#39;</span>,<span class="stringliteral">&#39;Time over threshold&#39;</span>,3000,-1000.,2000.)</div>
<div class="line"><span class="lineno"> 4955</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 4956</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> views[s]:</div>
<div class="line"><span class="lineno"> 4957</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 4958</span>                ut.bookHist(h,<span class="stringliteral">&#39;multHits_&#39;</span>+str(s)+view+str(l),<span class="stringliteral">&#39;DT cluster size&#39;</span>,16,-0.5,15.5)</div>
<div class="line"><span class="lineno"> 4959</span>    <span class="keywordflow">for</span> Nr <span class="keywordflow">in</span> range(nevents):</div>
<div class="line"><span class="lineno"> 4960</span>        rc = sTree.GetEvent(Nr)</div>
<div class="line"><span class="lineno"> 4961</span>        spectrHitsSorted = ROOT.nestedList()</div>
<div class="line"><span class="lineno"> 4962</span>        muflux_Reco.sortHits(sTree.Digi_MufluxSpectrometerHits,spectrHitsSorted,<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 4963</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 4964</span>            <span class="keywordflow">for</span> view <span class="keywordflow">in</span> viewsI[s]:</div>
<div class="line"><span class="lineno"> 4965</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 4966</span>                    allHits=[]</div>
<div class="line"><span class="lineno"> 4967</span>                    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> spectrHitsSorted[view][s][l]:</div>
<div class="line"><span class="lineno"> 4968</span>                        allHits.append(x.GetDetectorID()%1000)</div>
<div class="line"><span class="lineno"> 4969</span>                    clustersPerLayer = dict(enumerate(grouper(allHits,1), 1))</div>
<div class="line"><span class="lineno"> 4970</span>                    <span class="keywordflow">for</span> Acl <span class="keywordflow">in</span> clustersPerLayer:</div>
<div class="line"><span class="lineno"> 4971</span>                        rc = h[<span class="stringliteral">&#39;multHits_&#39;</span>+str(s)+viewC[view]+str(l)].Fill(len(clustersPerLayer[Acl]))</div>
<div class="line"><span class="lineno"> 4972</span>                        <span class="keywordflow">if</span> len(clustersPerLayer[Acl])&gt;3:</div>
<div class="line"><span class="lineno"> 4973</span>                            <span class="keywordflow">for</span> aHit <span class="keywordflow">in</span> spectrHitsSorted[view][s][l]: </div>
<div class="line"><span class="lineno"> 4974</span>                                    <span class="comment">#print Nr,s,view,l,aHit.GetDetectorID()%1000,aHit.GetWidth()</span></div>
<div class="line"><span class="lineno"> 4975</span>                                h[<span class="stringliteral">&#39;ToverT&#39;</span>].Fill(aHit.GetTimeOverThreshold())</div>
<div class="line"><span class="lineno"> 4976</span>    ut.bookCanvas(h,key=<span class="stringliteral">&#39;clusSizes&#39;</span>,title=<span class="stringliteral">&#39;Cluster sizes per Layer&#39;</span>,nx=1600,ny=1200,cx=4,cy=6)</div>
<div class="line"><span class="lineno"> 4977</span>    j=1</div>
<div class="line"><span class="lineno"> 4978</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 4979</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> views[s]:</div>
<div class="line"><span class="lineno"> 4980</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 4981</span>                tc=h[<span class="stringliteral">&#39;clusSizes&#39;</span>].cd(j)</div>
<div class="line"><span class="lineno"> 4982</span>                tc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 4983</span>                hname = <span class="stringliteral">&#39;multHits_&#39;</span>+str(s)+viewC[view]+str(l)</div>
<div class="line"><span class="lineno"> 4984</span>                h[hname+<span class="stringliteral">&#39;x&#39;</span>]=h[hname].Clone(hname+<span class="stringliteral">&#39;x&#39;</span>)</div>
<div class="line"><span class="lineno"> 4985</span>                h[hname+<span class="stringliteral">&#39;x&#39;</span>].Scale(1./float(h[hname].GetEntries()))</div>
<div class="line"><span class="lineno"> 4986</span>                h[hname+<span class="stringliteral">&#39;x&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 4987</span>                j+=1</div>
<div class="line"><span class="lineno"> 4988</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afdd3d6231f42c142638cb1d1ef9d11be" name="afdd3d6231f42c142638cb1d1ef9d11be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd3d6231f42c142638cb1d1ef9d11be">&#9670;&#160;</a></span>compareAlignment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.compareAlignment </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00686">686</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  686</span><span class="keyword">def </span>compareAlignment():</div>
<div class="line"><span class="lineno">  687</span>    ut.bookHist(h,<span class="stringliteral">&#39;alignCompare&#39;</span>,<span class="stringliteral">&#39;compare Alignments&#39;</span>,100,-120.,120.,100,-120.,120.)</div>
<div class="line"><span class="lineno">  688</span>    ut.bookHist(h,<span class="stringliteral">&#39;alignCompareDiffs&#39;</span>,<span class="stringliteral">&#39;compare Alignments&#39;</span>,100,-1.,1.)</div>
<div class="line"><span class="lineno">  689</span>    keys = xpos.keys()</div>
<div class="line"><span class="lineno">  690</span>    keys.sort()</div>
<div class="line"><span class="lineno">  691</span>    <span class="keywordflow">for</span> d <span class="keywordflow">in</span> keys:</div>
<div class="line"><span class="lineno">  692</span>        test = ROOT.MufluxSpectrometerHit(d,0.)</div>
<div class="line"><span class="lineno">  693</span>        test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  694</span>        statnb,vnb,pnb,lnb,view,channelID,tdcId,nRT = stationInfo(test)</div>
<div class="line"><span class="lineno">  695</span>        angle = ROOT.TMath.ATan2(-vtop[0]+vbot[0],-vtop[1]+vbot[1])/ROOT.TMath.Pi()*180</div>
<div class="line"><span class="lineno">  696</span>        L = ROOT.TMath.Sqrt( (vbot[0]-vtop[0])**2+(vbot[1]-vtop[1])**2)</div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">if</span> view==<span class="stringliteral">&#39;_x&#39;</span>: vbotD,vtopD = ROOT.TVector3(xpos[d],L/2.,zpos[d]),ROOT.TVector3(xpos[d],-L/2.,zpos[d])</div>
<div class="line"><span class="lineno">  698</span>        <span class="keywordflow">else</span>: vbotD,vtopD = ROOT.TVector3(xposb[d],yposb[d],zpos[d]),ROOT.TVector3(xpos[d],ypos[d],zpos[d])</div>
<div class="line"><span class="lineno">  699</span>        angleD = ROOT.TMath.ATan2(vtopD[0]-vbotD[0],vtopD[1]-vbotD[1])/ROOT.TMath.Pi()*180</div>
<div class="line"><span class="lineno">  700</span>        <span class="keywordflow">if</span> abs(vtop[0]-vbot[0])&lt;1:</div>
<div class="line"><span class="lineno">  701</span>            x0 = (vtop[0]+vbot[0])/2.</div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  703</span>            m = (vtop[1]-vbot[1])/(vtop[0]-vbot[0])</div>
<div class="line"><span class="lineno">  704</span>            b = vtop[1]-m*vtop[0]</div>
<div class="line"><span class="lineno">  705</span>            x0 = -b/m </div>
<div class="line"><span class="lineno">  706</span>        <span class="keywordflow">if</span> abs(vtopD[0]-vbotD[0])&lt;1:</div>
<div class="line"><span class="lineno">  707</span>            x0D = (vtopD[0]+vbotD[0])/2.</div>
<div class="line"><span class="lineno">  708</span>        <span class="keywordflow">else</span>:   </div>
<div class="line"><span class="lineno">  709</span>            mD = (vtopD[1]-vbotD[1])/(vtopD[0]-vbotD[0])</div>
<div class="line"><span class="lineno">  710</span>            bD = vtopD[1]-mD*vtopD[0]</div>
<div class="line"><span class="lineno">  711</span>            x0D = -bD/mD</div>
<div class="line"><span class="lineno">  712</span>        diff = x0-x0D</div>
<div class="line"><span class="lineno">  713</span>        z = (vbot[2]+vtop[2])/2.</div>
<div class="line"><span class="lineno">  714</span>        txt = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  715</span>        <span class="keywordflow">if</span> abs(diff)&gt;0.1 : txt = <span class="stringliteral">&quot;!!! &quot;</span></div>
<div class="line"><span class="lineno">  716</span>        <span class="keywordflow">if</span> abs(z-vbotD[2])&gt;0.1: txt+= <span class="stringliteral">&quot;!!z&quot;</span></div>
<div class="line"><span class="lineno">  717</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s %i x/y pos from Daniel %7.4F %7.4F %7.4F %7.4F %7.4F  from FairShip  %7.4F %7.4F %7.4F %7.4F %7.4F diff %5.4F zdiff %5.4F&quot;</span>\</div>
<div class="line"><span class="lineno">  718</span>                     %(txt,d,x0D,angleD,vbotD[1],vtopD[1],vbotD[2],x0,angle,vtop[1],vbot[1],vbot[2],(x0D-x0)*10.,(z-vbotD[2])*10)</div>
<div class="line"><span class="lineno">  719</span>        <span class="keywordflow">if</span> abs(vbot[2]-vtop[2])&gt;0.1: <span class="keywordflow">print</span> <span class="stringliteral">&quot;!!! z tilt&quot;</span>,vbot[2],vtop[2]</div>
<div class="line"><span class="lineno">  720</span>        rc = h[<span class="stringliteral">&#39;alignCompare&#39;</span>].Fill(x0D,x0)</div>
<div class="line"><span class="lineno">  721</span>        rc = h[<span class="stringliteral">&#39;alignCompareDiffs&#39;</span>].Fill(x0D-x0)</div>
<div class="line"><span class="lineno">  722</span>    z0_D = zpos[<span class="stringliteral">&#39;T1X&#39;</span>]/10.</div>
<div class="line"><span class="lineno">  723</span>    test = ROOT.MufluxSpectrometerHit(10002001,0.)</div>
<div class="line"><span class="lineno">  724</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  725</span>    z0_F = (vbot[2]+vtop[2])/2.</div>
<div class="line"><span class="lineno">  726</span><span class="comment"># distance to T1 u</span></div>
<div class="line"><span class="lineno">  727</span>    test = ROOT.MufluxSpectrometerHit(11002001,0.)</div>
<div class="line"><span class="lineno">  728</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  729</span>    z1_U = (vbot[2]+vtop[2])/2. - z0_F</div>
<div class="line"><span class="lineno">  730</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;distance T1 X to T1 U:&quot;</span>,zpos[<span class="stringliteral">&#39;T1U&#39;</span>]/10.-z0_D,z1_U</div>
<div class="line"><span class="lineno">  731</span><span class="comment"># distance to T2 V</span></div>
<div class="line"><span class="lineno">  732</span>    test = ROOT.MufluxSpectrometerHit(20002001,0.)</div>
<div class="line"><span class="lineno">  733</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  734</span>    z2_V = (vbot[2]+vtop[2])/2. - z0_F</div>
<div class="line"><span class="lineno">  735</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;distance T1 X to T2 V:&quot;</span>,zpos[<span class="stringliteral">&#39;T2V&#39;</span>]/10.-z0_D,z2_V</div>
<div class="line"><span class="lineno">  736</span><span class="comment"># distance to T2 X</span></div>
<div class="line"><span class="lineno">  737</span>    test = ROOT.MufluxSpectrometerHit(21002001,0.)</div>
<div class="line"><span class="lineno">  738</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  739</span>    z2_X = (vbot[2]+vtop[2])/2. - z0_F</div>
<div class="line"><span class="lineno">  740</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;distance T1 X to T2 X:&quot;</span>,zpos[<span class="stringliteral">&#39;T2X&#39;</span>]/10.-z0_D,z2_X</div>
<div class="line"><span class="lineno">  741</span><span class="comment"># distance to T3 X</span></div>
<div class="line"><span class="lineno">  742</span>    test = ROOT.MufluxSpectrometerHit(30002001,0.)</div>
<div class="line"><span class="lineno">  743</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  744</span>    z3_X = (vbot[2]+vtop[2])/2. - z0_F</div>
<div class="line"><span class="lineno">  745</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;distance T1 X to T3 X:&quot;</span>,(zpos[<span class="stringliteral">&#39;T3aX&#39;</span>]+zpos[<span class="stringliteral">&#39;T3bX&#39;</span>]+zpos[<span class="stringliteral">&#39;T3cX&#39;</span>]+zpos[<span class="stringliteral">&#39;T3dX&#39;</span>])/(4*10.)-z0_D,z3_X</div>
<div class="line"><span class="lineno">  746</span><span class="comment"># distance to T4 X</span></div>
<div class="line"><span class="lineno">  747</span>    test = ROOT.MufluxSpectrometerHit(40002001,0.)</div>
<div class="line"><span class="lineno">  748</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  749</span>    z4_X = (vbot[2]+vtop[2])/2. - z0_F</div>
<div class="line"><span class="lineno">  750</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;distance T1 X to T4 X:&quot;</span>,(zpos[<span class="stringliteral">&#39;T4aX&#39;</span>]+zpos[<span class="stringliteral">&#39;T4bX&#39;</span>]+zpos[<span class="stringliteral">&#39;T4cX&#39;</span>]+zpos[<span class="stringliteral">&#39;T4dX&#39;</span>])/(4*10.)-z0_D,z4_X</div>
<div class="line"><span class="lineno">  751</span><span class="comment">#</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaea00fc74e5c24b3da191d3f5fdecf5d" name="aaea00fc74e5c24b3da191d3f5fdecf5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaea00fc74e5c24b3da191d3f5fdecf5d">&#9670;&#160;</a></span>compareRuns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.compareRuns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>runs</em> = <code>[]</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l06969">6969</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6969</span><span class="keyword">def </span>compareRuns(runs=[]):</div>
<div class="line"><span class="lineno"> 6970</span>    <span class="comment"># runs = [2307,2357,2359,2360,2361,2365,2366,2395,2396]</span></div>
<div class="line"><span class="lineno"> 6971</span>    <span class="comment"># runs = [2200,2201,2202,2203,2205,2206,2207,2208,2276]</span></div>
<div class="line"><span class="lineno"> 6972</span>    eventStats = {}</div>
<div class="line"><span class="lineno"> 6973</span>    noField = [2199,2200,2201]</div>
<div class="line"><span class="lineno"> 6974</span>    intermediateField = [2383,2388,2389,2390,2392,2395,2396]</div>
<div class="line"><span class="lineno"> 6975</span>    noTracks = [2334, 2335, 2336, 2337, 2345, 2389,2390]</div>
<div class="line"><span class="lineno"> 6976</span>    ROOT.gStyle.SetPalette(ROOT.kGreenPink)</div>
<div class="line"><span class="lineno"> 6977</span>    interestingHistos=[<span class="stringliteral">&#39;Trscalers&#39;</span>,<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;p/ptmu&#39;</span>]</div>
<div class="line"><span class="lineno"> 6978</span>    <span class="keywordflow">if</span> len(runs)==0:</div>
<div class="line"><span class="lineno"> 6979</span>        keyword = <span class="stringliteral">&#39;RUN_8000_2&#39;</span></div>
<div class="line"><span class="lineno"> 6980</span>        temp = os.listdir(<span class="stringliteral">&#39;.&#39;</span>)</div>
<div class="line"><span class="lineno"> 6981</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> temp:</div>
<div class="line"><span class="lineno"> 6982</span>            <span class="keywordflow">if</span> x.find(keyword)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6983</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isdir(x): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6984</span>            r = int(x[x.rfind(<span class="stringliteral">&#39;/&#39;</span>)+1:].split(<span class="stringliteral">&#39;_&#39;</span>)[2])</div>
<div class="line"><span class="lineno"> 6985</span>            <span class="keywordflow">if</span> r <span class="keywordflow">in</span> noField: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6986</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> hruns.has_key(r): </div>
<div class="line"><span class="lineno"> 6987</span>                runs.append(r)</div>
<div class="line"><span class="lineno"> 6988</span>                hruns[r]={}</div>
<div class="line"><span class="lineno"> 6989</span>                ut.readHists(hruns[r],<span class="stringliteral">&#39;momDistributions-&#39;</span>+r+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 6990</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 6991</span>        <span class="keywordflow">for</span> r <span class="keywordflow">in</span> runs:</div>
<div class="line"><span class="lineno"> 6992</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> hruns.has_key(r): </div>
<div class="line"><span class="lineno"> 6993</span>                hruns[r]={}</div>
<div class="line"><span class="lineno"> 6994</span>                ut.readHists(hruns[r],<span class="stringliteral">&#39;momDistributions_RUN_8000_&#39;</span>+str(r)+<span class="stringliteral">&#39;.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 6995</span>    runs.sort()</div>
<div class="line"><span class="lineno"> 6996</span>    first = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 6997</span>    j=0</div>
<div class="line"><span class="lineno"> 6998</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;RunComparison&#39;</span>): </div>
<div class="line"><span class="lineno"> 6999</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;RunComparison&#39;</span>,title=<span class="stringliteral">&#39;Momentum&#39;</span>,nx=1600,ny=1200,cx=1,cy=0)</div>
<div class="line"><span class="lineno"> 7000</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;EventStatistics&#39;</span>,title=<span class="stringliteral">&#39;Event Statistics&#39;</span>,nx=1800,ny=800,cx=1,cy=0)</div>
<div class="line"><span class="lineno"> 7001</span>        ut.bookHist(h,<span class="stringliteral">&#39;HEventStatistics&#39;</span>,<span class="stringliteral">&#39;Event Statistics;run number&#39;</span>,100,2000,3000)</div>
<div class="line"><span class="lineno"> 7002</span>    h[<span class="stringliteral">&#39;legRunComparison&#39;</span>]=ROOT.TLegend(0.35,0.16,0.86,0.46)</div>
<div class="line"><span class="lineno"> 7003</span>    tc = h[<span class="stringliteral">&#39;RunComparison&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 7004</span>    tc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 7005</span>    <span class="keywordflow">for</span> r <span class="keywordflow">in</span> runs:</div>
<div class="line"><span class="lineno"> 7006</span>        first = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 7007</span>        hname = <span class="stringliteral">&#39;p/pt_projx&#39;</span></div>
<div class="line"><span class="lineno"> 7008</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hruns[r].has_key(<span class="stringliteral">&#39;Trscalers&#39;</span>): </div>
<div class="line"><span class="lineno"> 7009</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;!!!!!   no entry for RUN&quot;</span>,r</div>
<div class="line"><span class="lineno"> 7010</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7011</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;&gt;&gt;&gt;&gt;&gt;&gt;   statistics for RUN&quot;</span>,r</div>
<div class="line"><span class="lineno"> 7012</span>        N = hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(1)</div>
<div class="line"><span class="lineno"> 7013</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;number of events&quot;</span>,hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(1)</div>
<div class="line"><span class="lineno"> 7014</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;events with tracks %5.2F%%&quot;</span>%(hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(2)/hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(1)*100)</div>
<div class="line"><span class="lineno"> 7015</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;tracks/event                     %5.2F%%&quot;</span>%(hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(3)/hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(1)*100)</div>
<div class="line"><span class="lineno"> 7016</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;ratio of muon tagged tracks / all tracks %5.2F%%&quot;</span>%(hruns[r][<span class="stringliteral">&#39;p/ptmu&#39;</span>].GetEntries()/(hruns[r][<span class="stringliteral">&#39;p/pt&#39;</span>].GetEntries()+1E-6))</div>
<div class="line"><span class="lineno"> 7017</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;mean p %5.2F GeV/c, rms %5.2F GeV/c&quot;</span>%(hruns[r][hname].GetMean(),hruns[r][hname].GetRMS())</div>
<div class="line"><span class="lineno"> 7018</span>        eventStats[r]=[hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(2)/hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(1),</div>
<div class="line"><span class="lineno"> 7019</span>                       hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(3)/hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(1),</div>
<div class="line"><span class="lineno"> 7020</span>                       hruns[r][hname].GetMean(),</div>
<div class="line"><span class="lineno"> 7021</span>                       hruns[r][<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(2),</div>
<div class="line"><span class="lineno"> 7022</span>                       hruns[r][<span class="stringliteral">&#39;p/ptmu&#39;</span>].GetEntries()/(hruns[r][<span class="stringliteral">&#39;p/pt&#39;</span>].GetEntries()+1E-6)]</div>
<div class="line"><span class="lineno"> 7023</span>        hruns[r][hname].Scale(1/N)</div>
<div class="line"><span class="lineno"> 7024</span>        hruns[r][hname].SetLineWidth(3)</div>
<div class="line"><span class="lineno"> 7025</span>        hruns[r][hname].SetStats(0)</div>
<div class="line"><span class="lineno"> 7026</span>        hruns[r][hname].SetTitle(str(r))</div>
<div class="line"><span class="lineno"> 7027</span>        <span class="keywordflow">if</span> first:  </div>
<div class="line"><span class="lineno"> 7028</span>            hruns[r][hname].Draw(<span class="stringliteral">&#39;PLC PMC&#39;</span>)</div>
<div class="line"><span class="lineno"> 7029</span>            first = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 7030</span>        <span class="keywordflow">else</span>:  hruns[r][hname].Draw(<span class="stringliteral">&#39;same PLC PMC&#39;</span>)</div>
<div class="line"><span class="lineno"> 7031</span>        h[<span class="stringliteral">&#39;legRunComparison&#39;</span>].AddEntry(hruns[r][hname],str(r),<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 7032</span>        j+=1</div>
<div class="line"><span class="lineno"> 7033</span>    tc.BuildLegend()</div>
<div class="line"><span class="lineno"> 7034</span>    tc = h[<span class="stringliteral">&#39;EventStatistics&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 7035</span>    h[<span class="stringliteral">&#39;eventStats1&#39;</span>]=ROOT.TGraph(len(eventStats))</div>
<div class="line"><span class="lineno"> 7036</span>    h[<span class="stringliteral">&#39;eventStats2&#39;</span>]=ROOT.TGraph(len(eventStats))</div>
<div class="line"><span class="lineno"> 7037</span>    h[<span class="stringliteral">&#39;eventStats3&#39;</span>]=ROOT.TGraph(len(eventStats))</div>
<div class="line"><span class="lineno"> 7038</span>    h[<span class="stringliteral">&#39;eventStats4&#39;</span>]=ROOT.TGraph(len(eventStats))</div>
<div class="line"><span class="lineno"> 7039</span>    n=0</div>
<div class="line"><span class="lineno"> 7040</span>    <span class="keywordflow">for</span> r <span class="keywordflow">in</span> eventStats:</div>
<div class="line"><span class="lineno"> 7041</span>        h[<span class="stringliteral">&#39;eventStats1&#39;</span>].SetPoint(n,r,eventStats[r][0])</div>
<div class="line"><span class="lineno"> 7042</span>        h[<span class="stringliteral">&#39;eventStats2&#39;</span>].SetPoint(n,r,eventStats[r][1])</div>
<div class="line"><span class="lineno"> 7043</span>        h[<span class="stringliteral">&#39;eventStats3&#39;</span>].SetPoint(n,r,eventStats[r][2]/100.)</div>
<div class="line"><span class="lineno"> 7044</span>        h[<span class="stringliteral">&#39;eventStats4&#39;</span>].SetPoint(n,r,eventStats[r][4]/5.)</div>
<div class="line"><span class="lineno"> 7045</span>        n+=1</div>
<div class="line"><span class="lineno"> 7046</span> </div>
<div class="line"><span class="lineno"> 7047</span>    h[<span class="stringliteral">&#39;legruns&#39;</span>]=ROOT.TLegend(0.35,0.12,0.86,0.42)</div>
<div class="line"><span class="lineno"> 7048</span>    h[<span class="stringliteral">&#39;eventStats1&#39;</span>].SetMarkerColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 7049</span>    h[<span class="stringliteral">&#39;eventStats1&#39;</span>].SetMarkerSize(1.5)</div>
<div class="line"><span class="lineno"> 7050</span>    h[<span class="stringliteral">&#39;eventStats1&#39;</span>].SetMarkerStyle(34)</div>
<div class="line"><span class="lineno"> 7051</span>    h[<span class="stringliteral">&#39;eventStats2&#39;</span>].SetMarkerColor(ROOT.kBlue-4)</div>
<div class="line"><span class="lineno"> 7052</span>    h[<span class="stringliteral">&#39;eventStats2&#39;</span>].SetMarkerSize(1.5)</div>
<div class="line"><span class="lineno"> 7053</span>    h[<span class="stringliteral">&#39;eventStats2&#39;</span>].SetMarkerStyle(24)</div>
<div class="line"><span class="lineno"> 7054</span>    h[<span class="stringliteral">&#39;eventStats2&#39;</span>].SetMarkerColor(3)</div>
<div class="line"><span class="lineno"> 7055</span>    h[<span class="stringliteral">&#39;eventStats3&#39;</span>].SetMarkerColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 7056</span>    h[<span class="stringliteral">&#39;eventStats3&#39;</span>].SetMarkerSize(1.0)</div>
<div class="line"><span class="lineno"> 7057</span>    h[<span class="stringliteral">&#39;eventStats3&#39;</span>].SetMarkerStyle(47)</div>
<div class="line"><span class="lineno"> 7058</span>    h[<span class="stringliteral">&#39;eventStats4&#39;</span>].SetMarkerColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 7059</span>    h[<span class="stringliteral">&#39;eventStats4&#39;</span>].SetMarkerSize(1.5)</div>
<div class="line"><span class="lineno"> 7060</span>    h[<span class="stringliteral">&#39;eventStats4&#39;</span>].SetMarkerStyle(29)</div>
<div class="line"><span class="lineno"> 7061</span>    h[<span class="stringliteral">&#39;eventStats1&#39;</span>].SetTitle(<span class="stringliteral">&#39;Run statistics  Data Quality&#39;</span>)</div>
<div class="line"><span class="lineno"> 7062</span>    h[<span class="stringliteral">&#39;eventStats1&#39;</span>].SetMinimum(-0.01)</div>
<div class="line"><span class="lineno"> 7063</span>    h[<span class="stringliteral">&#39;eventStats1&#39;</span>].SetMaximum(0.25)</div>
<div class="line"><span class="lineno"> 7064</span>    h[<span class="stringliteral">&#39;eventStats1&#39;</span>].Draw(<span class="stringliteral">&#39;AP&#39;</span>)</div>
<div class="line"><span class="lineno"> 7065</span>    lg = h[<span class="stringliteral">&#39;legruns&#39;</span>].AddEntry(h[<span class="stringliteral">&#39;eventStats1&#39;</span>],<span class="stringliteral">&#39;N events with tracks / N events&#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 7066</span>    lg.SetTextColor(h[<span class="stringliteral">&#39;eventStats1&#39;</span>].GetMarkerColor())</div>
<div class="line"><span class="lineno"> 7067</span>    <span class="comment"># h[&#39;legruns&#39;].AddEntry(h[&#39;eventStats2&#39;],&#39;N of tracks / N events&#39;,&#39;PL&#39;)</span></div>
<div class="line"><span class="lineno"> 7068</span>    lg = h[<span class="stringliteral">&#39;legruns&#39;</span>].AddEntry(h[<span class="stringliteral">&#39;eventStats3&#39;</span>],<span class="stringliteral">&#39;mean momentum [GeV /100]&#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 7069</span>    lg.SetTextColor(h[<span class="stringliteral">&#39;eventStats1&#39;</span>].GetMarkerColor())</div>
<div class="line"><span class="lineno"> 7070</span>    lg = h[<span class="stringliteral">&#39;legruns&#39;</span>].AddEntry(h[<span class="stringliteral">&#39;eventStats4&#39;</span>],<span class="stringliteral">&#39;N of mu tracks / N of tracks /5&#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 7071</span>    lg.SetTextColor(h[<span class="stringliteral">&#39;eventStats1&#39;</span>].GetMarkerColor())</div>
<div class="line"><span class="lineno"> 7072</span>    <span class="comment"># h[&#39;eventStats2&#39;].Draw(&#39;P&#39;)</span></div>
<div class="line"><span class="lineno"> 7073</span>    h[<span class="stringliteral">&#39;eventStats3&#39;</span>].Draw(<span class="stringliteral">&#39;P&#39;</span>)</div>
<div class="line"><span class="lineno"> 7074</span>    h[<span class="stringliteral">&#39;eventStats4&#39;</span>].Draw(<span class="stringliteral">&#39;P&#39;</span>)</div>
<div class="line"><span class="lineno"> 7075</span>    h[<span class="stringliteral">&#39;legruns&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 7076</span>    myPrint(h[<span class="stringliteral">&#39;EventStatistics&#39;</span>],<span class="stringliteral">&#39;DataQualityPlot&#39;</span>)</div>
<div class="line"><span class="lineno"> 7077</span>    <span class="keywordflow">return</span> eventStats</div>
</div><!-- fragment -->
</div>
</div>
<a id="a992b7773cd32070fc5b04a9d83540759" name="a992b7773cd32070fc5b04a9d83540759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a992b7773cd32070fc5b04a9d83540759">&#9670;&#160;</a></span>copyRTRelation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.copyRTRelation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07456">7456</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7456</span><span class="keyword">def </span>copyRTRelation():</div>
<div class="line"><span class="lineno"> 7457</span>    f       = sTree.GetCurrentFile()</div>
<div class="line"><span class="lineno"> 7458</span>    fname   = f.GetName()</div>
<div class="line"><span class="lineno"> 7459</span>    rawName = fname.replace(<span class="stringliteral">&#39;_RT.root&#39;</span>,<span class="stringliteral">&#39;.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 7460</span>    ftemp   = fname.replace(<span class="stringliteral">&#39;_RT.root&#39;</span>,<span class="stringliteral">&#39;_RTx.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 7461</span>    os.system(<span class="stringliteral">&#39;cp &#39;</span>+rawName +<span class="stringliteral">&#39; &#39;</span>+ftemp)</div>
<div class="line"><span class="lineno"> 7462</span>    h[<span class="stringliteral">&#39;TDCMapsX&#39;</span>] = f.histos.Get(<span class="stringliteral">&#39;TDCMapsX&#39;</span>).Clone(<span class="stringliteral">&#39;TDCMapsX&#39;</span>)</div>
<div class="line"><span class="lineno"> 7463</span>    h[<span class="stringliteral">&#39;hitMapsX&#39;</span>] = f.histos.Get(<span class="stringliteral">&#39;hitMapsX&#39;</span>).Clone(<span class="stringliteral">&#39;hitMapsX&#39;</span>)</div>
<div class="line"><span class="lineno"> 7464</span>    h[<span class="stringliteral">&#39;RTrelations&#39;</span>] = f.histos.Get(<span class="stringliteral">&#39;RTrelations&#39;</span>).Clone(<span class="stringliteral">&#39;RTrelations&#39;</span>)</div>
<div class="line"><span class="lineno"> 7465</span>    h[<span class="stringliteral">&#39;TDC2R_py&#39;</span>] = f.histos.Get(<span class="stringliteral">&#39;TDC2R_py&#39;</span>).Clone(<span class="stringliteral">&#39;TDC2R_py&#39;</span>)</div>
<div class="line"><span class="lineno"> 7466</span>    f.Close()</div>
<div class="line"><span class="lineno"> 7467</span>    f = ROOT.TFile.Open(ftemp,<span class="stringliteral">&#39;update&#39;</span>)</div>
<div class="line"><span class="lineno"> 7468</span>    event = f.Get(<span class="stringliteral">&quot;cbmsim&quot;</span>)</div>
<div class="line"><span class="lineno"> 7469</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> event:</div>
<div class="line"><span class="lineno"> 7470</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;Problem with making RTrel persistent, file&quot;</span>,f,f.ls()</div>
<div class="line"><span class="lineno"> 7471</span>        <span class="keywordflow">return</span> -1</div>
<div class="line"><span class="lineno"> 7472</span>    f.cd(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 7473</span>    f.mkdir(<span class="stringliteral">&#39;RT&#39;</span>)</div>
<div class="line"><span class="lineno"> 7474</span>    f.cd(<span class="stringliteral">&#39;RT&#39;</span>)</div>
<div class="line"><span class="lineno"> 7475</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> RTrelations[fname]:</div>
<div class="line"><span class="lineno"> 7476</span>        <span class="keywordflow">if</span> s.find(<span class="stringliteral">&#39;rt&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7477</span>        RTrelations[fname][s].Write()</div>
<div class="line"><span class="lineno"> 7478</span>    pkl = Pickler(f)</div>
<div class="line"><span class="lineno"> 7479</span>    pkl.dump(h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>],<span class="stringliteral">&#39;tMinAndTmax&#39;</span>)</div>
<div class="line"><span class="lineno"> 7480</span>    f.cd(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 7481</span>    f.mkdir(<span class="stringliteral">&#39;histos&#39;</span>)</div>
<div class="line"><span class="lineno"> 7482</span>    f.histos.cd(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 7483</span>    h[<span class="stringliteral">&#39;TDCMapsX&#39;</span>].Write()</div>
<div class="line"><span class="lineno"> 7484</span>    h[<span class="stringliteral">&#39;hitMapsX&#39;</span>].Write()</div>
<div class="line"><span class="lineno"> 7485</span>    h[<span class="stringliteral">&quot;RTrelations&quot;</span>].Write()</div>
<div class="line"><span class="lineno"> 7486</span>    f.Write(<span class="stringliteral">&quot;&quot;</span>,ROOT.TFile.kOverwrite)</div>
<div class="line"><span class="lineno"> 7487</span>    f.Close()</div>
</div><!-- fragment -->
</div>
</div>
<a id="a460ef3ce8a649282b9e2f1e3b971e730" name="a460ef3ce8a649282b9e2f1e3b971e730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a460ef3ce8a649282b9e2f1e3b971e730">&#9670;&#160;</a></span>correctAlignment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.correctAlignment </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04546">4546</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4546</span><span class="keyword">def </span>correctAlignment(hit):</div>
<div class="line"><span class="lineno"> 4547</span>    detID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 4548</span>    vbot,vtop = ROOT.TVector3(), ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 4549</span>    rc = hit.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno"> 4550</span>    <span class="keywordflow">if</span> withDefaultAlignment <span class="keywordflow">and</span> <span class="keywordflow">not</span> withCorrections: <span class="keywordflow">return</span> vbot,vtop</div>
<div class="line"><span class="lineno"> 4551</span>    s,v,p,l,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 4552</span>    <span class="keywordflow">if</span> withDefaultAlignment <span class="keywordflow">and</span> withCorrections:</div>
<div class="line"><span class="lineno"> 4553</span>        x= (2*p+l)</div>
<div class="line"><span class="lineno"> 4554</span>        <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view==<span class="stringliteral">&#39;_u&#39;</span>: x+=4</div>
<div class="line"><span class="lineno"> 4555</span>        <span class="keywordflow">if</span> s==2 <span class="keywordflow">and</span> view==<span class="stringliteral">&#39;_v&#39;</span>: x+=8</div>
<div class="line"><span class="lineno"> 4556</span>        <span class="keywordflow">if</span> s==2 <span class="keywordflow">and</span> view==<span class="stringliteral">&#39;_x&#39;</span>: x+=12</div>
<div class="line"><span class="lineno"> 4557</span>        <span class="keywordflow">if</span> s==3 : </div>
<div class="line"><span class="lineno"> 4558</span>            x+=16</div>
<div class="line"><span class="lineno"> 4559</span>            <span class="keywordflow">if</span> vbot[0]&gt;0:x+=4</div>
<div class="line"><span class="lineno"> 4560</span>        <span class="keywordflow">if</span> s==4:</div>
<div class="line"><span class="lineno"> 4561</span>            x+=24</div>
<div class="line"><span class="lineno"> 4562</span>            <span class="keywordflow">if</span> vbot[0]&gt;0:x+=4</div>
<div class="line"><span class="lineno"> 4563</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3):</div>
<div class="line"><span class="lineno"> 4564</span>            vbot[i] = vbot[i]+alignCorrection[x][i]</div>
<div class="line"><span class="lineno"> 4565</span>            vtop[i] = vtop[i]+alignCorrection[x][i]</div>
<div class="line"><span class="lineno"> 4566</span>        <span class="keywordflow">return</span> vbot,vtop</div>
<div class="line"><span class="lineno"> 4567</span>    <span class="keywordflow">if</span> view==<span class="stringliteral">&#39;_x&#39;</span>:</div>
<div class="line"><span class="lineno"> 4568</span>        vbot[0]=xpos[detID]</div>
<div class="line"><span class="lineno"> 4569</span>        vtop[0]=xpos[detID]</div>
<div class="line"><span class="lineno"> 4570</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 4571</span>        <span class="comment"># make same mistake as in geometry, top is with y&lt;0 and bot with y&gt;0:</span></div>
<div class="line"><span class="lineno"> 4572</span>        vtop[0]=xposb[detID]</div>
<div class="line"><span class="lineno"> 4573</span>        vtop[1]=yposb[detID]</div>
<div class="line"><span class="lineno"> 4574</span>        vbot[0]=xpos[detID]</div>
<div class="line"><span class="lineno"> 4575</span>        vbot[1]=ypos[detID]</div>
<div class="line"><span class="lineno"> 4576</span>    vbot[2]=zpos[detID]</div>
<div class="line"><span class="lineno"> 4577</span>    vtop[2]=zpos[detID]</div>
<div class="line"><span class="lineno"> 4578</span>    pl= (2*p+l)</div>
<div class="line"><span class="lineno"> 4579</span>    x = pl</div>
<div class="line"><span class="lineno"> 4580</span>    <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view==<span class="stringliteral">&#39;_u&#39;</span>: x = pl+4</div>
<div class="line"><span class="lineno"> 4581</span>    <span class="keywordflow">if</span> s==2 <span class="keywordflow">and</span> view==<span class="stringliteral">&#39;_v&#39;</span>: x = pl+8</div>
<div class="line"><span class="lineno"> 4582</span>    <span class="keywordflow">if</span> s==2 <span class="keywordflow">and</span> view==<span class="stringliteral">&#39;_x&#39;</span>: x = pl+12</div>
<div class="line"><span class="lineno"> 4583</span>    <span class="keywordflow">if</span> s==3 : </div>
<div class="line"><span class="lineno"> 4584</span>        x=pl+16</div>
<div class="line"><span class="lineno"> 4585</span>        <span class="keywordflow">if</span> vbot[0]&gt;0:x+=4</div>
<div class="line"><span class="lineno"> 4586</span>    <span class="keywordflow">if</span> s==4:</div>
<div class="line"><span class="lineno"> 4587</span>        x=pl+24</div>
<div class="line"><span class="lineno"> 4588</span>        <span class="keywordflow">if</span> vbot[0]&gt;0:x+=4</div>
<div class="line"><span class="lineno"> 4589</span>    <span class="keywordflow">if</span> s==3: </div>
<div class="line"><span class="lineno"> 4590</span>        vbot[0] += slopeX[s][pl]*vbot[0]</div>
<div class="line"><span class="lineno"> 4591</span>        vtop[0] += slopeX[s][pl]*vtop[0]</div>
<div class="line"><span class="lineno"> 4592</span>    <span class="keywordflow">if</span> s==2: </div>
<div class="line"><span class="lineno"> 4593</span>        vbot[0] += (slopeY[s][pl]*vbot[1] + slopeX[s][pl]*vbot[0])</div>
<div class="line"><span class="lineno"> 4594</span>        vtop[0] += (slopeY[s][pl]*vtop[1] + slopeX[s][pl]*vtop[0])</div>
<div class="line"><span class="lineno"> 4595</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3):</div>
<div class="line"><span class="lineno"> 4596</span>        vbot[i] = vbot[i]+alignCorrection[x][i]</div>
<div class="line"><span class="lineno"> 4597</span>        vtop[i] = vtop[i]+alignCorrection[x][i]</div>
<div class="line"><span class="lineno"> 4598</span>    <span class="keywordflow">return</span> vbot,vtop</div>
<div class="line"><span class="lineno"> 4599</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d2d5cf5ac493749b1134288a8010da7" name="a0d2d5cf5ac493749b1134288a8010da7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d2d5cf5ac493749b1134288a8010da7">&#9670;&#160;</a></span>correctAlignmentRPC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.correctAlignmentRPC </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04803">4803</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4803</span><span class="keyword">def </span>correctAlignmentRPC(hit,v):</div>
<div class="line"><span class="lineno"> 4804</span>    hit.EndPoints(vtop,vbot)</div>
<div class="line"><span class="lineno"> 4805</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> sTree.GetBranch(<span class="stringliteral">&#39;MuonTaggerPoint&#39;</span>):</div>
<div class="line"><span class="lineno"> 4806</span>        <span class="keywordflow">if</span> v==1:</div>
<div class="line"><span class="lineno"> 4807</span>            vbot[0] = -vbot[0] -1.21</div>
<div class="line"><span class="lineno"> 4808</span>            vtop[0] = -vtop[0] -1.21</div>
<div class="line"><span class="lineno"> 4809</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 4810</span>            vbot[1] = vbot[1] -1.21</div>
<div class="line"><span class="lineno"> 4811</span>            vtop[1] = vtop[1] -1.21</div>
<div class="line"><span class="lineno"> 4812</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 4813</span>        <span class="keywordflow">if</span> v==1:</div>
<div class="line"><span class="lineno"> 4814</span>            vbot[0] = vbot[0] -1.049</div>
<div class="line"><span class="lineno"> 4815</span>            vtop[0] = vtop[0] -1.049</div>
<div class="line"><span class="lineno"> 4816</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 4817</span>            vbot[1] = vbot[1] -0.53</div>
<div class="line"><span class="lineno"> 4818</span>            vtop[1] = vtop[1] -0.53</div>
<div class="line"><span class="lineno"> 4819</span> </div>
<div class="line"><span class="lineno"> 4820</span>    <span class="keywordflow">return</span> vbot,vtop</div>
<div class="line"><span class="lineno"> 4821</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a166ef858f1f7bde29c622567f73dc4a3" name="a166ef858f1f7bde29c622567f73dc4a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a166ef858f1f7bde29c622567f73dc4a3">&#9670;&#160;</a></span>countMeasurements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.countMeasurements </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aTrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PR</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02684">2684</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2684</span><span class="keyword">def </span>countMeasurements(aTrack,PR=1):</div>
<div class="line"><span class="lineno"> 2685</span>    mStatistics = {<span class="stringliteral">&#39;x1&#39;</span>:[],<span class="stringliteral">&#39;x2&#39;</span>:[],<span class="stringliteral">&#39;x3&#39;</span>:[],<span class="stringliteral">&#39;x4&#39;</span>:[],<span class="stringliteral">&#39;xAll&#39;</span>:[],<span class="stringliteral">&#39;xDown&#39;</span>:[],<span class="stringliteral">&#39;xUp&#39;</span>:[],<span class="stringliteral">&#39;uv&#39;</span>:[],<span class="stringliteral">&#39;u&#39;</span>:[],<span class="stringliteral">&#39;v&#39;</span>:[]}</div>
<div class="line"><span class="lineno"> 2686</span>    <span class="keywordflow">if</span> PR==1 <span class="keywordflow">and</span> sTree.GetBranch(<span class="stringliteral">&quot;TrackInfos&quot;</span>) <span class="keywordflow">or</span> PR==3 <span class="keywordflow">and</span> sTree.GetBranch(<span class="stringliteral">&quot;TrackInfos_refitted&quot;</span>):</div>
<div class="line"><span class="lineno"> 2687</span>        <span class="keywordflow">if</span> PR==1: trInfo = sTree.TrackInfos[aTrack]</div>
<div class="line"><span class="lineno"> 2688</span>        <span class="keywordflow">if</span> PR==3: trInfo = sTree.TrackInfos_refitted[aTrack]</div>
<div class="line"><span class="lineno"> 2689</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(trInfo.N()):</div>
<div class="line"><span class="lineno"> 2690</span>            detID = trInfo.detId(n)</div>
<div class="line"><span class="lineno"> 2691</span>            hit = ROOT.MufluxSpectrometerHit(detID,0)</div>
<div class="line"><span class="lineno"> 2692</span>            s,v,p,l,view,channelID,tdcId,mdoduleId = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 2693</span>            <span class="keywordflow">if</span> trInfo.wL(n) &lt;0.1 <span class="keywordflow">and</span> trInfo.wR(n) &lt;0.1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2694</span>            <span class="keywordflow">if</span> view != <span class="stringliteral">&#39;_x&#39;</span>: </div>
<div class="line"><span class="lineno"> 2695</span>                mStatistics[<span class="stringliteral">&#39;uv&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2696</span>                <span class="keywordflow">if</span> view == <span class="stringliteral">&#39;_u&#39;</span>:  mStatistics[<span class="stringliteral">&#39;u&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2697</span>                <span class="keywordflow">if</span> view == <span class="stringliteral">&#39;_v&#39;</span>:  mStatistics[<span class="stringliteral">&#39;v&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2698</span>            <span class="keywordflow">else</span>:            </div>
<div class="line"><span class="lineno"> 2699</span>                mStatistics[<span class="stringliteral">&#39;xAll&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2700</span>                mStatistics[<span class="stringliteral">&#39;x&#39;</span>+str(s)].append(detID)</div>
<div class="line"><span class="lineno"> 2701</span>            <span class="keywordflow">if</span> s &gt; 2:        mStatistics[<span class="stringliteral">&#39;xDown&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2702</span>            <span class="keywordflow">else</span>:            mStatistics[<span class="stringliteral">&#39;xUp&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2703</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2704</span>        <span class="keywordflow">for</span> p <span class="keywordflow">in</span> aTrack.getPointsWithMeasurement():</div>
<div class="line"><span class="lineno"> 2705</span>            rawM = p.getRawMeasurement()</div>
<div class="line"><span class="lineno"> 2706</span>            info = p.getFitterInfo()</div>
<div class="line"><span class="lineno"> 2707</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> info: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2708</span>            detID = rawM.getDetId()</div>
<div class="line"><span class="lineno"> 2709</span>            test = ROOT.MufluxSpectrometerHit(detID,0.)</div>
<div class="line"><span class="lineno"> 2710</span>            s,v,p,l,view,channelID,tdcId,nRT = stationInfo(test)</div>
<div class="line"><span class="lineno"> 2711</span>            <span class="keywordflow">if</span> info.getWeights()[0] &lt;0.1 <span class="keywordflow">and</span> info.getWeights()[1] &lt;0.1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2712</span>            <span class="keywordflow">if</span> view != <span class="stringliteral">&#39;_x&#39;</span>: </div>
<div class="line"><span class="lineno"> 2713</span>                mStatistics[<span class="stringliteral">&#39;uv&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2714</span>                <span class="keywordflow">if</span> view != <span class="stringliteral">&#39;_u&#39;</span>:  mStatistics[<span class="stringliteral">&#39;u&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2715</span>                <span class="keywordflow">if</span> view != <span class="stringliteral">&#39;_v&#39;</span>:  mStatistics[<span class="stringliteral">&#39;v&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2716</span>            <span class="keywordflow">else</span>:            mStatistics[<span class="stringliteral">&#39;xAll&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2717</span>            <span class="keywordflow">if</span> s &gt; 2:        mStatistics[<span class="stringliteral">&#39;xDown&#39;</span>].append(detID)</div>
<div class="line"><span class="lineno"> 2718</span>    <span class="keywordflow">return</span> mStatistics</div>
</div><!-- fragment -->
</div>
</div>
<a id="a24f18ee87150e3b09b98003645394c3b" name="a24f18ee87150e3b09b98003645394c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24f18ee87150e3b09b98003645394c3b">&#9670;&#160;</a></span>countTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.countTracks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>analyse</em> = <code>False</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l06931">6931</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6931</span><span class="keyword">def </span>countTracks(analyse=False):</div>
<div class="line"><span class="lineno"> 6932</span>    NfitTracks = [0,0]</div>
<div class="line"><span class="lineno"> 6933</span>    NfitTracks_refitted = [0,0]</div>
<div class="line"><span class="lineno"> 6934</span>    EventsWithTracks = [0,0]</div>
<div class="line"><span class="lineno"> 6935</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> analyse:</div>
<div class="line"><span class="lineno"> 6936</span>        <span class="keywordflow">for</span> event <span class="keywordflow">in</span> sTree:</div>
<div class="line"><span class="lineno"> 6937</span>            <span class="keywordflow">if</span> event.FitTracks.GetEntries()&gt;0: EventsWithTracks[0]+=1</div>
<div class="line"><span class="lineno"> 6938</span>            <span class="keywordflow">if</span> event.FitTracks_refitted.GetEntries()&gt;0: EventsWithTracks[1]+=1</div>
<div class="line"><span class="lineno"> 6939</span>            NfitTracks[0]         +=event.FitTracks.GetEntries()</div>
<div class="line"><span class="lineno"> 6940</span>            NfitTracks_refitted[0]+=event.FitTracks_refitted.GetEntries()</div>
<div class="line"><span class="lineno"> 6941</span>            <span class="keywordflow">for</span> atrack <span class="keywordflow">in</span> sTree.FitTracks:</div>
<div class="line"><span class="lineno"> 6942</span>               fst = atrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 6943</span>               <span class="keywordflow">if</span> fst.isFitConverged(): NfitTracks[1]+=1</div>
<div class="line"><span class="lineno"> 6944</span>            <span class="keywordflow">for</span> atrack <span class="keywordflow">in</span> sTree.FitTracks_refitted:</div>
<div class="line"><span class="lineno"> 6945</span>               fst = atrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 6946</span>               <span class="keywordflow">if</span> fst.isFitConverged(): NfitTracks_refitted[1]+=1</div>
<div class="line"><span class="lineno"> 6947</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;run, number of original tracks&quot;</span>,sTree.GetCurrentFile(),NfitTracks, <span class="stringliteral">&quot; number of refitted tracks&quot;</span>,NfitTracks_refitted, <span class="stringliteral">&quot; lumi:&quot;</span>,EventsWithTracks</div>
<div class="line"><span class="lineno"> 6948</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 6949</span>        <span class="keywordflow">for</span> r <span class="keywordflow">in</span> os.listdir(<span class="stringliteral">&#39;.&#39;</span>):</div>
<div class="line"><span class="lineno"> 6950</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> r.find(<span class="stringliteral">&#39;RUN_8000_&#39;</span>)==0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6951</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> os.listdir(r):</div>
<div class="line"><span class="lineno"> 6952</span>               f = open(r+<span class="stringliteral">&#39;/&#39;</span>+l)</div>
<div class="line"><span class="lineno"> 6953</span>               txt = f.readlines()</div>
<div class="line"><span class="lineno"> 6954</span>               tmp = txt[len(txt)-1].split(<span class="stringliteral">&#39;[&#39;</span>)</div>
<div class="line"><span class="lineno"> 6955</span>               <span class="keywordflow">if</span> tmp[0].find(<span class="stringliteral">&#39;run&#39;</span>)!=0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6956</span>               fitted = tmp[1].split(<span class="stringliteral">&#39;]&#39;</span>)[0]</div>
<div class="line"><span class="lineno"> 6957</span>               NfitTracks[0] += int(fitted.split(<span class="stringliteral">&#39;,&#39;</span>)[0])</div>
<div class="line"><span class="lineno"> 6958</span>               NfitTracks[1] += int(fitted.split(<span class="stringliteral">&#39;,&#39;</span>)[1])</div>
<div class="line"><span class="lineno"> 6959</span>               refitted = tmp[2].split(<span class="stringliteral">&#39;]&#39;</span>)[0]</div>
<div class="line"><span class="lineno"> 6960</span>               NfitTracks_refitted[0] += int(refitted.split(<span class="stringliteral">&#39;,&#39;</span>)[0])</div>
<div class="line"><span class="lineno"> 6961</span>               NfitTracks_refitted[1] += int(refitted.split(<span class="stringliteral">&#39;,&#39;</span>)[1])</div>
<div class="line"><span class="lineno"> 6962</span>               refitted = tmp[3].split(<span class="stringliteral">&#39;]&#39;</span>)[0]</div>
<div class="line"><span class="lineno"> 6963</span>               EventsWithTracks[0] += int(refitted.split(<span class="stringliteral">&#39;,&#39;</span>)[0])</div>
<div class="line"><span class="lineno"> 6964</span>               EventsWithTracks[1] += int(refitted.split(<span class="stringliteral">&#39;,&#39;</span>)[1])</div>
<div class="line"><span class="lineno"> 6965</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;number of original tracks&quot;</span>,NfitTracks, <span class="stringliteral">&quot; number of refitted tracks&quot;</span>,NfitTracks_refitted,<span class="stringliteral">&quot; lumi counts:&quot;</span>,EventsWithTracks</div>
<div class="line"><span class="lineno"> 6966</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;ratios&quot;</span>,NfitTracks_refitted[0]/float(NfitTracks[0]),NfitTracks_refitted[1]/float(NfitTracks[1]),EventsWithTracks[1]/float(EventsWithTracks[0])</div>
<div class="line"><span class="lineno"> 6967</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a016c73fa068acd42b5d28e53cd6d86b9" name="a016c73fa068acd42b5d28e53cd6d86b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016c73fa068acd42b5d28e53cd6d86b9">&#9670;&#160;</a></span>debugGeometrie()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.debugGeometrie </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04670">4670</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4670</span><span class="keyword">def </span>debugGeometrie():</div>
<div class="line"><span class="lineno"> 4671</span>    test = ROOT.MufluxSpectrometerHit(10002012,0)</div>
<div class="line"><span class="lineno"> 4672</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno"> 4673</span>    <span class="keywordflow">print</span> vtop[1],vbot[1]</div>
<div class="line"><span class="lineno"> 4674</span>    test = ROOT.MufluxSpectrometerHit(11002012,0)</div>
<div class="line"><span class="lineno"> 4675</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno"> 4676</span>    m = (vtop[1]-vbot[1])/((vtop[0]-vbot[0]))</div>
<div class="line"><span class="lineno"> 4677</span>    b = vtop[1] - m*vtop[0]</div>
<div class="line"><span class="lineno"> 4678</span>    start = -b/m</div>
<div class="line"><span class="lineno"> 4679</span>    <span class="keywordflow">print</span> vtop[1],vbot[1]</div>
<div class="line"><span class="lineno"> 4680</span>    statnb,vnb,pnb,lnb,view,channelID,tdcId,nRT = stationInfo(test)</div>
<div class="line"><span class="lineno"> 4681</span>    nav = ROOT.gGeoManager.GetCurrentNavigator()</div>
<div class="line"><span class="lineno"> 4682</span>    prefix = <span class="stringliteral">&quot;Station_&quot;</span>+str(statnb)+str(view)+<span class="stringliteral">&quot;_plane_&quot;</span>+str(pnb)+<span class="stringliteral">&quot;_&quot;</span> </div>
<div class="line"><span class="lineno"> 4683</span>    plane = prefix+str(statnb)+str(vnb)+str(pnb)+<span class="stringliteral">&quot;00000&quot;</span></div>
<div class="line"><span class="lineno"> 4684</span>    layer = prefix+<span class="stringliteral">&quot;layer_&quot;</span>+str(lnb)+<span class="stringliteral">&quot;_&quot;</span>+str(statnb)+str(vnb)+str(pnb)+str(lnb)+<span class="stringliteral">&quot;0000&quot;</span> </div>
<div class="line"><span class="lineno"> 4685</span>    wire = <span class="stringliteral">&quot;gas_&quot;</span>+str(test.GetDetectorID())</div>
<div class="line"><span class="lineno"> 4686</span>    <span class="keywordflow">if</span> statnb&lt;3: wire = <span class="stringliteral">&quot;gas_12_&quot;</span>+str(test.GetDetectorID())</div>
<div class="line"><span class="lineno"> 4687</span>    stat = <span class="stringliteral">&quot;volDriftTube&quot;</span>+str(statnb)+<span class="stringliteral">&quot;_&quot;</span>+str(statnb) </div>
<div class="line"><span class="lineno"> 4688</span>    path = <span class="stringliteral">&quot;/&quot;</span>+stat+<span class="stringliteral">&quot;/&quot;</span>+plane+<span class="stringliteral">&quot;/&quot;</span>+layer+<span class="stringliteral">&quot;/&quot;</span>+wire</div>
<div class="line"><span class="lineno"> 4689</span>    rc = nav.cd(path)</div>
<div class="line"><span class="lineno"> 4690</span>    W = nav.GetCurrentNode()</div>
<div class="line"><span class="lineno"> 4691</span>    S = W.GetVolume().GetShape()</div>
<div class="line"><span class="lineno"> 4692</span>    top = array(<span class="stringliteral">&#39;d&#39;</span>,[0,0,S.GetDZ()])</div>
<div class="line"><span class="lineno"> 4693</span>    bot = array(<span class="stringliteral">&#39;d&#39;</span>,[0,0,-S.GetDZ()]) </div>
<div class="line"><span class="lineno"> 4694</span>    Gtop = array(<span class="stringliteral">&#39;d&#39;</span>,[0,0,0])</div>
<div class="line"><span class="lineno"> 4695</span>    Gbot = array(<span class="stringliteral">&#39;d&#39;</span>,[0,0,0])</div>
<div class="line"><span class="lineno"> 4696</span>    nav.LocalToMaster(top, Gtop)</div>
<div class="line"><span class="lineno"> 4697</span>    nav.LocalToMaster(bot, Gbot)</div>
<div class="line"><span class="lineno"> 4698</span> </div>
<div class="line"><span class="lineno"> 4699</span>    o = [S.GetOrigin()[0],S.GetOrigin()[1],S.GetOrigin()[2]]</div>
<div class="line"><span class="lineno"> 4700</span>    local = array(<span class="stringliteral">&#39;d&#39;</span>,o)</div>
<div class="line"><span class="lineno"> 4701</span>    globOrigin  = array(<span class="stringliteral">&#39;d&#39;</span>,[0,0,0])</div>
<div class="line"><span class="lineno"> 4702</span>    nav.LocalToMaster(local,globOrigin)</div>
<div class="line"><span class="lineno"> 4703</span> </div>
<div class="line"><span class="lineno"> 4704</span><span class="comment">#new idea for residuals:</span></div>
<div class="line"><span class="lineno"> 4705</span><span class="comment">#4 rounds, in each round one layer from all stations is switched off</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae4621730c99bd965c33d5a3f39c8f4ca" name="ae4621730c99bd965c33d5a3f39c8f4ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4621730c99bd965c33d5a3f39c8f4ca">&#9670;&#160;</a></span>debugRPCposition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.debugRPCposition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04822">4822</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4822</span><span class="keyword">def </span>debugRPCposition():</div>
<div class="line"><span class="lineno"> 4823</span> ut.bookHist(h,<span class="stringliteral">&#39;RPCXY&#39;</span>,<span class="stringliteral">&#39;RPC XY True - digi&#39;</span>,100,-5.,5.,100,-5.,5.)</div>
<div class="line"><span class="lineno"> 4824</span> <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 4825</span>    rc=sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 4826</span>    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MuonTaggerHits:</div>
<div class="line"><span class="lineno"> 4827</span>      hit.EndPoints(vtop,vbot)</div>
<div class="line"><span class="lineno"> 4828</span>      <span class="keywordflow">for</span> point <span class="keywordflow">in</span> sTree.MuonTaggerPoint:</div>
<div class="line"><span class="lineno"> 4829</span>         <span class="keywordflow">if</span> point.GetDetectorID()//10000 != hit.GetDetectorID()//10000: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4830</span>         rc=h[<span class="stringliteral">&#39;RPCXY&#39;</span>].Fill(point.GetX()-(vtop[0]+vbot[0])/2.,point.GetY()-(vtop[1]+vbot[1])/2.)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a81ee0a17f020fa0eca8975e7db0cd84d" name="a81ee0a17f020fa0eca8975e7db0cd84d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ee0a17f020fa0eca8975e7db0cd84d">&#9670;&#160;</a></span>debugRPCstrips()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.debugRPCstrips </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04465">4465</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4465</span><span class="keyword">def </span>debugRPCstrips():</div>
<div class="line"><span class="lineno"> 4466</span>    ut.bookHist(h,<span class="stringliteral">&#39;RPCstrips&#39;</span>,<span class="stringliteral">&#39;RPC strips&#39;</span>,1000,-100.,100.,1000,-100.,100.)</div>
<div class="line"><span class="lineno"> 4467</span>    h[<span class="stringliteral">&#39;RPCstrips&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 4468</span>    s=1</div>
<div class="line"><span class="lineno"> 4469</span>    <span class="keywordflow">for</span> v <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 4470</span>        <span class="keywordflow">for</span> c <span class="keywordflow">in</span> range(1,185):</div>
<div class="line"><span class="lineno"> 4471</span>            <span class="keywordflow">if</span> v==0 <span class="keywordflow">and</span> c&gt;105: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4472</span>            <span class="keywordflow">if</span> v==1 <span class="keywordflow">and</span> c&lt;12: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4473</span>            <span class="keywordflow">if</span> c%5==0:</div>
<div class="line"><span class="lineno"> 4474</span>                h[<span class="stringliteral">&#39;RPCstrip&#39;</span>+str(v)+str(c)]=ROOT.TGraph()</div>
<div class="line"><span class="lineno"> 4475</span>                detID = s*10000+v*1000+c</div>
<div class="line"><span class="lineno"> 4476</span>                vbot,vtop = RPCPositionsBotTop[detID]</div>
<div class="line"><span class="lineno"> 4477</span>                h[<span class="stringliteral">&#39;RPCstrip&#39;</span>+str(v)+str(c)].SetPoint(0,vtop[0],vtop[1])</div>
<div class="line"><span class="lineno"> 4478</span>                h[<span class="stringliteral">&#39;RPCstrip&#39;</span>+str(v)+str(c)].SetPoint(1,vbot[0],vbot[1])</div>
<div class="line"><span class="lineno"> 4479</span>                <span class="keywordflow">if</span> v == 0: h[<span class="stringliteral">&#39;RPCstrip&#39;</span>+str(v)+str(c)].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 4480</span>                <span class="keywordflow">if</span> v == 1: h[<span class="stringliteral">&#39;RPCstrip&#39;</span>+str(v)+str(c)].SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 4481</span>                h[<span class="stringliteral">&#39;RPCstrip&#39;</span>+str(v)+str(c)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ada6ae6e2e588f8b2427fd3882771e09b" name="ada6ae6e2e588f8b2427fd3882771e09b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada6ae6e2e588f8b2427fd3882771e09b">&#9670;&#160;</a></span>debugRPCYCoordinate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.debugRPCYCoordinate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04482">4482</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4482</span><span class="keyword">def </span>debugRPCYCoordinate():</div>
<div class="line"><span class="lineno"> 4483</span>    ut.bookHist(h,<span class="stringliteral">&#39;y1y2&#39;</span>,<span class="stringliteral">&#39;y1 vs y2 of RPC&#39;</span>,100,-100.,100.,100,-100.,100.)</div>
<div class="line"><span class="lineno"> 4484</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(10000):</div>
<div class="line"><span class="lineno"> 4485</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 4486</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> findSimpleEvent(sTree): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4487</span>        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MuonTaggerHits:</div>
<div class="line"><span class="lineno"> 4488</span>            channelID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 4489</span>            s  = channelID/10000</div>
<div class="line"><span class="lineno"> 4490</span>            v  = (channelID-10000*s)/1000</div>
<div class="line"><span class="lineno"> 4491</span>            <span class="keywordflow">if</span> v==0 <span class="keywordflow">and</span> s==1:</div>
<div class="line"><span class="lineno"> 4492</span>                vbot,vtop = RPCPositionsBotTop[channelID]</div>
<div class="line"><span class="lineno"> 4493</span>                y1 = (vtop[1]+vbot[1])/2.</div>
<div class="line"><span class="lineno"> 4494</span>                <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MuonTaggerHits:</div>
<div class="line"><span class="lineno"> 4495</span>                    channelID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 4496</span>                    s  = channelID/10000</div>
<div class="line"><span class="lineno"> 4497</span>                    v  = (channelID-10000*s)/1000</div>
<div class="line"><span class="lineno"> 4498</span>                    <span class="keywordflow">if</span> v==0 <span class="keywordflow">and</span> s==2:</div>
<div class="line"><span class="lineno"> 4499</span>                        vbot,vtop = RPCPositionsBotTop[channelID]</div>
<div class="line"><span class="lineno"> 4500</span>                        y2 = (vtop[1]+vbot[1])/2.</div>
<div class="line"><span class="lineno"> 4501</span>                        rc = h[<span class="stringliteral">&#39;y1y2&#39;</span>].Fill(y1,y2)</div>
<div class="line"><span class="lineno"> 4502</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4a813d1bedf9252b5d6da76d7288545" name="aa4a813d1bedf9252b5d6da76d7288545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4a813d1bedf9252b5d6da76d7288545">&#9670;&#160;</a></span>debugTrackFit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.debugTrackFit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nEvents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nStart</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>simpleEvents</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>singleTrack</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PR</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03845">3845</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3845</span><span class="keyword">def </span>debugTrackFit(nEvents,nStart=0,simpleEvents=True,singleTrack=True,PR=1):</div>
<div class="line"><span class="lineno"> 3846</span>    matches={<span class="stringliteral">&#39;good&#39;</span>:[],<span class="stringliteral">&#39;bad&#39;</span>:[]}</div>
<div class="line"><span class="lineno"> 3847</span>    ut.bookHist(h,<span class="stringliteral">&#39;residuals&#39;</span>,<span class="stringliteral">&#39;all residuals&#39;</span>,100,-1.,1.)</div>
<div class="line"><span class="lineno"> 3848</span>    ut.bookHist(h,<span class="stringliteral">&#39;extrapX&#39;</span>,<span class="stringliteral">&#39;extrap in X&#39;</span>,100,-20.,20.)</div>
<div class="line"><span class="lineno"> 3849</span>    ut.bookHist(h,<span class="stringliteral">&#39;extrapY&#39;</span>,<span class="stringliteral">&#39;extrap in Y&#39;</span>,100,-20.,20.)</div>
<div class="line"><span class="lineno"> 3850</span>    ut.bookHist(h,<span class="stringliteral">&#39;fitfail_good&#39;</span>,<span class="stringliteral">&#39;fitfailure by channel for good events&#39;</span>,700,0.5,700.5)</div>
<div class="line"><span class="lineno"> 3851</span>    ut.bookHist(h,<span class="stringliteral">&#39;fitfail_bad&#39;</span>,<span class="stringliteral">&#39;fitfailure by channel for bad events&#39;</span>,700,0.5,700.5)</div>
<div class="line"><span class="lineno"> 3852</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 3853</span>    fitFailures=[{},{}]</div>
<div class="line"><span class="lineno"> 3854</span>    fitSuccess =[{},{}]</div>
<div class="line"><span class="lineno"> 3855</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(nStart,nStart+nEvents):</div>
<div class="line"><span class="lineno"> 3856</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 3857</span>        <span class="keywordflow">if</span> simpleEvents:</div>
<div class="line"><span class="lineno"> 3858</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> findSimpleEvent(sTree): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3859</span>        tracks = findTracks(PR)</div>
<div class="line"><span class="lineno"> 3860</span>        <span class="keywordflow">if</span> singleTrack <span class="keywordflow">and</span> len(tracks)!=1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3861</span><span class="comment"># select RPC tracks with good Y info</span></div>
<div class="line"><span class="lineno"> 3862</span>        clusters, RPCtracks = muonTaggerClustering()</div>
<div class="line"><span class="lineno"> 3863</span>        <span class="keywordflow">if</span> len(RPCtracks[<span class="stringliteral">&#39;X&#39;</span>])&gt;1 <span class="keywordflow">or</span> len(RPCtracks[<span class="stringliteral">&#39;Y&#39;</span>])&gt;1: <span class="keywordflow">print</span> n,len(RPCtracks[<span class="stringliteral">&#39;X&#39;</span>]),len(RPCtracks[<span class="stringliteral">&#39;Y&#39;</span>])</div>
<div class="line"><span class="lineno"> 3864</span>        <span class="keywordflow">if</span> len(RPCtracks[<span class="stringliteral">&#39;X&#39;</span>])!=1 <span class="keywordflow">or</span> len(RPCtracks[<span class="stringliteral">&#39;Y&#39;</span>])!=1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3865</span>        X = RPCtracks[<span class="stringliteral">&#39;X&#39;</span>][0][0]*zRPC1+RPCtracks[<span class="stringliteral">&#39;X&#39;</span>][0][1]</div>
<div class="line"><span class="lineno"> 3866</span>        Y = RPCtracks[<span class="stringliteral">&#39;Y&#39;</span>][0][0]*zRPC1+RPCtracks[<span class="stringliteral">&#39;Y&#39;</span>][0][1]</div>
<div class="line"><span class="lineno"> 3867</span>        track_index = -1</div>
<div class="line"><span class="lineno"> 3868</span>        <span class="keywordflow">for</span> atrack <span class="keywordflow">in</span> tracks:</div>
<div class="line"><span class="lineno"> 3869</span>            track_index +=1</div>
<div class="line"><span class="lineno"> 3870</span>            st = atrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 3871</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> st.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3872</span>            rc,pos,mom = extrapolateToPlane(atrack,zRPC1)</div>
<div class="line"><span class="lineno"> 3873</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc: <span class="keywordflow">continue</span> </div>
<div class="line"><span class="lineno"> 3874</span>            <span class="keywordflow">if</span> abs(pos[0]-X)&gt;5. : <span class="keywordflow">continue</span> <span class="comment"># not worth checking Y</span></div>
<div class="line"><span class="lineno"> 3875</span>            delta = pos[1]-Y</div>
<div class="line"><span class="lineno"> 3876</span>            <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> <span class="stringliteral">&quot;event# %i difference in X,Y %5.3F %5.3F &quot;</span>%(n,pos[0]-X,delta)</div>
<div class="line"><span class="lineno"> 3877</span>            rc = h[<span class="stringliteral">&#39;extrapX&#39;</span>].Fill(pos[0]-X)</div>
<div class="line"><span class="lineno"> 3878</span>            rc = h[<span class="stringliteral">&#39;extrapY&#39;</span>].Fill(delta)</div>
<div class="line"><span class="lineno"> 3879</span>            <span class="keywordflow">if</span> abs(delta)&lt;10. :     matches[<span class="stringliteral">&#39;good&#39;</span>].append(n)  <span class="comment"># within ~3sigma</span></div>
<div class="line"><span class="lineno"> 3880</span>            <span class="keywordflow">else</span> :                  </div>
<div class="line"><span class="lineno"> 3881</span>                matches[<span class="stringliteral">&#39;bad&#39;</span>].append(n)</div>
<div class="line"><span class="lineno"> 3882</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;event# %i difference in X,Y %5.3F %5.3F &quot;</span>%(n,pos[0]-X,delta)</div>
<div class="line"><span class="lineno"> 3883</span>            Nmeas = atrack.getNumPointsWithMeasurement()</div>
<div class="line"><span class="lineno"> 3884</span>            <span class="keywordflow">if</span> Nmeas&gt;2: Npoints = Nmeas</div>
<div class="line"><span class="lineno"> 3885</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 3886</span>                tr = sTree.TrackInfos[track_index]</div>
<div class="line"><span class="lineno"> 3887</span>                Npoints = tr.N()</div>
<div class="line"><span class="lineno"> 3888</span>            <span class="keywordflow">for</span> kp <span class="keywordflow">in</span> range(Npoints):</div>
<div class="line"><span class="lineno"> 3889</span>                wL,wR = -999,-999</div>
<div class="line"><span class="lineno"> 3890</span>                <span class="keywordflow">if</span> Nmeas&gt;2:</div>
<div class="line"><span class="lineno"> 3891</span>                    p = atrack.getPointsWithMeasurement()[kp]</div>
<div class="line"><span class="lineno"> 3892</span>                    rawM  = p.getRawMeasurement()</div>
<div class="line"><span class="lineno"> 3893</span>                    detID = rawM.getDetId()</div>
<div class="line"><span class="lineno"> 3894</span>                    info  = p.getFitterInfo()</div>
<div class="line"><span class="lineno"> 3895</span>                    <span class="keywordflow">if</span> info: </div>
<div class="line"><span class="lineno"> 3896</span>                        wL = info.getWeights()[0]</div>
<div class="line"><span class="lineno"> 3897</span>                        wR = info.getWeights()[1]</div>
<div class="line"><span class="lineno"> 3898</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 3899</span>                    detID = tr.detId(kp)</div>
<div class="line"><span class="lineno"> 3900</span>                    wL = tr.wL(kp)</div>
<div class="line"><span class="lineno"> 3901</span>                    wR = tr.wR(kp)</div>
<div class="line"><span class="lineno"> 3902</span>                <span class="keywordflow">if</span> abs(delta)&lt;10.:      k=0</div>
<div class="line"><span class="lineno"> 3903</span>                <span class="keywordflow">elif</span> abs(pos[1]-Y)&gt;50.: k=1</div>
<div class="line"><span class="lineno"> 3904</span>                <span class="keywordflow">else</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3905</span>                <span class="keywordflow">if</span> wL&lt;0.1 <span class="keywordflow">and</span> wR &lt; 0.1:</div>
<div class="line"><span class="lineno"> 3906</span><span class="comment"># record failure rate</span></div>
<div class="line"><span class="lineno"> 3907</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> detID <span class="keywordflow">in</span> fitFailures[k]: fitFailures[k][detID]=0</div>
<div class="line"><span class="lineno"> 3908</span>                    fitFailures[k][detID]+=1</div>
<div class="line"><span class="lineno"> 3909</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 3910</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> detID <span class="keywordflow">in</span> fitSuccess[k]: fitSuccess[k][detID]=0</div>
<div class="line"><span class="lineno"> 3911</span>                    fitSuccess[k][detID]+=1</div>
<div class="line"><span class="lineno"> 3912</span><span class="comment"># upstream 12 channel, downstream 48</span></div>
<div class="line"><span class="lineno"> 3913</span><span class="comment"># 4 4 4 4    4 4 = 576</span></div>
<div class="line"><span class="lineno"> 3914</span>    <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 3915</span>        <span class="keywordflow">for</span> detID <span class="keywordflow">in</span> fitFailures[k]:</div>
<div class="line"><span class="lineno"> 3916</span>            test = ROOT.MufluxSpectrometerHit(detID,0)</div>
<div class="line"><span class="lineno"> 3917</span>            s,v,p,l,view,channelID,tdcId,nRT = stationInfo(test)</div>
<div class="line"><span class="lineno"> 3918</span>            vbot,vtop = strawPositionsBotTop[detID]</div>
<div class="line"><span class="lineno"> 3919</span>            x = channelID</div>
<div class="line"><span class="lineno"> 3920</span>            <span class="keywordflow">if</span> s &gt; 2: x+= (s-2)*200 + 48*(2*l+p)</div>
<div class="line"><span class="lineno"> 3921</span>            <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 3922</span>                <span class="keywordflow">if</span> view == <span class="stringliteral">&#39;_u&#39;</span>:   x+=50</div>
<div class="line"><span class="lineno"> 3923</span>                <span class="keywordflow">elif</span> view == <span class="stringliteral">&#39;_v&#39;</span>: x+=100</div>
<div class="line"><span class="lineno"> 3924</span>                <span class="keywordflow">elif</span> s==2: x+=150</div>
<div class="line"><span class="lineno"> 3925</span>                x+=12*(2*l+p)</div>
<div class="line"><span class="lineno"> 3926</span>            r = 1</div>
<div class="line"><span class="lineno"> 3927</span>            <span class="keywordflow">if</span> fitSuccess[k].has_key(detID): r=fitFailures[k][detID]/float(fitSuccess[k][detID]+fitFailures[k][detID])</div>
<div class="line"><span class="lineno"> 3928</span>            <span class="keywordflow">if</span> k==0:     rc=h[<span class="stringliteral">&#39;fitfail_good&#39;</span>].SetBinContent(x,r)</div>
<div class="line"><span class="lineno"> 3929</span>            <span class="keywordflow">else</span>:        rc=h[<span class="stringliteral">&#39;fitfail_bad&#39;</span>].SetBinContent(x,r)</div>
<div class="line"><span class="lineno"> 3930</span><span class="comment"># only look at the pathological cases</span></div>
<div class="line"><span class="lineno"> 3931</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;Summary: good matches: %i   bad matches: %i    failure rate %5.2F&quot;</span>%(</div>
<div class="line"><span class="lineno"> 3932</span>     len(matches[<span class="stringliteral">&#39;good&#39;</span>]),len(matches[<span class="stringliteral">&#39;bad&#39;</span>]),len(matches[<span class="stringliteral">&#39;bad&#39;</span>])/float(len(matches[<span class="stringliteral">&#39;bad&#39;</span>])+len(matches[<span class="stringliteral">&#39;good&#39;</span>]) ) )</div>
<div class="line"><span class="lineno"> 3933</span>    ROOT.gROOT.FindObject(<span class="stringliteral">&#39;c1&#39;</span>).cd()</div>
<div class="line"><span class="lineno"> 3934</span>    h[<span class="stringliteral">&#39;extrapY&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3935</span>    <span class="keywordflow">return</span> matches</div>
<div class="line"><span class="lineno"> 3936</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9f9a074272e484d0d5284e43b133e05" name="ab9f9a074272e484d0d5284e43b133e05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9f9a074272e484d0d5284e43b133e05">&#9670;&#160;</a></span>disableBranches()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.disableBranches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05443">5443</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5443</span><span class="keyword">def </span>disableBranches():</div>
<div class="line"><span class="lineno"> 5444</span>    <span class="comment"># if sTree.GetBranchStatus(&quot;FitTracks&quot;): sTree.SetBranchStatus(&quot;FitTracks&quot;,0)</span></div>
<div class="line"><span class="lineno"> 5445</span>    <span class="keywordflow">if</span> sTree.GetBranchStatus(<span class="stringliteral">&quot;Digi_BeamCounters&quot;</span>): sTree.SetBranchStatus(<span class="stringliteral">&quot;Digi_BeamCounters&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5446</span>    <span class="keywordflow">if</span> sTree.GetBranchStatus(<span class="stringliteral">&quot;Digi_LateMufluxSpectrometerHits&quot;</span>): sTree.SetBranchStatus(<span class="stringliteral">&quot;Digi_LateMufluxSpectrometerHits&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5447</span>    <span class="keywordflow">if</span> sTree.GetBranchStatus(<span class="stringliteral">&quot;Digi_MufluxSpectrometerHits&quot;</span>): sTree.SetBranchStatus(<span class="stringliteral">&quot;Digi_MufluxSpectrometerHits&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5448</span>    <span class="keywordflow">if</span> sTree.GetBranchStatus(<span class="stringliteral">&quot;Digi_Scintillators&quot;</span>): sTree.SetBranchStatus(<span class="stringliteral">&quot;Digi_Scintillators&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5449</span>    <span class="keywordflow">if</span> sTree.GetBranchStatus(<span class="stringliteral">&quot;Digi_Triggers&quot;</span>): sTree.SetBranchStatus(<span class="stringliteral">&quot;Digi_Triggers&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5450</span>    <span class="keywordflow">if</span> sTree.GetBranchStatus(<span class="stringliteral">&quot;Digi_MasterTrigger&quot;</span>): sTree.SetBranchStatus(<span class="stringliteral">&quot;Digi_MasterTrigger&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5451</span>    <span class="keywordflow">if</span> sTree.GetBranchStatus(<span class="stringliteral">&quot;Digi_MuonTaggerHits&quot;</span>): sTree.SetBranchStatus(<span class="stringliteral">&quot;Digi_MuonTaggerHits&quot;</span>,0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="addb497d6138ef0a9adeffaa2d90a7d03" name="addb497d6138ef0a9adeffaa2d90a7d03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb497d6138ef0a9adeffaa2d90a7d03">&#9670;&#160;</a></span>displayDTLayers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.displayDTLayers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00877">877</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  877</span><span class="keyword">def </span>displayDTLayers():</div>
<div class="line"><span class="lineno">  878</span>    ut.bookHist(h,<span class="stringliteral">&#39;upstream&#39;</span>,<span class="stringliteral">&#39;upstream layers&#39;</span>,12,-0.5,11.5,30,-0.5,29.5)</div>
<div class="line"><span class="lineno">  879</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;layerDisplay&#39;</span>): ut.bookCanvas(h,key=<span class="stringliteral">&#39;layerDisplay&#39;</span>,title=<span class="stringliteral">&#39;Upstream Layers&#39;</span>,nx=1600,ny=1200,cx=1,cy=0)</div>
<div class="line"><span class="lineno">  880</span>    h[<span class="stringliteral">&#39;upstreamG&#39;</span>] = ROOT.TGraph()</div>
<div class="line"><span class="lineno">  881</span>    h[<span class="stringliteral">&#39;upstreamG&#39;</span>].Set(0)</div>
<div class="line"><span class="lineno">  882</span>    h[<span class="stringliteral">&#39;upstreamG&#39;</span>].SetMarkerStyle(8)</div>
<div class="line"><span class="lineno">  883</span>    h[<span class="stringliteral">&#39;upstreamG&#39;</span>].SetMarkerSize(2)</div>
<div class="line"><span class="lineno">  884</span>    n=0</div>
<div class="line"><span class="lineno">  885</span>    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno">  886</span>        detID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno">  887</span>        <span class="keywordflow">if</span> detID&lt;0: <span class="keywordflow">continue</span> <span class="comment"># feature for converted data in February&#39;19</span></div>
<div class="line"><span class="lineno">  888</span>        statnb,vnb,pnb,lnb,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno">  889</span>        nr = detID%100</div>
<div class="line"><span class="lineno">  890</span>        y = 2*pnb+lnb+(statnb-1)*16</div>
<div class="line"><span class="lineno">  891</span>        <span class="keywordflow">if</span> view==<span class="stringliteral">&#39;_u&#39;</span>: y+=8</div>
<div class="line"><span class="lineno">  892</span>        <span class="keywordflow">if</span> view==<span class="stringliteral">&#39;_x&#39;</span> <span class="keywordflow">and</span> statnb&gt;1: y+=8</div>
<div class="line"><span class="lineno">  893</span>        h[<span class="stringliteral">&#39;upstreamG&#39;</span>].SetPoint(n,nr,y)</div>
<div class="line"><span class="lineno">  894</span>        n+=1</div>
<div class="line"><span class="lineno">  895</span>    tc = h[<span class="stringliteral">&#39;layerDisplay&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno">  896</span>    h[<span class="stringliteral">&#39;upstream&#39;</span>].Draw()</div>
<div class="line"><span class="lineno">  897</span>    h[<span class="stringliteral">&#39;upstreamG&#39;</span>].Draw(<span class="stringliteral">&#39;sameP&#39;</span>)</div>
<div class="line"><span class="lineno">  898</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a58ed934843d893606ce1873ca59e317c" name="a58ed934843d893606ce1873ca59e317c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ed934843d893606ce1873ca59e317c">&#9670;&#160;</a></span>displayTrack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.displayTrack </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>theTrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>debug</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01778">1778</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1778</span><span class="keyword">def </span>displayTrack(theTrack,debug=False):</div>
<div class="line"><span class="lineno"> 1779</span>    zstart = 0</div>
<div class="line"><span class="lineno"> 1780</span>    nPoints = 100</div>
<div class="line"><span class="lineno"> 1781</span>    delz = 1000./nPoints</div>
<div class="line"><span class="lineno"> 1782</span>    nt = len(h[<span class="stringliteral">&#39;dispTrack&#39;</span>])</div>
<div class="line"><span class="lineno"> 1783</span>    h[<span class="stringliteral">&#39;dispTrack&#39;</span>].append( ROOT.TGraph(nPoints) )</div>
<div class="line"><span class="lineno"> 1784</span>    h[<span class="stringliteral">&#39;dispTrackY&#39;</span>].append( ROOT.TGraph(nPoints) )</div>
<div class="line"><span class="lineno"> 1785</span>    <span class="keywordflow">for</span> nP <span class="keywordflow">in</span> range(nPoints):</div>
<div class="line"><span class="lineno"> 1786</span>        zstart+=delz</div>
<div class="line"><span class="lineno"> 1787</span>        rc,pos,mom = extrapolateToPlane(theTrack,zstart)</div>
<div class="line"><span class="lineno"> 1788</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc: <span class="keywordflow">print</span> <span class="stringliteral">&quot;dispTrack extrap failed&quot;</span></div>
<div class="line"><span class="lineno"> 1789</span>        <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 1790</span>            h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].SetPoint(nP,zstart,pos[0])</div>
<div class="line"><span class="lineno"> 1791</span>            h[<span class="stringliteral">&#39;dispTrackY&#39;</span>][nt].SetPoint(nP,zstart,pos[1])</div>
<div class="line"><span class="lineno"> 1792</span>            <span class="keywordflow">if</span> debug:</div>
<div class="line"><span class="lineno"> 1793</span>                bfield.get(pos[0],pos[1],pos[2],Bx,By,Bz)</div>
<div class="line"><span class="lineno"> 1794</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;%5.2F %5.2F %5.2F %5.2F %5.2F %5.2F %5.2F %5.2F %5.2F &quot;</span>%(pos[0],pos[1],pos[2],Bx,By,Bz,mom[0],mom[1],mom[2])</div>
<div class="line"><span class="lineno"> 1795</span>            <span class="comment"># ptkick 1.03 / dalpha</span></div>
<div class="line"><span class="lineno"> 1796</span>        <span class="keywordflow">if</span> nP ==0:</div>
<div class="line"><span class="lineno"> 1797</span>            fitStatus = theTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 1798</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;trackinfo P/Pt/chi2/DoF/Ndf:%6.2F %6.2F %6.2F %6.2F&quot;</span>%(mom.Mag(),mom.Pt(),fitStatus.getChi2()/fitStatus.getNdf(),fitStatus.getNdf())</div>
<div class="line"><span class="lineno"> 1799</span>            st = theTrack.getFittedState(0)</div>
<div class="line"><span class="lineno"> 1800</span>            <span class="comment"># if st.getPDG()*st.getCharge()&gt;0: print &quot;something wrong here&quot;,st.getPDG(),st.getCharge()</span></div>
<div class="line"><span class="lineno"> 1801</span>            <span class="keywordflow">if</span> debug:</div>
<div class="line"><span class="lineno"> 1802</span>                N = theTrack.getNumPointsWithMeasurement()</div>
<div class="line"><span class="lineno"> 1803</span>                momU = theTrack.getFittedState(0).getMom()</div>
<div class="line"><span class="lineno"> 1804</span>                momD = theTrack.getFittedState(N-1).getMom()</div>
<div class="line"><span class="lineno"> 1805</span>                dalpha = momU[0]/momU[2] - ( momD[0]/momD[2] )</div>
<div class="line"><span class="lineno"> 1806</span>                slopeA = momU[0]/momU[2]</div>
<div class="line"><span class="lineno"> 1807</span>                slopeB = momD[0]/momD[2]</div>
<div class="line"><span class="lineno"> 1808</span>                posU = theTrack.getFittedState(0).getPos()</div>
<div class="line"><span class="lineno"> 1809</span>                posD = theTrack.getFittedState(N-1).getPos()</div>
<div class="line"><span class="lineno"> 1810</span>                bA = posU[0]-slopeA*posU[2]</div>
<div class="line"><span class="lineno"> 1811</span>                bB = posD[0]-slopeB*posD[2]</div>
<div class="line"><span class="lineno"> 1812</span>                x1 = zgoliath*slopeA+bA</div>
<div class="line"><span class="lineno"> 1813</span>                x2 = zgoliath*slopeB+bB</div>
<div class="line"><span class="lineno"> 1814</span>                delx = x2-x1</div>
<div class="line"><span class="lineno"> 1815</span>                rc = h[<span class="stringliteral">&#39;delx&#39;</span>].Fill(delx)</div>
<div class="line"><span class="lineno"> 1816</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;mom from pt kick=&quot;</span>,1.03/dalpha</div>
<div class="line"><span class="lineno"> 1817</span>                <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(theTrack.getNumPointsWithMeasurement()):</div>
<div class="line"><span class="lineno"> 1818</span>                    st = theTrack.getFittedState(j)</div>
<div class="line"><span class="lineno"> 1819</span>                    pos,mom = st.getPos(), st.getMom()</div>
<div class="line"><span class="lineno"> 1820</span>                    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%i %5.2F %5.2F %5.2F %5.2F %5.2F  %5.2F %i %i &quot;</span>%(j,pos[0],pos[1],pos[2],mom[0],mom[1],mom[2],st.getPDG(),st.getCharge())</div>
<div class="line"><span class="lineno"> 1821</span>    h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].SetLineColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 1822</span>    h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].SetLineWidth(3)</div>
<div class="line"><span class="lineno"> 1823</span>    h[<span class="stringliteral">&#39;dispTrackY&#39;</span>][nt].SetLineColor(ROOT.kOrange)</div>
<div class="line"><span class="lineno"> 1824</span>    h[<span class="stringliteral">&#39;dispTrackY&#39;</span>][nt].SetLineWidth(3)</div>
<div class="line"><span class="lineno"> 1825</span>    h[<span class="stringliteral">&#39;dispTrackY&#39;</span>][nt].SetLineStyle(10)</div>
<div class="line"><span class="lineno"> 1826</span>    h[<span class="stringliteral">&#39;simpleDisplay&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 1827</span>    h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 1828</span>    h[<span class="stringliteral">&#39;dispTrackY&#39;</span>][nt].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 1829</span>    h[ <span class="stringliteral">&#39;simpleDisplay&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 1830</span>    dispTrack3D(theTrack)</div>
</div><!-- fragment -->
</div>
</div>
<a id="af486a59ce80789034292cccafffdc176" name="af486a59ce80789034292cccafffdc176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af486a59ce80789034292cccafffdc176">&#9670;&#160;</a></span>dispTrack3D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.dispTrack3D </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>theTrack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00860">860</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  860</span><span class="keyword">def </span>dispTrack3D(theTrack):</div>
<div class="line"><span class="lineno">  861</span>    zstart = 0</div>
<div class="line"><span class="lineno">  862</span>    nPoints = 100</div>
<div class="line"><span class="lineno">  863</span>    delz = 1000./nPoints</div>
<div class="line"><span class="lineno">  864</span>    nt = len(h[<span class="stringliteral">&#39;dispTrack3D&#39;</span>])</div>
<div class="line"><span class="lineno">  865</span>    h[<span class="stringliteral">&#39;dispTrack3D&#39;</span>].append( ROOT.TPolyLine3D(nPoints) )</div>
<div class="line"><span class="lineno">  866</span>    h[<span class="stringliteral">&#39;dispTrack3D&#39;</span>][nt].SetLineWidth(3)</div>
<div class="line"><span class="lineno">  867</span>    h[<span class="stringliteral">&#39;dispTrack3D&#39;</span>][nt].SetLineColor(ROOT.kBlack)</div>
<div class="line"><span class="lineno">  868</span>    <span class="keywordflow">for</span> nP <span class="keywordflow">in</span> range(nPoints):</div>
<div class="line"><span class="lineno">  869</span>        zstart+=delz</div>
<div class="line"><span class="lineno">  870</span>        rc,pos,mom = extrapolateToPlane(theTrack,zstart)</div>
<div class="line"><span class="lineno">  871</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc: <span class="keywordflow">print</span> <span class="stringliteral">&quot;extrap failed&quot;</span></div>
<div class="line"><span class="lineno">  872</span>        <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno">  873</span>            h[<span class="stringliteral">&#39;dispTrack3D&#39;</span>][nt].SetPoint(nP,pos[0],pos[1],pos[2])</div>
<div class="line"><span class="lineno">  874</span>    rc = ROOT.gROOT.FindObject(<span class="stringliteral">&#39;c1&#39;</span>).cd()</div>
<div class="line"><span class="lineno">  875</span>    h[<span class="stringliteral">&#39;dispTrack3D&#39;</span>][nt].Draw(<span class="stringliteral">&#39;oglsame&#39;</span>)</div>
<div class="line"><span class="lineno">  876</span>    rc = ROOT.gROOT.FindObject(<span class="stringliteral">&#39;c1&#39;</span>).Update()</div>
</div><!-- fragment -->
</div>
</div>
<a id="acfdb9569fdf2ce68851ce4f972bfd5bf" name="acfdb9569fdf2ce68851ce4f972bfd5bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfdb9569fdf2ce68851ce4f972bfd5bf">&#9670;&#160;</a></span>doFit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.doFit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>p0</em> = <code>5.7</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>p1</em> = <code>0.17</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07384">7384</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7384</span><span class="keyword">def </span>doFit(p0=5.7,p1=0.17):</div>
<div class="line"><span class="lineno"> 7385</span><span class="comment"># prepare histos</span></div>
<div class="line"><span class="lineno"> 7386</span>    x=<span class="stringliteral">&#39;mu&#39;</span></div>
<div class="line"><span class="lineno"> 7387</span>    pMin = 5.</div>
<div class="line"><span class="lineno"> 7388</span>    <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;p/px&#39;</span>]:</div>
<div class="line"><span class="lineno"> 7389</span>        <span class="keywordflow">for</span> H <span class="keywordflow">in</span> [h,hMC,hCharm]:</div>
<div class="line"><span class="lineno"> 7390</span>            H[a+<span class="stringliteral">&#39;_x&#39;</span>+x] = H[a+x].ProjectionX(a+<span class="stringliteral">&#39;_x&#39;</span>+x)</div>
<div class="line"><span class="lineno"> 7391</span>    a = <span class="stringliteral">&#39;p/Abspx&#39;</span></div>
<div class="line"><span class="lineno"> 7392</span>    <span class="keywordflow">for</span> H <span class="keywordflow">in</span> [h,hMC,hCharm]:</div>
<div class="line"><span class="lineno"> 7393</span>        H[a+<span class="stringliteral">&#39;_y&#39;</span>+x] = H[a+x].ProjectionY(a+<span class="stringliteral">&#39;_y&#39;</span>+x,h[a+<span class="stringliteral">&#39;_x&#39;</span>+x].FindBin(pMin),h[a+<span class="stringliteral">&#39;_x&#39;</span>+x].GetNbinsX())</div>
<div class="line"><span class="lineno"> 7394</span>    npar = 2</div>
<div class="line"><span class="lineno"> 7395</span>    gMinuit = ROOT.TMinuit(npar)</div>
<div class="line"><span class="lineno"> 7396</span>    gMinuit.SetMaxIterations(100000)</div>
<div class="line"><span class="lineno"> 7397</span>    gMinuit.SetFCN(fcn)</div>
<div class="line"><span class="lineno"> 7398</span>    vstart  = array(<span class="stringliteral">&#39;d&#39;</span>,[p0,p1])</div>
<div class="line"><span class="lineno"> 7399</span>    step    = array(<span class="stringliteral">&#39;d&#39;</span>,[2.,2.])</div>
<div class="line"><span class="lineno"> 7400</span>    ierflg  = ROOT.Long(0)</div>
<div class="line"><span class="lineno"> 7401</span>    name = [ROOT.TString(<span class="stringliteral">&quot;dataMC&quot;</span>),ROOT.TString(<span class="stringliteral">&quot;charmMbias&quot;</span>)]</div>
<div class="line"><span class="lineno"> 7402</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(npar): gMinuit.mnparm(i, name[i], vstart[i], step[i], 0.,0.,ierflg)</div>
<div class="line"><span class="lineno"> 7403</span>    <span class="comment">#gMinuit.FixParameter(0)</span></div>
<div class="line"><span class="lineno"> 7404</span>    gMinuit.mnexcm(<span class="stringliteral">&quot;SIMPLEX&quot;</span>,vstart,npar,ierflg)</div>
<div class="line"><span class="lineno"> 7405</span>    gMinuit.mnexcm(<span class="stringliteral">&quot;MIGRAD&quot;</span>,vstart,npar,ierflg)</div>
<div class="line"><span class="lineno"> 7406</span>    pot = ROOT.Double()</div>
<div class="line"><span class="lineno"> 7407</span>    charmNorm = ROOT.Double()</div>
<div class="line"><span class="lineno"> 7408</span>    e = ROOT.Double()</div>
<div class="line"><span class="lineno"> 7409</span>    gMinuit.GetParameter(0,pot,e)</div>
<div class="line"><span class="lineno"> 7410</span>    gMinuit.GetParameter(1,charmNorm,e)</div>
<div class="line"><span class="lineno"> 7411</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;RESULT:&quot;</span>,abs(pot), abs(charmNorm)</div>
<div class="line"><span class="lineno"> 7412</span>    MCcomparison(abs(pot), pMin,1.0,abs(charmNorm))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7557d4a4f659460e4fa26f92e1428786" name="a7557d4a4f659460e4fa26f92e1428786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7557d4a4f659460e4fa26f92e1428786">&#9670;&#160;</a></span>doFitByHand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.doFitByHand </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07413">7413</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7413</span><span class="keyword">def </span>doFitByHand():</div>
<div class="line"><span class="lineno"> 7414</span>    p0min = 1.</div>
<div class="line"><span class="lineno"> 7415</span>    p0max = 10.</div>
<div class="line"><span class="lineno"> 7416</span>    p1min = 0.1</div>
<div class="line"><span class="lineno"> 7417</span>    p1max = 5.</div>
<div class="line"><span class="lineno"> 7418</span>    N = 100</div>
<div class="line"><span class="lineno"> 7419</span>    chi2Max = 1E10</div>
<div class="line"><span class="lineno"> 7420</span>    pChi2Min = [1.,1.]</div>
<div class="line"><span class="lineno"> 7421</span>    <span class="keywordflow">for</span> p0 <span class="keywordflow">in</span> numpy.linspace(p0min,p0max,N):</div>
<div class="line"><span class="lineno"> 7422</span>        <span class="keywordflow">for</span> p1  <span class="keywordflow">in</span> numpy.linspace(p1min,p1max,N):</div>
<div class="line"><span class="lineno"> 7423</span>            p=[p0,p1]</div>
<div class="line"><span class="lineno"> 7424</span>            chi2=[0]</div>
<div class="line"><span class="lineno"> 7425</span>            fcn(2,0,chi2,p,2)</div>
<div class="line"><span class="lineno"> 7426</span>            <span class="keywordflow">if</span> chi2[0]&lt;chi2Max:</div>
<div class="line"><span class="lineno"> 7427</span>                pChi2Min = [p0,p1]</div>
<div class="line"><span class="lineno"> 7428</span>                chi2Max=chi2[0]</div>
<div class="line"><span class="lineno"> 7429</span>    <span class="keywordflow">print</span> chi2Max,pChi2Min</div>
</div><!-- fragment -->
</div>
</div>
<a id="abd4a6b113edfa61922e58bc6bd8fa065" name="abd4a6b113edfa61922e58bc6bd8fa065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4a6b113edfa61922e58bc6bd8fa065">&#9670;&#160;</a></span>DTEfficiencyFudgefactor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.DTEfficiencyFudgefactor </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em> = <code>-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01066">1066</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1066</span><span class="keyword">def </span>DTEfficiencyFudgefactor(method=-1):</div>
<div class="line"><span class="lineno"> 1067</span>    <span class="keywordflow">if</span> method &lt;1: effFudgeFactors = {<span class="stringliteral">&quot;u&quot;</span>:1.1, <span class="stringliteral">&quot;v&quot;</span>:1.1, <span class="stringliteral">&quot;x2&quot;</span>:1.1, <span class="stringliteral">&quot;x3&quot;</span>:1.1, <span class="stringliteral">&quot;x1&quot;</span>:1.1,<span class="stringliteral">&quot;x4&quot;</span>:1.1}</div>
<div class="line"><span class="lineno"> 1068</span>    <span class="keywordflow">if</span> method ==0: effFudgeFactors = {<span class="stringliteral">&quot;x1&quot;</span>:0.97, <span class="stringliteral">&quot;u&quot;</span>:0.95, <span class="stringliteral">&quot;x2&quot;</span>:0.96, <span class="stringliteral">&quot;v&quot;</span>:0.96, <span class="stringliteral">&quot;x3&quot;</span>:0.92, <span class="stringliteral">&quot;x4&quot;</span>:0.97} <span class="comment"># method 0</span></div>
<div class="line"><span class="lineno"> 1069</span>    <span class="keywordflow">if</span> method ==2: effFudgeFactors = {<span class="stringliteral">&quot;x1&quot;</span>:0.94, <span class="stringliteral">&quot;u&quot;</span>:0.93, <span class="stringliteral">&quot;x2&quot;</span>:0.95, <span class="stringliteral">&quot;v&quot;</span>:0.93, <span class="stringliteral">&quot;x3&quot;</span>:0.90, <span class="stringliteral">&quot;x4&quot;</span>:0.94} <span class="comment"># method 2</span></div>
<div class="line"><span class="lineno"> 1070</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> effFudgeFactors: muflux_Reco.setEffFudgeFactor(x,effFudgeFactors[x])</div>
<div class="line"><span class="lineno"> 1071</span> </div>
<div class="line"><span class="lineno"> 1072</span><span class="comment"># C++ reconstruction/monitoring</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2d4a8e464a869ba839b80e7b1b36d6a" name="af2d4a8e464a869ba839b80e7b1b36d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d4a8e464a869ba839b80e7b1b36d6a">&#9670;&#160;</a></span>DTeffWithRPCTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.DTeffWithRPCTracks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Nevents</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>onlyPlotting</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fHisto</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03318">3318</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3318</span><span class="keyword">def </span>DTeffWithRPCTracks(Nevents=0,onlyPlotting=False,fHisto=None):</div>
<div class="line"><span class="lineno"> 3319</span>    <span class="comment"># /eos/experiment/ship/user/odurhan/muflux-recodata/RUN_8000_2199</span></div>
<div class="line"><span class="lineno"> 3320</span>    addCuts = {<span class="stringliteral">&#39;&#39;</span>:0,<span class="stringliteral">&#39;Chi2&lt;&#39;</span>:0.7,<span class="stringliteral">&#39;Dely&lt;&#39;</span>:5,<span class="stringliteral">&#39;Delx&lt;&#39;</span>:2,<span class="stringliteral">&#39;All&#39;</span>:1}</div>
<div class="line"><span class="lineno"> 3321</span>    align2RPC = {4:[-1.,3.2],3:[-2.,5.],2:[-6.,8.],1:[-6.,8.]}</div>
<div class="line"><span class="lineno"> 3322</span>    stationDetIDs = {<span class="stringliteral">&#39;x1&#39;</span>:[10002001,10002012],<span class="stringliteral">&#39;u&#39;</span>:[11002001,11002012],<span class="stringliteral">&#39;x2&#39;</span>:[21102001,21102012],</div>
<div class="line"><span class="lineno"> 3323</span>                     <span class="stringliteral">&#39;v&#39;</span>:[20112001,20112012],<span class="stringliteral">&#39;x3&#39;</span>:[30002001,30002048],<span class="stringliteral">&#39;x4&#39;</span>:[40002001,40002048]}</div>
<div class="line"><span class="lineno"> 3324</span>    stationZ = {}</div>
<div class="line"><span class="lineno"> 3325</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3326</span>        vbot,vtop   = strawPositionsBotTop[stationDetIDs[<span class="stringliteral">&#39;x&#39;</span>+str(s)][0]]</div>
<div class="line"><span class="lineno"> 3327</span>        z = (vbot[2]+vtop[2])/2.</div>
<div class="line"><span class="lineno"> 3328</span>        xmin = (vbot[0]+vtop[0])/2.</div>
<div class="line"><span class="lineno"> 3329</span>        vbot,vtop   = strawPositionsBotTop[stationDetIDs[<span class="stringliteral">&#39;x&#39;</span>+str(s)][1]]</div>
<div class="line"><span class="lineno"> 3330</span>        xmax = (vbot[0]+vtop[0])/2.</div>
<div class="line"><span class="lineno"> 3331</span>        stationZ[s] = [z,xmin,xmax]</div>
<div class="line"><span class="lineno"> 3332</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> onlyPlotting:</div>
<div class="line"><span class="lineno"> 3333</span>        <span class="keywordflow">if</span> Nevents==0: Nevents = sTree.GetEntries()</div>
<div class="line"><span class="lineno"> 3334</span>        <span class="keywordflow">for</span> tag_s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3335</span>            ut.bookHist(h,<span class="stringliteral">&#39;upStreamOcc&#39;</span>+str(tag_s),<span class="stringliteral">&quot;station 1&amp;2&quot;</span>,200,-0.5,199.5)</div>
<div class="line"><span class="lineno"> 3336</span>            ut.bookHist(h,<span class="stringliteral">&#39;upStreamOccWithTrack&#39;</span>+str(tag_s),<span class="stringliteral">&quot;station 1&amp;2&quot;</span>,200,-0.5,199.5)</div>
<div class="line"><span class="lineno"> 3337</span>            ut.bookHist(h,<span class="stringliteral">&#39;upStreamOccWithTrack_mu&#39;</span>+str(tag_s),<span class="stringliteral">&quot;station 1&amp;2&quot;</span>,200,-0.5,199.5)</div>
<div class="line"><span class="lineno"> 3338</span>            ut.bookHist(h,<span class="stringliteral">&#39;upStreamOccWithTrack_muX&#39;</span>+str(tag_s),<span class="stringliteral">&quot;station 1&amp;2&quot;</span>,200,-0.5,199.5)</div>
<div class="line"><span class="lineno"> 3339</span>            ut.bookHist(h,<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2&#39;</span>+str(tag_s),<span class="stringliteral">&quot;station 1&amp;2&quot;</span>,200,-0.5,199.5)</div>
<div class="line"><span class="lineno"> 3340</span>            ut.bookHist(h,<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2mu&#39;</span>+str(tag_s),<span class="stringliteral">&quot;station 1&amp;2&quot;</span>,200,-0.5,199.5)</div>
<div class="line"><span class="lineno"> 3341</span>        <span class="keywordflow">for</span> tag_s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3342</span>            <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3343</span>                ut.bookHist(h,<span class="stringliteral">&#39;hitsIn&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s),<span class="stringliteral">&#39;number of hits &#39;</span>+str(s),10,-0.5,9.5)</div>
<div class="line"><span class="lineno"> 3344</span>                ut.bookHist(h,<span class="stringliteral">&#39;hits&#39;</span>  +str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s),<span class="stringliteral">&#39;number of hits in layer &#39;</span>+str(s),7,-0.5,6.5)</div>
<div class="line"><span class="lineno"> 3345</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 3346</span>                    <span class="keywordflow">if</span> tag_s==1: ut.bookHist(h,<span class="stringliteral">&#39;distX&#39;</span> +str(s)+str(l),<span class="stringliteral">&#39;distance of RPC track to hit &#39;</span>+str(s)+str(l),100,-10.,10.)</div>
<div class="line"><span class="lineno"> 3347</span>                    ut.bookHist(h,<span class="stringliteral">&#39;distXref&#39;</span>+str(s)+str(l)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s),<span class="stringliteral">&#39;distance of refitted RPC track to hit &#39;</span>+str(s)+str(l),100,-10.,10.)</div>
<div class="line"><span class="lineno"> 3348</span>        Ntot    = [0,0,0,0,0]</div>
<div class="line"><span class="lineno"> 3349</span>        Ntrack  = [0,0,0,0,0]</div>
<div class="line"><span class="lineno"> 3350</span>        Ineff = 0</div>
<div class="line"><span class="lineno"> 3351</span>        view = 0</div>
<div class="line"><span class="lineno"> 3352</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(Nevents):</div>
<div class="line"><span class="lineno"> 3353</span>            rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 3354</span>            anyTrack = {}</div>
<div class="line"><span class="lineno"> 3355</span>            <span class="keywordflow">if</span> len(sTree.RPCTrackX)!=1 <span class="keywordflow">or</span> len(sTree.RPCTrackY)!=1 : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3356</span>            clusters = findDTClusters()</div>
<div class="line"><span class="lineno"> 3357</span>            <span class="comment"># require u and v clusters, but no too many</span></div>
<div class="line"><span class="lineno"> 3358</span>            <span class="keywordflow">if</span> len(clusters[1][1])==0 <span class="keywordflow">or</span> len(clusters[1][1])&gt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3359</span>            <span class="keywordflow">if</span> len(clusters[2][2])==0 <span class="keywordflow">or</span> len(clusters[2][2])&gt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3360</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 3361</span>            spectrHitsSorted = ROOT.nestedList()</div>
<div class="line"><span class="lineno"> 3362</span>            candidates= {1:{0:[],1:[],2:[],3:[]}, 2:{0:[],1:[],2:[],3:[]}, 3:{0:[],1:[],2:[],3:[]},4:{0:[],1:[],2:[],3:[]}}</div>
<div class="line"><span class="lineno"> 3363</span>            muflux_Reco.sortHits(sTree.Digi_MufluxSpectrometerHits,spectrHitsSorted,<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 3364</span>            stationOcc={}</div>
<div class="line"><span class="lineno"> 3365</span>            <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(1,7):</div>
<div class="line"><span class="lineno"> 3366</span>                stationOcc[k]=0;</div>
<div class="line"><span class="lineno"> 3367</span>                s = k</div>
<div class="line"><span class="lineno"> 3368</span>                t = 0</div>
<div class="line"><span class="lineno"> 3369</span>                <span class="keywordflow">if</span> k==5:</div>
<div class="line"><span class="lineno"> 3370</span>                    s=1</div>
<div class="line"><span class="lineno"> 3371</span>                    t=1</div>
<div class="line"><span class="lineno"> 3372</span>                <span class="keywordflow">elif</span> k==6:</div>
<div class="line"><span class="lineno"> 3373</span>                    s=2</div>
<div class="line"><span class="lineno"> 3374</span>                    t=2</div>
<div class="line"><span class="lineno"> 3375</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 3376</span>                    stationOcc[k]+=spectrHitsSorted[t][s][l].size()</div>
<div class="line"><span class="lineno"> 3377</span>            upStreamOcc = stationOcc[1]+stationOcc[5]+stationOcc[2]+stationOcc[6]</div>
<div class="line"><span class="lineno"> 3378</span>            <span class="keywordflow">for</span> mu <span class="keywordflow">in</span> sTree.RPCTrackX:</div>
<div class="line"><span class="lineno"> 3379</span>        <span class="comment"># mu.m()*z + mu.b()</span></div>
<div class="line"><span class="lineno"> 3380</span>                <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3381</span>                <span class="comment"># only take simple events with one cluster per tagging station max</span></div>
<div class="line"><span class="lineno"> 3382</span>                    <span class="keywordflow">if</span> len(clusters[s][0]) &gt; 1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3383</span>                    <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> clusters[s][0]:</div>
<div class="line"><span class="lineno"> 3384</span>                        <span class="keywordflow">for</span> clhit <span class="keywordflow">in</span> cl:</div>
<div class="line"><span class="lineno"> 3385</span>                            hit = clhit[0]</div>
<div class="line"><span class="lineno"> 3386</span>                            vbot,vtop = strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 3387</span>                            z = (vbot[2]+vtop[2])/2.</div>
<div class="line"><span class="lineno"> 3388</span>                            x = (vbot[0]+vtop[0])/2.</div>
<div class="line"><span class="lineno"> 3389</span>                            xExtr = mu.m()*z + mu.b()</div>
<div class="line"><span class="lineno"> 3390</span>                            diff = x-xExtr - align2RPC[s][0]</div>
<div class="line"><span class="lineno"> 3391</span>                            temp = stationInfo(hit)   <span class="comment"># s,v,p,l,view,channelID,tdcId,nRT</span></div>
<div class="line"><span class="lineno"> 3392</span>                            l = 2*temp[2]+temp[3]</div>
<div class="line"><span class="lineno"> 3393</span>                            <span class="keywordflow">if</span> abs(diff)&lt;align2RPC[s][1]: candidates[s][l].append(hit)</div>
<div class="line"><span class="lineno"> 3394</span>                            rc = h[<span class="stringliteral">&#39;distX&#39;</span>+str(s)+str(l)].Fill(diff)</div>
<div class="line"><span class="lineno"> 3395</span>                <span class="comment"># tagging with station tag_s, require only one candidate.</span></div>
<div class="line"><span class="lineno"> 3396</span>                <span class="keywordflow">for</span> tag_s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3397</span>                    unique = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 3398</span>                    <span class="keywordflow">for</span> l <span class="keywordflow">in</span> candidates[tag_s]:</div>
<div class="line"><span class="lineno"> 3399</span>                        <span class="keywordflow">if</span> len(candidates[tag_s][l])&gt;1: unique = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 3400</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> unique: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3401</span>                    pos={}</div>
<div class="line"><span class="lineno"> 3402</span>                    zRPC1 = 880.</div>
<div class="line"><span class="lineno"> 3403</span>                    pos[zRPC1] = mu.m()*zRPC1 + mu.b()</div>
<div class="line"><span class="lineno"> 3404</span>                    <span class="keywordflow">for</span> l <span class="keywordflow">in</span> candidates[tag_s]:</div>
<div class="line"><span class="lineno"> 3405</span>                        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> candidates[tag_s][l]:</div>
<div class="line"><span class="lineno"> 3406</span>                            vbot,vtop = strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 3407</span>                            pos[(vbot[2]+vtop[2])/2.]=(vbot[0]+vtop[0])/2.</div>
<div class="line"><span class="lineno"> 3408</span><span class="comment"># with drift time problem of LR ambiguity</span></div>
<div class="line"><span class="lineno"> 3409</span>                            withTDC = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 3410</span>                            <span class="keywordflow">if</span> withTDC: </div>
<div class="line"><span class="lineno"> 3411</span>                                tdc = hit.GetDigi()</div>
<div class="line"><span class="lineno"> 3412</span>                                distance = RT(hit,tdc)</div>
<div class="line"><span class="lineno"> 3413</span>                                pos[(vbot[2]+vtop[2])/2.]=(vbot[0]+vtop[0])/2. + distance</div>
<div class="line"><span class="lineno"> 3414</span>                                pos[(vbot[2]+vtop[2])/2.]=(vbot[0]+vtop[0])/2. - distance</div>
<div class="line"><span class="lineno"> 3415</span>                    <span class="keywordflow">if</span> len(pos)&lt;3: <span class="keywordflow">continue</span> <span class="comment"># 1 RPC point + &gt;1 DT point</span></div>
<div class="line"><span class="lineno"> 3416</span>                    coefficients = numpy.polyfit(pos.keys(),pos.values(),1)</div>
<div class="line"><span class="lineno"> 3417</span><span class="comment"># check that track is in acceptance</span></div>
<div class="line"><span class="lineno"> 3418</span>                    inAcc=<span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 3419</span>                    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> stationZ:</div>
<div class="line"><span class="lineno"> 3420</span>                        xExtr = coefficients[0]*stationZ[s][0] + coefficients[1]</div>
<div class="line"><span class="lineno"> 3421</span>                        <span class="keywordflow">if</span> xExtr&lt;stationZ[s][1] <span class="keywordflow">or</span> xExtr&gt;stationZ[s][2]: inAcc = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 3422</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> inAcc: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3423</span>                    rc = h[<span class="stringliteral">&#39;upStreamOcc&#39;</span>+str(tag_s)].Fill(upStreamOcc)</div>
<div class="line"><span class="lineno"> 3424</span>                    anyTrack[s] = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 3425</span><span class="comment"># up to here, track found for given RPC + tagging station tag_s</span></div>
<div class="line"><span class="lineno"> 3426</span>                    goodTracks = {<span class="stringliteral">&#39;&#39;</span>:[],<span class="stringliteral">&#39;Chi2&lt;&#39;</span>:[],<span class="stringliteral">&#39;mu&#39;</span>:[],<span class="stringliteral">&#39;muX&#39;</span>:[],<span class="stringliteral">&#39;Chi2&lt;mu&#39;</span>:[]}</div>
<div class="line"><span class="lineno"> 3427</span>                    k=-1</div>
<div class="line"><span class="lineno"> 3428</span>                    <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> sTree.FitTracks:</div>
<div class="line"><span class="lineno"> 3429</span>                        k+=1</div>
<div class="line"><span class="lineno"> 3430</span><span class="comment"># default cuts:</span></div>
<div class="line"><span class="lineno"> 3431</span>                        fitStatus   = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 3432</span>                        <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitStatus.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3433</span>                        hitsPerStation = countMeasurements(k,1)</div>
<div class="line"><span class="lineno"> 3434</span>                        <span class="keywordflow">if</span> len(hitsPerStation[<span class="stringliteral">&#39;x1&#39;</span>])&lt;2 <span class="keywordflow">or</span> len(hitsPerStation[<span class="stringliteral">&#39;x2&#39;</span>])&lt;2 <span class="keywordflow">or</span> len(hitsPerStation[<span class="stringliteral">&#39;x3&#39;</span>])&lt;2 <span class="keywordflow">or</span> len(hitsPerStation[<span class="stringliteral">&#39;x4&#39;</span>])&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3435</span>                        goodTracks[<span class="stringliteral">&#39;&#39;</span>].append(k)</div>
<div class="line"><span class="lineno"> 3436</span>                        chi2OK = fitStatus.getChi2()/fitStatus.getNdf() &lt; addCuts[<span class="stringliteral">&#39;Chi2&lt;&#39;</span>]</div>
<div class="line"><span class="lineno"> 3437</span>                        <span class="keywordflow">if</span> chi2OK: goodTracks[<span class="stringliteral">&#39;Chi2&lt;&#39;</span>].append(k)</div>
<div class="line"><span class="lineno"> 3438</span><span class="comment"># check that track is matched to RPC</span></div>
<div class="line"><span class="lineno"> 3439</span>                        posRPC=ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 3440</span>                        momRPC=ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 3441</span>                        rc = muflux_Reco.extrapolateToPlane(aTrack,cuts[<span class="stringliteral">&quot;zRPC1&quot;</span>], posRPC, momRPC)</div>
<div class="line"><span class="lineno"> 3442</span>                        X=ROOT.kFALSE</div>
<div class="line"><span class="lineno"> 3443</span>                        Y=ROOT.kFALSE</div>
<div class="line"><span class="lineno"> 3444</span>                        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.RPCTrackX:</div>
<div class="line"><span class="lineno"> 3445</span>                            Xpos = hit.m()*cuts[<span class="stringliteral">&quot;zRPC1&quot;</span>]+hit.b()</div>
<div class="line"><span class="lineno"> 3446</span>                            dist = ROOT.TMath.Abs(posRPC[0]-Xpos)</div>
<div class="line"><span class="lineno"> 3447</span>                            <span class="keywordflow">if</span> dist&lt;cuts[<span class="stringliteral">&quot;muTrackMatchX&quot;</span>]: X=ROOT.kTRUE</div>
<div class="line"><span class="lineno"> 3448</span>                        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.RPCTrackY:</div>
<div class="line"><span class="lineno"> 3449</span>                            Ypos = hit.m()*cuts[<span class="stringliteral">&quot;zRPC1&quot;</span>]+hit.b()</div>
<div class="line"><span class="lineno"> 3450</span>                            dist = ROOT.TMath.Abs(posRPC[1]-Ypos)</div>
<div class="line"><span class="lineno"> 3451</span>                            <span class="keywordflow">if</span> dist&lt;cuts[<span class="stringliteral">&quot;muTrackMatchY&quot;</span>]: Y=ROOT.kTRUE</div>
<div class="line"><span class="lineno"> 3452</span>                        <span class="keywordflow">if</span> X <span class="keywordflow">and</span> Y: goodTracks[<span class="stringliteral">&#39;mu&#39;</span>].append(k)</div>
<div class="line"><span class="lineno"> 3453</span>                        <span class="keywordflow">if</span> X: goodTracks[<span class="stringliteral">&#39;muX&#39;</span>].append(k)</div>
<div class="line"><span class="lineno"> 3454</span>                        <span class="keywordflow">if</span> X <span class="keywordflow">and</span> Y <span class="keywordflow">and</span> chi2OK: goodTracks[<span class="stringliteral">&#39;Chi2&lt;mu&#39;</span>].append(k)</div>
<div class="line"><span class="lineno"> 3455</span>                    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> goodTracks:</div>
<div class="line"><span class="lineno"> 3456</span>                        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> goodTracks[c]:</div>
<div class="line"><span class="lineno"> 3457</span>                            <span class="keywordflow">if</span> c==<span class="stringliteral">&#39;&#39;</span>:</div>
<div class="line"><span class="lineno"> 3458</span>                                rc = h[<span class="stringliteral">&#39;upStreamOccWithTrack&#39;</span>+str(tag_s)].Fill(upStreamOcc)</div>
<div class="line"><span class="lineno"> 3459</span>                                Ntrack[tag_s] += 1</div>
<div class="line"><span class="lineno"> 3460</span>                            <span class="keywordflow">if</span> c==<span class="stringliteral">&#39;mu&#39;</span>:   </div>
<div class="line"><span class="lineno"> 3461</span>                                rc = h[<span class="stringliteral">&#39;upStreamOccWithTrack_mu&#39;</span>+str(tag_s)].Fill(upStreamOcc)</div>
<div class="line"><span class="lineno"> 3462</span>                                anyTrack[s] = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 3463</span>                            <span class="keywordflow">if</span> c==<span class="stringliteral">&#39;muX&#39;</span>:  rc = h[<span class="stringliteral">&#39;upStreamOccWithTrack_muX&#39;</span>+str(tag_s)].Fill(upStreamOcc)</div>
<div class="line"><span class="lineno"> 3464</span>                            <span class="keywordflow">if</span> c==<span class="stringliteral">&#39;Chi2&lt;&#39;</span>:  rc = h[<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2&#39;</span>+str(tag_s)].Fill(upStreamOcc)</div>
<div class="line"><span class="lineno"> 3465</span>                            <span class="keywordflow">if</span> c==<span class="stringliteral">&#39;Chi2&lt;mu&#39;</span>:  rc = h[<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2mu&#39;</span>+str(tag_s)].Fill(upStreamOcc)</div>
<div class="line"><span class="lineno"> 3466</span>                    Ntot[tag_s] += 1</div>
<div class="line"><span class="lineno"> 3467</span>                    nhits={1:0,2:0,3:0,4:0}</div>
<div class="line"><span class="lineno"> 3468</span>                    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3469</span>                        <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 3470</span>                            first = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 3471</span>                            <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> spectrHitsSorted[view][s][l]:</div>
<div class="line"><span class="lineno"> 3472</span>                                vbot,vtop = strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 3473</span>                                z = (vbot[2]+vtop[2])/2.</div>
<div class="line"><span class="lineno"> 3474</span>                                x = (vbot[0]+vtop[0])/2.</div>
<div class="line"><span class="lineno"> 3475</span>                                xExtr = coefficients[0]*z + coefficients[1]</div>
<div class="line"><span class="lineno"> 3476</span>                                rc = h[<span class="stringliteral">&#39;distXref&#39;</span>+str(s)+str(l)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)].Fill(x-xExtr)</div>
<div class="line"><span class="lineno"> 3477</span>                                <span class="keywordflow">if</span> abs(x-xExtr)&lt;5.:</div>
<div class="line"><span class="lineno"> 3478</span>                                    <span class="keywordflow">if</span> first:</div>
<div class="line"><span class="lineno"> 3479</span>                                        nhits[s]+=1</div>
<div class="line"><span class="lineno"> 3480</span>                                        first = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 3481</span>                                        h[<span class="stringliteral">&#39;hits&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)].Fill(l)</div>
<div class="line"><span class="lineno"> 3482</span>                        h[<span class="stringliteral">&#39;hitsIn&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)].Fill(nhits[s])</div>
<div class="line"><span class="lineno"> 3483</span>                        <span class="comment"># if (tag_s==1 or tag_s==2) and nhits[s]==0:    print &quot;no hits in station &quot;,s,&#39; event &#39;,n</span></div>
<div class="line"><span class="lineno"> 3484</span>                    <span class="keywordflow">if</span> nhits[4] &lt; 2: Ineff+=1</div>
<div class="line"><span class="lineno"> 3485</span>            <span class="keywordflow">for</span> s <span class="keywordflow">in</span> anyTrack:</div>
<div class="line"><span class="lineno"> 3486</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> anyTrack[s] <span class="keywordflow">and</span> Debug: <span class="keywordflow">print</span> <span class="stringliteral">&quot;no fitted track found&quot;</span>,n</div>
<div class="line"><span class="lineno"> 3487</span>        <span class="keywordflow">for</span> tag_s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3488</span>            <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3489</span>                h[<span class="stringliteral">&#39;hits&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)].SetBinContent(6,Ntot[tag_s])</div>
<div class="line"><span class="lineno"> 3490</span>                h[<span class="stringliteral">&#39;hits&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)].SetBinContent(7,Ntrack[tag_s])</div>
<div class="line"><span class="lineno"> 3491</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;rough estimate of station inefficiency:&quot;</span>,float(Ineff)/(Ntot[tag_s]+1E-5)</div>
<div class="line"><span class="lineno"> 3492</span>        ut.writeHists(h,<span class="stringliteral">&#39;histos-DTEff&#39;</span>+rname)</div>
<div class="line"><span class="lineno"> 3493</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 3494</span><span class="comment"># analysis part</span></div>
<div class="line"><span class="lineno"> 3495</span>        ut.bookHist(h,<span class="stringliteral">&#39;effLayer&#39;</span>,<span class="stringliteral">&#39;efficiency per Layer&#39;</span>,24,-0.5,23.5)</div>
<div class="line"><span class="lineno"> 3496</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;hits1_1&#39;</span>): </div>
<div class="line"><span class="lineno"> 3497</span>            <span class="keywordflow">if</span> fHisto:  ut.readHists(h,fHisto)</div>
<div class="line"><span class="lineno"> 3498</span>            <span class="keywordflow">else</span>: ut.readHists(h,<span class="stringliteral">&#39;DTEff.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 3499</span>        effPerLayer = {}</div>
<div class="line"><span class="lineno"> 3500</span>        <span class="keywordflow">for</span> tag_s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3501</span>            t = <span class="stringliteral">&#39;tagstation&#39;</span>+str(tag_s)</div>
<div class="line"><span class="lineno"> 3502</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t):</div>
<div class="line"><span class="lineno"> 3503</span>                ut.bookCanvas(h,key=t,title=<span class="stringliteral">&#39;with tagging station &#39;</span>+str(tag_s),nx=1600,ny=1200,cx=4,cy=4)</div>
<div class="line"><span class="lineno"> 3504</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;analysis with tagging station &quot;</span>,tag_s</div>
<div class="line"><span class="lineno"> 3505</span>            effPerLayer[tag_s] = {}</div>
<div class="line"><span class="lineno"> 3506</span>            <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3507</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 3508</span>                    j = (s-1)*4+l+1</div>
<div class="line"><span class="lineno"> 3509</span>                    h[t].cd(j)</div>
<div class="line"><span class="lineno"> 3510</span>                    hname = <span class="stringliteral">&#39;distXref&#39;</span>+str(s)+str(l)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)</div>
<div class="line"><span class="lineno"> 3511</span>                    fitFunction = myGauss</div>
<div class="line"><span class="lineno"> 3512</span>                    fitFunction.SetParameter(0,h[hname].GetEntries()*h[hname].GetBinWidth(1))</div>
<div class="line"><span class="lineno"> 3513</span>                    fitFunction.SetParameter(1,0.)</div>
<div class="line"><span class="lineno"> 3514</span>                    fitFunction.SetParameter(2,1.2)</div>
<div class="line"><span class="lineno"> 3515</span>                    fitFunction.SetParameter(3,0.)</div>
<div class="line"><span class="lineno"> 3516</span>                    fitResult = h[hname].Fit(fitFunction,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-10.,10.)</div>
<div class="line"><span class="lineno"> 3517</span>                    rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 3518</span>                    background = rc.Parameter(3) * h[hname].GetNbinsX()</div>
<div class="line"><span class="lineno"> 3519</span>                    bckInterval  = float(h[hname].GetNbinsX() - (h[hname].FindBin(4.) - h[hname].FindBin(-4.)) )</div>
<div class="line"><span class="lineno"> 3520</span>                    backgroundBinary = h[hname].Integral(1,h[hname].FindBin(-4.)) + h[hname].Integral(h[hname].FindBin(4.),h[hname].GetNbinsX())</div>
<div class="line"><span class="lineno"> 3521</span>                    estSignalBinary  = h[hname].GetSumOfWeights() - backgroundBinary/bckInterval*h[hname].GetNbinsX()</div>
<div class="line"><span class="lineno"> 3522</span>                    signal1 = h[hname].GetSumOfWeights()-background</div>
<div class="line"><span class="lineno"> 3523</span>                    signal2 = rc.Parameter(0)</div>
<div class="line"><span class="lineno"> 3524</span>                    err = ROOT.TMath.Sqrt(float(h[<span class="stringliteral">&#39;hits&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)].GetBinContent(6))-estSignalBinary)/float(h[<span class="stringliteral">&#39;hits&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)].GetBinContent(6))</div>
<div class="line"><span class="lineno"> 3525</span>                    <span class="comment"># print &quot;debug&quot;,tag_s,s,l,&#39;:&#39;,signal1,signal2,estSignalBinary,err</span></div>
<div class="line"><span class="lineno"> 3526</span>                    signal = estSignalBinary</div>
<div class="line"><span class="lineno"> 3527</span>                    effPerLayer[tag_s][10*s+l] = signal / float(h[<span class="stringliteral">&#39;hits&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)].GetBinContent(6))</div>
<div class="line"><span class="lineno"> 3528</span>                    <span class="keywordflow">if</span> tag_s == 1 <span class="keywordflow">and</span> s!=1 <span class="keywordflow">or</span> tag_s == 2 <span class="keywordflow">and</span> s==1:</div>
<div class="line"><span class="lineno"> 3529</span>                        L = j</div>
<div class="line"><span class="lineno"> 3530</span>                        <span class="keywordflow">if</span> s&gt;1: L+=4</div>
<div class="line"><span class="lineno"> 3531</span>                        <span class="keywordflow">if</span> s&gt;2: L+=4</div>
<div class="line"><span class="lineno"> 3532</span>                        h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetBinContent(L,effPerLayer[tag_s][10*s+l])</div>
<div class="line"><span class="lineno"> 3533</span>                        h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetBinError(L,err)</div>
<div class="line"><span class="lineno"> 3534</span><span class="comment"># remove self tagging from plot</span></div>
<div class="line"><span class="lineno"> 3535</span>            h[t].Update()</div>
<div class="line"><span class="lineno"> 3536</span>            <span class="keywordflow">for</span> p <span class="keywordflow">in</span> h[t].GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 3537</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> p : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3538</span>                pname = p.GetName()</div>
<div class="line"><span class="lineno"> 3539</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 3540</span>                    test = t+<span class="stringliteral">&#39;_&#39;</span>+str((tag_s-1)*4+l+1)</div>
<div class="line"><span class="lineno"> 3541</span>                    <span class="keywordflow">if</span> pname == test: p.Delete()</div>
<div class="line"><span class="lineno"> 3542</span>            myPrint(h[t],<span class="stringliteral">&#39;DTeffPerLayer-station&#39;</span>+str(tag_s)+<span class="stringliteral">&#39;_res&#39;</span>)</div>
<div class="line"><span class="lineno"> 3543</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;tagging station                   :   1       2       3       4&quot;</span></div>
<div class="line"><span class="lineno"> 3544</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3545</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4): </div>
<div class="line"><span class="lineno"> 3546</span>                text = <span class="stringliteral">&quot;efficiencies for station %i layer %i:&quot;</span>%(s,l)</div>
<div class="line"><span class="lineno"> 3547</span>                <span class="keywordflow">for</span> tag_s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3548</span>                    text+=<span class="stringliteral">&quot; %5.2F%% &quot;</span>%(effPerLayer[tag_s][10*s+l]*100)</div>
<div class="line"><span class="lineno"> 3549</span>                <span class="keywordflow">print</span> text</div>
<div class="line"><span class="lineno"> 3550</span>        ut.bookHist(h,<span class="stringliteral">&#39;DTeffPerLayer&#39;</span>,<span class="stringliteral">&#39;DT hit efficiency per layer&#39;</span>,50,0.5,50.5)</div>
<div class="line"><span class="lineno"> 3551</span>        choice = {1:[2,ROOT.kRed],2:[1,ROOT.kGreen],3:[1,ROOT.kBlue],4:[1,ROOT.kMagenta]}</div>
<div class="line"><span class="lineno"> 3552</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 3553</span>        j = 0</div>
<div class="line"><span class="lineno"> 3554</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3555</span>            <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>,<span class="stringliteral">&#39;_u&#39;</span>,<span class="stringliteral">&#39;_v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3556</span>                <span class="keywordflow">if</span> s&gt;2 <span class="keywordflow">and</span> view != <span class="stringliteral">&#39;_x&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3557</span>                <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_v&#39;</span> <span class="keywordflow">or</span> s==2 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_u&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3558</span>                <span class="keywordflow">if</span> view !=<span class="stringliteral">&#39;_x&#39;</span>:</div>
<div class="line"><span class="lineno"> 3559</span>                    j+=4</div>
<div class="line"><span class="lineno"> 3560</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3561</span>                tag_s = choice[s][0]</div>
<div class="line"><span class="lineno"> 3562</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 3563</span>                    j+=1</div>
<div class="line"><span class="lineno"> 3564</span>                    h[<span class="stringliteral">&#39;DTeffPerLayer&#39;</span>].SetBinContent(j,effPerLayer[tag_s][10*s+l])</div>
<div class="line"><span class="lineno"> 3565</span>        h[<span class="stringliteral">&#39;DTeffPerLayer&#39;</span>].SetMinimum(0.6)</div>
<div class="line"><span class="lineno"> 3566</span>        h[<span class="stringliteral">&#39;DTeffPerLayer&#39;</span>].SetMaximum(1.0)</div>
<div class="line"><span class="lineno"> 3567</span>        h[<span class="stringliteral">&#39;DTeffPerLayer&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 3568</span>        ut.bookCanvas(h,<span class="stringliteral">&#39;ct&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,700,500,1,1)</div>
<div class="line"><span class="lineno"> 3569</span>        ut.bookCanvas(h,<span class="stringliteral">&#39;c2&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,700,500,1,1)</div>
<div class="line"><span class="lineno"> 3570</span>        h[<span class="stringliteral">&#39;ct&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 3571</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetMaximum(1.)</div>
<div class="line"><span class="lineno"> 3572</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetMinimum(0.5)</div>
<div class="line"><span class="lineno"> 3573</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 3574</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetMarkerStyle(21)</div>
<div class="line"><span class="lineno"> 3575</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetMarkerColor(h[<span class="stringliteral">&#39;effLayer&#39;</span>].GetLineColor())</div>
<div class="line"><span class="lineno"> 3576</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].GetXaxis().SetLabelSize(0.05)</div>
<div class="line"><span class="lineno"> 3577</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].GetYaxis().SetLabelSize(0.05)</div>
<div class="line"><span class="lineno"> 3578</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3579</span>        fitResult = h[<span class="stringliteral">&#39;effLayer&#39;</span>].Fit(<span class="stringliteral">&#39;pol0&#39;</span>,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,0.,24.)</div>
<div class="line"><span class="lineno"> 3580</span>        rc=fitResult.Get()</div>
<div class="line"><span class="lineno"> 3581</span>        h[<span class="stringliteral">&#39;Efftxt&#39;</span>] = ROOT.TLatex(2,0.60,<span class="stringliteral">&#39;mean efficiency = %5.2F&#39;</span>%(rc.GetParams()[0]))</div>
<div class="line"><span class="lineno"> 3582</span>        h[<span class="stringliteral">&#39;Efftxt&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3583</span>        myPrint(h[<span class="stringliteral">&#39;ct&#39;</span>],<span class="stringliteral">&#39;EffLayerWithRPCTracks&#39;</span>)</div>
<div class="line"><span class="lineno"> 3584</span><span class="comment"># inefficiency per station</span></div>
<div class="line"><span class="lineno"> 3585</span>        first = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 3586</span>        h[<span class="stringliteral">&#39;leghits&#39;</span>]=ROOT.TLegend(0.51,0.41,0.84,0.59)</div>
<div class="line"><span class="lineno"> 3587</span>        h[<span class="stringliteral">&#39;c2&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 3588</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> choice:</div>
<div class="line"><span class="lineno"> 3589</span>            tag_s = choice[s][0]</div>
<div class="line"><span class="lineno"> 3590</span>            ntags = h[<span class="stringliteral">&#39;hits4_&#39;</span>+str(tag_s)].GetBinContent(6)</div>
<div class="line"><span class="lineno"> 3591</span>            xHits = h[<span class="stringliteral">&#39;hitsIn&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)]</div>
<div class="line"><span class="lineno"> 3592</span>            inEff = xHits.GetBinContent(1)+xHits.GetBinContent(2)</div>
<div class="line"><span class="lineno"> 3593</span>            xx = <span class="stringliteral">&#39;tmphitsIn&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+str(tag_s)</div>
<div class="line"><span class="lineno"> 3594</span>            h[xx]=xHits.Clone(xx)</div>
<div class="line"><span class="lineno"> 3595</span>            h[xx].Scale(1./ntags)</div>
<div class="line"><span class="lineno"> 3596</span>            h[xx].SetStats(0)</div>
<div class="line"><span class="lineno"> 3597</span>            h[xx].SetLineColor(choice[s][1])</div>
<div class="line"><span class="lineno"> 3598</span>            h[xx].SetLineWidth(2)</div>
<div class="line"><span class="lineno"> 3599</span>            h[xx].SetMarkerStyle(20)</div>
<div class="line"><span class="lineno"> 3600</span>            <span class="keywordflow">if</span> first: </div>
<div class="line"><span class="lineno"> 3601</span>                h[xx].GetXaxis().SetRangeUser(-0.5,5.5)</div>
<div class="line"><span class="lineno"> 3602</span>                h[xx].GetXaxis().SetLabelSize(0.05)</div>
<div class="line"><span class="lineno"> 3603</span>                h[xx].GetXaxis().SetTitleSize(0.04)</div>
<div class="line"><span class="lineno"> 3604</span>                h[xx].GetYaxis().SetLabelSize(0.05)</div>
<div class="line"><span class="lineno"> 3605</span>                h[xx].SetTitle(<span class="stringliteral">&#39;;number of hits;occurence per track&#39;</span>)</div>
<div class="line"><span class="lineno"> 3606</span>                h[xx].Draw()</div>
<div class="line"><span class="lineno"> 3607</span>                first = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 3608</span>            <span class="keywordflow">else</span>:  h[xx].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 3609</span>            ltext = xHits.GetName().split(<span class="stringliteral">&#39;_&#39;</span>)[0].replace(<span class="stringliteral">&#39;hitsIn&#39;</span>,<span class="stringliteral">&#39;hits in station &#39;</span>)</div>
<div class="line"><span class="lineno"> 3610</span>            rc = h[<span class="stringliteral">&#39;leghits&#39;</span>].AddEntry(h[xx],ltext,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 3611</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;station %i ineff=%5.2F%%&quot;</span>%(s,inEff/ntags*100.)</div>
<div class="line"><span class="lineno"> 3612</span>        recoEff = 0</div>
<div class="line"><span class="lineno"> 3613</span>        <span class="keywordflow">for</span> tag_s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3614</span>            ntags   = h[<span class="stringliteral">&#39;hits4_&#39;</span>+str(tag_s)].GetBinContent(6)</div>
<div class="line"><span class="lineno"> 3615</span>            ntracks = h[<span class="stringliteral">&#39;hits4_&#39;</span>+str(tag_s)].GetBinContent(7)</div>
<div class="line"><span class="lineno"> 3616</span>            recoEff += ntracks/ntags</div>
<div class="line"><span class="lineno"> 3617</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;track  eff %i ineff=%5.2F%%&quot;</span>%(tag_s,ntracks/ntags*100.)</div>
<div class="line"><span class="lineno"> 3618</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;average track  eff = %5.2F%%&quot;</span>%(recoEff/4.*100.)</div>
<div class="line"><span class="lineno"> 3619</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;upStreamOcc&#39;</span>,<span class="stringliteral">&#39;upStreamOccWithTrack&#39;</span>,<span class="stringliteral">&#39;upStreamOccWithTrack_mu&#39;</span>,<span class="stringliteral">&#39;upStreamOccWithTrack_muX&#39;</span>,<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2&#39;</span>,<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3620</span>            <span class="comment"># only take average of tags in upstream station</span></div>
<div class="line"><span class="lineno"> 3621</span>            h[x] = h[x+str(1)].Clone(x)</div>
<div class="line"><span class="lineno"> 3622</span>            h[x].Add(h[x+str(2)])</div>
<div class="line"><span class="lineno"> 3623</span>            h[x].Scale(1./2.)</div>
<div class="line"><span class="lineno"> 3624</span>        Ntag   = h[<span class="stringliteral">&#39;upStreamOcc&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3625</span>        Ntrack = h[<span class="stringliteral">&#39;upStreamOccWithTrack&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3626</span>        Nmu    = h[<span class="stringliteral">&#39;upStreamOccWithTrack_mu&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3627</span>        NmuX   = h[<span class="stringliteral">&#39;upStreamOccWithTrack_muX&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3628</span>        NChi2  = h[<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3629</span>        NChi2mu = h[<span class="stringliteral">&#39;upStreamOccWithTrack_Chi2mu&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3630</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;====== Ntags=&quot;</span>,Ntag</div>
<div class="line"><span class="lineno"> 3631</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;average track  eff            = %5.2F%%&quot;</span>%( (Ntrack*100.)/Ntag)</div>
<div class="line"><span class="lineno"> 3632</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;average track mu eff          = %5.2F%%&quot;</span>%( (Nmu*100.)/Ntag)</div>
<div class="line"><span class="lineno"> 3633</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;average track Chi2 eff        = %5.2F%%&quot;</span>%( (NChi2*100.)/Ntag)</div>
<div class="line"><span class="lineno"> 3634</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;average track Chi2 mu eff     = %5.2F%%&quot;</span>%( (NChi2mu*100.)/Ntag)</div>
<div class="line"><span class="lineno"> 3635</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;average chi2 eff on top of    = %5.2F%%&quot;</span>%( (NChi2*100.)/Ntrack)</div>
<div class="line"><span class="lineno"> 3636</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;average chi2 eff on top of mu = %5.2F%%&quot;</span>%( (NChi2mu*100.)/Nmu)</div>
<div class="line"><span class="lineno"> 3637</span>        h[<span class="stringliteral">&#39;leghits&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3638</span>        myPrint(h[<span class="stringliteral">&#39;c2&#39;</span>],<span class="stringliteral">&#39;DTeffHitsPerStation&#39;</span>)</div>
<div class="line"><span class="lineno"> 3639</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab30db9c4bb4ddc89186d07fdab420321" name="ab30db9c4bb4ddc89186d07fdab420321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab30db9c4bb4ddc89186d07fdab420321">&#9670;&#160;</a></span>DTreconstructible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.DTreconstructible </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05038">5038</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5038</span><span class="keyword">def </span>DTreconstructible():</div>
<div class="line"><span class="lineno"> 5039</span>    trackList={}</div>
<div class="line"><span class="lineno"> 5040</span>    pTrue    ={}</div>
<div class="line"><span class="lineno"> 5041</span>    minZ = 9999</div>
<div class="line"><span class="lineno"> 5042</span>    <span class="keywordflow">for</span> point <span class="keywordflow">in</span> sTree.MufluxSpectrometerPoint:</div>
<div class="line"><span class="lineno"> 5043</span>        trackID = point.GetTrackID()</div>
<div class="line"><span class="lineno"> 5044</span>        <span class="keywordflow">if</span> trackID&lt;0 :<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5045</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> trackList.has_key(trackID):</div>
<div class="line"><span class="lineno"> 5046</span>            trackList[trackID]= {1:0,2:0,3:0,4:0,5:0,6:0}</div>
<div class="line"><span class="lineno"> 5047</span>        detID = point.GetDetectorID()</div>
<div class="line"><span class="lineno"> 5048</span>        hit = ROOT.MufluxSpectrometerHit(detID,0)</div>
<div class="line"><span class="lineno"> 5049</span>        info = hit.StationInfo()</div>
<div class="line"><span class="lineno"> 5050</span>        s=info[0]</div>
<div class="line"><span class="lineno"> 5051</span>        <span class="keywordflow">if</span> info[4]&gt;0: s=4+info[4]</div>
<div class="line"><span class="lineno"> 5052</span>        trackList[trackID][s]+=1</div>
<div class="line"><span class="lineno"> 5053</span>        <span class="keywordflow">if</span> point.GetZ()&lt;minZ:</div>
<div class="line"><span class="lineno"> 5054</span>            minZ = point.GetZ()</div>
<div class="line"><span class="lineno"> 5055</span>            pTrue[trackID]=ROOT.TVector3(point.GetPx(),point.GetPy(),point.GetPz())</div>
<div class="line"><span class="lineno"> 5056</span>    <span class="keywordflow">return</span> trackList,pTrue</div>
<div class="line"><span class="lineno"> 5057</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a383180a7f419296951cd55c71a2a10af" name="a383180a7f419296951cd55c71a2a10af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a383180a7f419296951cd55c71a2a10af">&#9670;&#160;</a></span>efficiencyEstimates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.efficiencyEstimates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>MCdata</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03684">3684</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3684</span><span class="keyword">def </span>efficiencyEstimates(method=2,MCdata=False):</div>
<div class="line"><span class="lineno"> 3685</span>    <span class="keywordflow">if</span> h[<span class="stringliteral">&#39;biasResDist&#39;</span>].GetEntries()==0:</div>
<div class="line"><span class="lineno"> 3686</span>        h.clear()</div>
<div class="line"><span class="lineno"> 3687</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> MCdata: ut.readHists(h,<span class="stringliteral">&#39;residuals.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 3688</span>        <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 3689</span>            ut.readHists(h,<span class="stringliteral">&#39;residuals-mbias.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 3690</span>            ut.readHists(h,<span class="stringliteral">&#39;residuals-charm.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 3691</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;don&#39;t forget to set MCdata = True for MC&quot;</span></div>
<div class="line"><span class="lineno"> 3692</span>    hinweis={}</div>
<div class="line"><span class="lineno"> 3693</span>    hinweis[0] = <span class="stringliteral">&quot;method 0: use biasResDistX, count entries between -0.5 and 0.5&quot;</span></div>
<div class="line"><span class="lineno"> 3694</span>    hinweis[1] = <span class="stringliteral">&quot;method 1: use biasResDistX, but take signal from single gauss fit&quot;</span></div>
<div class="line"><span class="lineno"> 3695</span>    hinweis[2] = <span class="stringliteral">&quot;method 2: use biasRes, subtract background from fit on number of entries&quot;</span></div>
<div class="line"><span class="lineno"> 3696</span>    hinweis[3] = <span class="stringliteral">&quot;method 3: use biasRes, take signal from double gauss fit&quot;</span></div>
<div class="line"><span class="lineno"> 3697</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;biasedResiduals&#39;</span>): plotBiasedResiduals(onlyPlotting=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 3698</span>    Ntracks = h[<span class="stringliteral">&#39;biasResTrackMom&#39;</span>].GetEntries()</div>
<div class="line"><span class="lineno"> 3699</span>    ut.bookHist(h,<span class="stringliteral">&#39;effLayer&#39;</span>,<span class="stringliteral">&#39;efficiency per Layer;continuous layer number&#39;</span>,24,-0.5,23.5)</div>
<div class="line"><span class="lineno"> 3700</span>    ut.bookHist(h,<span class="stringliteral">&#39;effLayerBinary&#39;</span>,<span class="stringliteral">&#39;efficiency per Layer;continuous layer number&#39;</span>,24,-0.5,23.5)</div>
<div class="line"><span class="lineno"> 3701</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;biasResDistX_1_x1&#39;</span>):</div>
<div class="line"><span class="lineno"> 3702</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3703</span>            <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>,<span class="stringliteral">&#39;_u&#39;</span>,<span class="stringliteral">&#39;_v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3704</span>                <span class="keywordflow">if</span> s&gt;2 <span class="keywordflow">and</span> view != <span class="stringliteral">&#39;_x&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3705</span>                <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_v&#39;</span> <span class="keywordflow">or</span> s==2 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_u&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3706</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(0,4):</div>
<div class="line"><span class="lineno"> 3707</span>                    hname = <span class="stringliteral">&#39;biasResDistX_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3708</span>                    h[hname] = h[<span class="stringliteral">&#39;biasResDist_&#39;</span>+str(s)+view+str(l)].ProjectionY().Clone(hname)</div>
<div class="line"><span class="lineno"> 3709</span>    j = 0</div>
<div class="line"><span class="lineno"> 3710</span>    h[<span class="stringliteral">&#39;effDict&#39;</span>] = {}</div>
<div class="line"><span class="lineno"> 3711</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;efficiencies using &quot;</span>,hinweis[method]</div>
<div class="line"><span class="lineno"> 3712</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3713</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>,<span class="stringliteral">&#39;_u&#39;</span>,<span class="stringliteral">&#39;_v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3714</span>            <span class="keywordflow">if</span> s&gt;2 <span class="keywordflow">and</span> view != <span class="stringliteral">&#39;_x&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3715</span>            <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_v&#39;</span> <span class="keywordflow">or</span> s==2 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_u&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3716</span>            effStation = 0</div>
<div class="line"><span class="lineno"> 3717</span>            effStationBinary = 0</div>
<div class="line"><span class="lineno"> 3718</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(0,4):</div>
<div class="line"><span class="lineno"> 3719</span>                tc = h[<span class="stringliteral">&#39;biasedResiduals&#39;</span>].cd(j+1)</div>
<div class="line"><span class="lineno"> 3720</span>                <span class="keywordflow">if</span> method == 0 <span class="keywordflow">or</span> method == 1: hname = <span class="stringliteral">&#39;biasResDistX_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3721</span>                <span class="keywordflow">else</span>:                          hname = <span class="stringliteral">&#39;biasResXL_&#39;</span>+str(s)+view+str(l)+<span class="stringliteral">&#39;_projx&#39;</span></div>
<div class="line"><span class="lineno"> 3722</span>                xmin = -3.5</div>
<div class="line"><span class="lineno"> 3723</span>                xmax =  3.5</div>
<div class="line"><span class="lineno"> 3724</span>                <span class="keywordflow">if</span> method==0 <span class="keywordflow">or</span> method==1: </div>
<div class="line"><span class="lineno"> 3725</span>                    xmin = -0.7</div>
<div class="line"><span class="lineno"> 3726</span>                    xmax =  0.7</div>
<div class="line"><span class="lineno"> 3727</span>                fitResult = h[hname].Fit(<span class="stringliteral">&#39;gaus&#39;</span>,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,xmin,xmax)</div>
<div class="line"><span class="lineno"> 3728</span>                rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 3729</span>                fitFunction = h[hname].GetFunction(<span class="stringliteral">&#39;DoubleGauss&#39;</span>)</div>
<div class="line"><span class="lineno"> 3730</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitFunction : fitFunction = myGauss2</div>
<div class="line"><span class="lineno"> 3731</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 3732</span>                    <span class="keywordflow">print</span> <span class="stringliteral">&quot;simple gaus fit failed&quot;</span></div>
<div class="line"><span class="lineno"> 3733</span>                    fitFunction.SetParameter(0,h[hname].GetEntries()*h[hname].GetBinWidth(1))</div>
<div class="line"><span class="lineno"> 3734</span>                    fitFunction.SetParameter(1,0.)</div>
<div class="line"><span class="lineno"> 3735</span>                    fitFunction.SetParameter(2,0.1)</div>
<div class="line"><span class="lineno"> 3736</span>                    fitFunction.SetParameter(3,1.)</div>
<div class="line"><span class="lineno"> 3737</span>                    fitFunction.SetParameter(4,0.)</div>
<div class="line"><span class="lineno"> 3738</span>                    fitFunction.SetParameter(5,1.)</div>
<div class="line"><span class="lineno"> 3739</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 3740</span>                    fitFunction.SetParameter(0,rc.GetParams()[0]*ROOT.TMath.Sqrt(2*ROOT.TMath.Pi())*rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 3741</span>                    fitFunction.SetParameter(1,rc.GetParams()[1])</div>
<div class="line"><span class="lineno"> 3742</span>                    fitFunction.SetParameter(2,rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 3743</span>                    fitFunction.SetParameter(3,0.)</div>
<div class="line"><span class="lineno"> 3744</span>                    fitFunction.SetParameter(4,fitFunction.GetParameter(0)*0.1)</div>
<div class="line"><span class="lineno"> 3745</span>                    fitFunction.SetParameter(5,fitFunction.GetParameter(2)*10.)</div>
<div class="line"><span class="lineno"> 3746</span>                <span class="keywordflow">if</span> method == 2 :</div>
<div class="line"><span class="lineno"> 3747</span>                    fitFunction.FixParameter(4,0.)</div>
<div class="line"><span class="lineno"> 3748</span>                    fitFunction.FixParameter(5,1.)</div>
<div class="line"><span class="lineno"> 3749</span>                fitResult = h[hname].Fit(fitFunction,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,xmin,xmax)</div>
<div class="line"><span class="lineno"> 3750</span>                h[hname].Draw()</div>
<div class="line"><span class="lineno"> 3751</span>                rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 3752</span>                <span class="keywordflow">if</span> method == 0: estSignal = h[hname].Integral(375,625)</div>
<div class="line"><span class="lineno"> 3753</span>                <span class="keywordflow">elif</span> method == 1 <span class="keywordflow">or</span> method == 3: estSignal = ( abs(rc.GetParams()[0])+abs(rc.GetParams()[4]))/h[hname].GetBinWidth(1)</div>
<div class="line"><span class="lineno"> 3754</span>                <span class="keywordflow">elif</span> method == 2:</div>
<div class="line"><span class="lineno"> 3755</span>                    imin,imax =  h[hname].FindBin(xmin),h[hname].FindBin(xmax)</div>
<div class="line"><span class="lineno"> 3756</span>                    estSignal = h[hname].Integral(imin,imax) - abs(rc.GetParams()[3]) * (imax-imin+1)</div>
<div class="line"><span class="lineno"> 3757</span>                    bckInterval      = float(h[hname].GetNbinsX() - (h[hname].FindBin(4.) - h[hname].FindBin(-4.)) )</div>
<div class="line"><span class="lineno"> 3758</span>                    backgroundBinary = h[hname].Integral(1,h[hname].FindBin(-4.)) + h[hname].Integral(h[hname].FindBin(4.),h[hname].GetNbinsX())</div>
<div class="line"><span class="lineno"> 3759</span>                    estSignalBinary = h[hname].GetSumOfWeights() - backgroundBinary/bckInterval*h[hname].GetNbinsX()</div>
<div class="line"><span class="lineno"> 3760</span>                    effBinary = estSignalBinary/float(2*Ntracks)</div>
<div class="line"><span class="lineno"> 3761</span>                    effBinaryError = ROOT.TMath.Sqrt(2*Ntracks-estSignalBinary)/float(2*Ntracks)</div>
<div class="line"><span class="lineno"> 3762</span>                    effStationBinary += effBinary</div>
<div class="line"><span class="lineno"> 3763</span>                    rc = h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].SetBinContent(j,effBinary)</div>
<div class="line"><span class="lineno"> 3764</span>                    rc = h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].SetBinError(j,effBinaryError)</div>
<div class="line"><span class="lineno"> 3765</span>                eff = estSignal/float(Ntracks)</div>
<div class="line"><span class="lineno"> 3766</span>                effError = ROOT.TMath.Sqrt(Ntracks-estSignal)/float(Ntracks)</div>
<div class="line"><span class="lineno"> 3767</span>                <span class="keywordflow">if</span> method==2: </div>
<div class="line"><span class="lineno"> 3768</span>                    <span class="keywordflow">print</span> <span class="stringliteral">&quot;eff for %s = %5.2F binary %5.2F&quot;</span>%(hname,eff,effBinary)</div>
<div class="line"><span class="lineno"> 3769</span>                <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 3770</span>                    <span class="keywordflow">print</span> <span class="stringliteral">&quot;eff for %s = %5.2F&quot;</span>%(hname,eff)</div>
<div class="line"><span class="lineno"> 3771</span>                h[<span class="stringliteral">&#39;effDict&#39;</span>][hname]=eff</div>
<div class="line"><span class="lineno"> 3772</span>                effStation += eff</div>
<div class="line"><span class="lineno"> 3773</span>                rc = h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetBinContent(j,eff)</div>
<div class="line"><span class="lineno"> 3774</span>                rc = h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetBinError(j,effError)</div>
<div class="line"><span class="lineno"> 3775</span>                j+=1</div>
<div class="line"><span class="lineno"> 3776</span>        <span class="keywordflow">if</span> method==2: </div>
<div class="line"><span class="lineno"> 3777</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;station, %i %s, average efficiency: %5.3F binary %5.2F&quot;</span>%(s,view,effStation/4.,effStationBinary/4.)</div>
<div class="line"><span class="lineno"> 3778</span>        <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 3779</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;station, %i %s, average efficiency: %5.3F&quot;</span>%(s,view,effStation/4.)</div>
<div class="line"><span class="lineno"> 3780</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;biasedResiduals&#39;</span>].GetListOfPrimitives():   p.SetLogy(1)</div>
<div class="line"><span class="lineno"> 3781</span>    tc1 = ROOT.gROOT.FindObject(<span class="stringliteral">&#39;c1&#39;</span>)</div>
<div class="line"><span class="lineno"> 3782</span>    tc1.SetWindowSize(1200,800)</div>
<div class="line"><span class="lineno"> 3783</span>    tc1.cd()</div>
<div class="line"><span class="lineno"> 3784</span>    h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetMaximum(1.)</div>
<div class="line"><span class="lineno"> 3785</span>    h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetMinimum(0.)</div>
<div class="line"><span class="lineno"> 3786</span>    h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 3787</span>    h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetMarkerStyle(21)</div>
<div class="line"><span class="lineno"> 3788</span>    h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetMarkerColor(h[<span class="stringliteral">&#39;effLayer&#39;</span>].GetLineColor())</div>
<div class="line"><span class="lineno"> 3789</span>    h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 3790</span>    fitResult = h[<span class="stringliteral">&#39;effLayer&#39;</span>].Fit(<span class="stringliteral">&#39;pol0&#39;</span>,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,0.,22.)</div>
<div class="line"><span class="lineno"> 3791</span>    rc=fitResult.Get()</div>
<div class="line"><span class="lineno"> 3792</span>    h[<span class="stringliteral">&#39;Efftxt&#39;</span>] = ROOT.TLatex(2,0.60,<span class="stringliteral">&#39;mean efficiency = %5.2F&#39;</span>%(rc.GetParams()[0]))</div>
<div class="line"><span class="lineno"> 3793</span>    h[<span class="stringliteral">&#39;Efftxt&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3794</span>    txt = <span class="stringliteral">&#39;effEstimate-method&#39;</span>+str(method)</div>
<div class="line"><span class="lineno"> 3795</span>    <span class="keywordflow">if</span> MCdata: txt = <span class="stringliteral">&#39;MC&#39;</span>+txt</div>
<div class="line"><span class="lineno"> 3796</span>    <span class="keywordflow">if</span> method==2:</div>
<div class="line"><span class="lineno"> 3797</span>        fitResult = h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].Fit(<span class="stringliteral">&#39;pol0&#39;</span>,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,0.,22.)</div>
<div class="line"><span class="lineno"> 3798</span>        rc=fitResult.Get()</div>
<div class="line"><span class="lineno"> 3799</span>        h[<span class="stringliteral">&#39;EfftxtBinary&#39;</span>] = ROOT.TLatex(2,0.56,<span class="stringliteral">&#39;mean efficiency (binary) = %5.2F&#39;</span>%(rc.GetParams()[0]))</div>
<div class="line"><span class="lineno"> 3800</span>        h[<span class="stringliteral">&#39;EfftxtBinary&#39;</span>].SetTextColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 3801</span>        h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].SetLineColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 3802</span>        h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].SetMarkerStyle(8)</div>
<div class="line"><span class="lineno"> 3803</span>        h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].SetMarkerColor(h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].GetLineColor())</div>
<div class="line"><span class="lineno"> 3804</span>        h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].GetFunction(<span class="stringliteral">&#39;pol0&#39;</span>).SetLineColor(h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].GetLineColor())</div>
<div class="line"><span class="lineno"> 3805</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].GetFunction(<span class="stringliteral">&#39;pol0&#39;</span>).SetLineColor(h[<span class="stringliteral">&#39;effLayer&#39;</span>].GetLineColor())</div>
<div class="line"><span class="lineno"> 3806</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].GetXaxis().SetLabelSize(0.04)</div>
<div class="line"><span class="lineno"> 3807</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].GetXaxis().SetTitleSize(0.04)</div>
<div class="line"><span class="lineno"> 3808</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].GetYaxis().SetLabelSize(0.04)</div>
<div class="line"><span class="lineno"> 3809</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3810</span>        h[<span class="stringliteral">&#39;effLayer&#39;</span>].SetMinimum(0.5)</div>
<div class="line"><span class="lineno"> 3811</span>        h[<span class="stringliteral">&#39;effLayerBinary&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 3812</span>        h[<span class="stringliteral">&#39;EfftxtBinary&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3813</span>        h[<span class="stringliteral">&#39;Efftxt&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3814</span>    myPrint(tc1,txt+<span class="stringliteral">&#39;-summary&#39;</span>)</div>
<div class="line"><span class="lineno"> 3815</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac545294135b71f1452e0033147a5391d" name="ac545294135b71f1452e0033147a5391d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac545294135b71f1452e0033147a5391d">&#9670;&#160;</a></span>energyLossRPC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.energyLossRPC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07140">7140</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7140</span><span class="keyword">def </span>energyLossRPC():</div>
<div class="line"><span class="lineno"> 7141</span>    ut.bookHist(h,<span class="stringliteral">&#39;eloss12&#39;</span>,<span class="stringliteral">&#39;energy loss between stations 1 and 2;dE [GeV]&#39;</span>,100,0.,5.)</div>
<div class="line"><span class="lineno"> 7142</span>    ut.bookHist(h,<span class="stringliteral">&#39;eloss345&#39;</span>,<span class="stringliteral">&#39;energy loss between stations 3,4 and 5;dE [GeV]&#39;</span>,100,0.,5.)</div>
<div class="line"><span class="lineno"> 7143</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 7144</span>      rc=sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 7145</span>      E={}</div>
<div class="line"><span class="lineno"> 7146</span>      <span class="keywordflow">for</span> p <span class="keywordflow">in</span> sTree.MuonTaggerPoint:</div>
<div class="line"><span class="lineno"> 7147</span>        <span class="keywordflow">if</span> abs(p.PdgCode())!=13: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7148</span>        tid = p.GetTrackID()</div>
<div class="line"><span class="lineno"> 7149</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> E.has_key(tid): E[tid]={}</div>
<div class="line"><span class="lineno"> 7150</span>        s=p.GetDetectorID()//10000</div>
<div class="line"><span class="lineno"> 7151</span>        mom=ROOT.TVector3(p.GetPx(),p.GetPy(),p.GetPz())</div>
<div class="line"><span class="lineno"> 7152</span>        E[tid][s]=mom.Mag()</div>
<div class="line"><span class="lineno"> 7153</span>      <span class="keywordflow">for</span> t <span class="keywordflow">in</span> E:</div>
<div class="line"><span class="lineno"> 7154</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 7155</span>         <span class="keywordflow">if</span> E[t].has_key(s):</div>
<div class="line"><span class="lineno"> 7156</span>          <span class="keywordflow">if</span> E[t].has_key(s+1):</div>
<div class="line"><span class="lineno"> 7157</span>           <span class="keywordflow">if</span> s==1: rc = h[<span class="stringliteral">&#39;eloss12&#39;</span>].Fill(E[t][s]-E[t][s+1])</div>
<div class="line"><span class="lineno"> 7158</span>           <span class="keywordflow">else</span>: rc = h[<span class="stringliteral">&#39;eloss345&#39;</span>].Fill(E[t][s]-E[t][s+1])</div>
<div class="line"><span class="lineno"> 7159</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;cx&#39;</span>,<span class="stringliteral">&#39; &#39;</span>,1200,600,1,1)</div>
<div class="line"><span class="lineno"> 7160</span>    h[<span class="stringliteral">&#39;cx&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 7161</span>    h[<span class="stringliteral">&#39;eloss345&#39;</span>].SetLineColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 7162</span>    h[<span class="stringliteral">&#39;eloss12&#39;</span>].SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 7163</span>    h[<span class="stringliteral">&#39;eloss12&#39;</span>].SetTitle(<span class="stringliteral">&#39;;dE [GeV]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7164</span>    h[<span class="stringliteral">&#39;eloss12&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 7165</span>    h[<span class="stringliteral">&#39;eloss345scaled&#39;</span>]=h[<span class="stringliteral">&#39;eloss345&#39;</span>].Clone(<span class="stringliteral">&#39;eloss345scaled&#39;</span>)</div>
<div class="line"><span class="lineno"> 7166</span>    h[<span class="stringliteral">&#39;eloss345scaled&#39;</span>].Scale(1./3.)</div>
<div class="line"><span class="lineno"> 7167</span>    h[<span class="stringliteral">&#39;eloss345scaled&#39;</span>].SetTitle(<span class="stringliteral">&#39;;dE [GeV]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7168</span>    h[<span class="stringliteral">&#39;eloss345scaled&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 7169</span>    h[<span class="stringliteral">&#39;eloss345scaled&#39;</span>].Draw(<span class="stringliteral">&#39;hist&#39;</span>)</div>
<div class="line"><span class="lineno"> 7170</span>    h[<span class="stringliteral">&#39;eloss12&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 7171</span>    myPrint(h[<span class="stringliteral">&#39;cx&#39;</span>],<span class="stringliteral">&#39;energyLossBetweenRPCs&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="af9d36e2a01d95e4c8d37301c14791033" name="af9d36e2a01d95e4c8d37301c14791033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9d36e2a01d95e4c8d37301c14791033">&#9670;&#160;</a></span>extractMinAndMax()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.extractMinAndMax </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01395">1395</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1395</span><span class="keyword">def </span>extractMinAndMax():</div>
<div class="line"><span class="lineno"> 1396</span>    h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]={}</div>
<div class="line"><span class="lineno"> 1397</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;TDCMapsX&#39;</span>].GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 1398</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> p.GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 1399</span>            <span class="keywordflow">if</span> x.InheritsFrom(<span class="stringliteral">&#39;TH1&#39;</span>):</div>
<div class="line"><span class="lineno"> 1400</span>                p.cd()</div>
<div class="line"><span class="lineno"> 1401</span>                p.Update()</div>
<div class="line"><span class="lineno"> 1402</span>                tmin = 1000.</div>
<div class="line"><span class="lineno"> 1403</span>                tmax = -1.</div>
<div class="line"><span class="lineno"> 1404</span>                <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,x.GetNbinsX()-2):</div>
<div class="line"><span class="lineno"> 1405</span>                    <span class="keywordflow">if</span> x.GetBinContent(n)&gt;2 <span class="keywordflow">and</span> x.GetBinContent(n+1)&gt;x.GetBinContent(n)+2 <span class="keywordflow">and</span> x.GetBinContent(n+10)&gt;x.GetBinContent(n):</div>
<div class="line"><span class="lineno"> 1406</span>                        tmin = x.GetBinCenter(n)</div>
<div class="line"><span class="lineno"> 1407</span>                        <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1408</span>                tmp = x.Clone(<span class="stringliteral">&#39;tmp&#39;</span>)</div>
<div class="line"><span class="lineno"> 1409</span>                tmp.Rebin(10)</div>
<div class="line"><span class="lineno"> 1410</span>                runningMean = 0</div>
<div class="line"><span class="lineno"> 1411</span>                mean = tmp.GetBinContent(tmp.FindBin(tmp.GetMean()))</div>
<div class="line"><span class="lineno"> 1412</span>                <span class="keywordflow">for</span> m <span class="keywordflow">in</span> range(tmp.GetNbinsX()-1,0,-1):</div>
<div class="line"><span class="lineno"> 1413</span>                    runningMean=max(tmp.Integral(m,tmp.GetNbinsX()) / float(tmp.GetNbinsX()-m),2)</div>
<div class="line"><span class="lineno"> 1414</span>                    <span class="keywordflow">if</span> tmp.GetBinContent(m)&gt;mean/5.:</div>
<div class="line"><span class="lineno"> 1415</span>                        tmax = tmp.GetBinCenter(m)</div>
<div class="line"><span class="lineno"> 1416</span>                        <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1417</span>                h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>][x.GetName()]=[tmin,tmax]</div>
<div class="line"><span class="lineno"> 1418</span>                h[x.GetName()+<span class="stringliteral">&#39;tMin&#39;</span>] =  ROOT.TArrow(tmin,-5.,tmin,0.8,0.05,<span class="stringliteral">&quot;&gt;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1419</span>                h[x.GetName()+<span class="stringliteral">&#39;tMax&#39;</span>] =  ROOT.TArrow(tmax,-5.,tmax,0.8,0.05,<span class="stringliteral">&quot;&gt;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1420</span>                h[x.GetName()+<span class="stringliteral">&#39;tMin&#39;</span>].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 1421</span>                h[x.GetName()+<span class="stringliteral">&#39;tMax&#39;</span>].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 1422</span>                h[x.GetName()+<span class="stringliteral">&#39;tMin&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1423</span>                h[x.GetName()+<span class="stringliteral">&#39;tMax&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1424</span>                p.Update()</div>
<div class="line"><span class="lineno"> 1425</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d55a5e5cad4589fca47fa57a116e995" name="a5d55a5e5cad4589fca47fa57a116e995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d55a5e5cad4589fca47fa57a116e995">&#9670;&#160;</a></span>extractRTPanda()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.extractRTPanda </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hname</em> = <code>'TDC1000_x'</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01426">1426</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1426</span><span class="keyword">def </span>extractRTPanda(hname= &#39;TDC1000_x&#39;):</div>
<div class="line"><span class="lineno"> 1427</span>    R = ShipGeo.MufluxSpectrometer.InnerTubeDiameter/2. <span class="comment">#  = 3.63*u.cm </span></div>
<div class="line"><span class="lineno"> 1428</span>    h[<span class="stringliteral">&#39;rt&#39;</span>+hname] = ROOT.TGraph()</div>
<div class="line"><span class="lineno"> 1429</span>    h[<span class="stringliteral">&#39;rt&#39;</span>+hname].SetName(<span class="stringliteral">&#39;rt&#39;</span>+hname)</div>
<div class="line"><span class="lineno"> 1430</span>    n0 = h[hname].FindBin(h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>][hname][0])</div>
<div class="line"><span class="lineno"> 1431</span>    n1 = h[hname].FindBin(h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>][hname][1])</div>
<div class="line"><span class="lineno"> 1432</span>    Ntot = 0</div>
<div class="line"><span class="lineno"> 1433</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(n0,n1):</div>
<div class="line"><span class="lineno"> 1434</span>        Ntot += h[hname].GetBinContent(n)</div>
<div class="line"><span class="lineno"> 1435</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(n0,n1):</div>
<div class="line"><span class="lineno"> 1436</span>        N = 0</div>
<div class="line"><span class="lineno"> 1437</span>        <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(n0,n):</div>
<div class="line"><span class="lineno"> 1438</span>            N+=h[hname].GetBinContent(k)</div>
<div class="line"><span class="lineno"> 1439</span>        h[<span class="stringliteral">&#39;rt&#39;</span>+hname].SetPoint(n-n0,h[hname].GetBinCenter(n), N/float(Ntot+1E-20)*R)</div>
<div class="line"><span class="lineno"> 1440</span>    h[<span class="stringliteral">&#39;rt&#39;</span>+hname].SetTitle(<span class="stringliteral">&#39;rt&#39;</span>+hname)</div>
<div class="line"><span class="lineno"> 1441</span>    h[<span class="stringliteral">&#39;rt&#39;</span>+hname].SetLineWidth(2)</div>
<div class="line"><span class="lineno"> 1442</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> hname.find(<span class="stringliteral">&#39;TDC1&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;rt&#39;</span>+hname].SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 1443</span>    <span class="keywordflow">elif</span> <span class="keywordflow">not</span> hname.find(<span class="stringliteral">&#39;TDC2&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;rt&#39;</span>+hname].SetLineColor(ROOT.kCyan)</div>
<div class="line"><span class="lineno"> 1444</span>    <span class="keywordflow">elif</span> <span class="keywordflow">not</span> hname.find(<span class="stringliteral">&#39;TDC3&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;rt&#39;</span>+hname].SetLineColor(ROOT.kGreen)</div>
<div class="line"><span class="lineno"> 1445</span>    <span class="keywordflow">elif</span> <span class="keywordflow">not</span> hname.find(<span class="stringliteral">&#39;TDC4&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;rt&#39;</span>+hname].SetLineColor(ROOT.kGreen+2)</div>
<div class="line"><span class="lineno"> 1446</span>    h[<span class="stringliteral">&#39;RTrelations&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 1447</span>    h[<span class="stringliteral">&#39;legRT&#39;</span>].AddEntry(h[<span class="stringliteral">&#39;rt&#39;</span>+hname],h[<span class="stringliteral">&#39;rt&#39;</span>+hname].GetTitle(),<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 1448</span>    h[<span class="stringliteral">&#39;rt&#39;</span>+hname].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 1449</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d9af486ed850be81e385ec73ead8293" name="a8d9af486ed850be81e385ec73ead8293"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d9af486ed850be81e385ec73ead8293">&#9670;&#160;</a></span>extrapolateToPlane()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.extrapolateToPlane </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cplusplus</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01678">1678</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1678</span><span class="keyword">def </span>extrapolateToPlane(fT,z,cplusplus=True):</div>
<div class="line"><span class="lineno"> 1679</span>    rc,pos,mom = <span class="keyword">False</span>,<span class="keywordtype">None</span>,<span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1680</span>    fst = fT.getFitStatus()</div>
<div class="line"><span class="lineno"> 1681</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> fst.isFitConverged(): <span class="keywordflow">return</span> rc,pos,mom</div>
<div class="line"><span class="lineno"> 1682</span><span class="comment"># try C++</span></div>
<div class="line"><span class="lineno"> 1683</span>    <span class="keywordflow">if</span> cplusplus:</div>
<div class="line"><span class="lineno"> 1684</span>        pos = ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 1685</span>        mom = ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 1686</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1687</span>            trackLength = muflux_Reco.extrapolateToPlane(fT,z,pos,mom)</div>
<div class="line"><span class="lineno"> 1688</span>            rc = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1689</span>        <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno"> 1690</span>            rc = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1691</span><span class="comment"># etrapolate to a plane perpendicular to beam direction (z)</span></div>
<div class="line"><span class="lineno"> 1692</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1693</span>        <span class="keywordflow">if</span> z &gt; DT[<span class="stringliteral">&#39;Station_1_x_plane_0_layer_0_10000000&#39;</span>][2]-10 <span class="keywordflow">and</span> z &lt; DT[<span class="stringliteral">&#39;Station_4_x_plane_1_layer_1_40110000&#39;</span>][2] + 10:</div>
<div class="line"><span class="lineno"> 1694</span><span class="comment"># find closest measurement</span></div>
<div class="line"><span class="lineno"> 1695</span>            mClose = 0</div>
<div class="line"><span class="lineno"> 1696</span>            mZmin = 999999.</div>
<div class="line"><span class="lineno"> 1697</span>            M = min(fT.getNumPointsWithMeasurement(),30) <span class="comment"># for unknown reason, get stuck for track with large measurements</span></div>
<div class="line"><span class="lineno"> 1698</span>            <span class="keywordflow">for</span> m <span class="keywordflow">in</span> range(0,M):</div>
<div class="line"><span class="lineno"> 1699</span>            <span class="comment"># print &quot;extr to state m&quot;,m,fT.getNumPointsWithMeasurement()</span></div>
<div class="line"><span class="lineno"> 1700</span>            <span class="comment"># if not fT.getPointWithMeasurementAndFitterInfo(m,rep): continue</span></div>
<div class="line"><span class="lineno"> 1701</span>                <span class="keywordflow">try</span>:     st = fT.getFittedState(m)</div>
<div class="line"><span class="lineno"> 1702</span>                <span class="keywordflow">except</span>:  </div>
<div class="line"><span class="lineno"> 1703</span>                    <span class="keywordflow">print</span> <span class="stringliteral">&quot;cannot get fitted state&quot;</span></div>
<div class="line"><span class="lineno"> 1704</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1705</span>                Pos = st.getPos()</div>
<div class="line"><span class="lineno"> 1706</span>                <span class="keywordflow">if</span> abs(z-Pos.z())&lt;mZmin:</div>
<div class="line"><span class="lineno"> 1707</span>                    mZmin = abs(z-Pos.z())</div>
<div class="line"><span class="lineno"> 1708</span>                    mClose = m</div>
<div class="line"><span class="lineno"> 1709</span>            fstate =  fT.getFittedState(mClose)</div>
<div class="line"><span class="lineno"> 1710</span>            NewPosition = ROOT.TVector3(0., 0., z)</div>
<div class="line"><span class="lineno"> 1711</span>            pdgcode = -int(13*fstate.getCharge())</div>
<div class="line"><span class="lineno"> 1712</span>            rep    = ROOT.genfit.RKTrackRep( pdgcode ) </div>
<div class="line"><span class="lineno"> 1713</span>            state  = ROOT.genfit.StateOnPlane(rep) </div>
<div class="line"><span class="lineno"> 1714</span>            pos,mom = fstate.getPos(),fstate.getMom()</div>
<div class="line"><span class="lineno"> 1715</span>            rep.setPosMom(state,pos,mom)</div>
<div class="line"><span class="lineno"> 1716</span>            <span class="keywordflow">try</span>:    </div>
<div class="line"><span class="lineno"> 1717</span>                rep.extrapolateToPlane(state, NewPosition, parallelToZ )</div>
<div class="line"><span class="lineno"> 1718</span>                pos,mom = state.getPos(),state.getMom()</div>
<div class="line"><span class="lineno"> 1719</span>                rc = <span class="keyword">True</span> </div>
<div class="line"><span class="lineno"> 1720</span>            <span class="keywordflow">except</span>: </div>
<div class="line"><span class="lineno"> 1721</span>                <span class="keywordflow">print</span> <span class="stringliteral">&#39;error with extrapolation: z=&#39;</span>,z/u.m,<span class="stringliteral">&#39;m&#39;</span>,pos.X(),pos.Y(),pos.Z(),mom.X(),mom.Y(),mom.Z()</div>
<div class="line"><span class="lineno"> 1722</span>                error =  <span class="stringliteral">&quot;extrapolateToPlane: error with extrapolation: z=%7.3F m %7.3F %7.3F %7.3F %7.3F %7.3F %7.3F &quot;</span>%(z/u.m,pos.X(),pos.Y(),pos.Z(),mom.X(),mom.Y(),mom.Z())</div>
<div class="line"><span class="lineno"> 1723</span>                ut.reportError(error)</div>
<div class="line"><span class="lineno"> 1724</span>                <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> error</div>
<div class="line"><span class="lineno"> 1725</span>                rc = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1726</span>                <span class="keywordflow">return</span> rc,pos,mom</div>
<div class="line"><span class="lineno"> 1727</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1728</span>            <span class="keywordflow">if</span> z &lt; DT[<span class="stringliteral">&#39;Station_1_x_plane_0_layer_0_10000000&#39;</span>][2]:</div>
<div class="line"><span class="lineno"> 1729</span><span class="comment"># use linear extrapolation from first state</span></div>
<div class="line"><span class="lineno"> 1730</span>                fstate = fT.getFittedState(0)</div>
<div class="line"><span class="lineno"> 1731</span>            <span class="keywordflow">elif</span> z &gt; DT[<span class="stringliteral">&#39;Station_4_x_plane_1_layer_1_40110000&#39;</span>][2]:</div>
<div class="line"><span class="lineno"> 1732</span>                M = min(fT.getNumPointsWithMeasurement()-1,30)</div>
<div class="line"><span class="lineno"> 1733</span>                <span class="keywordflow">try</span>: </div>
<div class="line"><span class="lineno"> 1734</span>                    fstate = fT.getFittedState(fT.getNumPointsWithMeasurement()-1)</div>
<div class="line"><span class="lineno"> 1735</span>                <span class="keywordflow">except</span>: </div>
<div class="line"><span class="lineno"> 1736</span>                    fstate = fT.getFittedState(0)</div>
<div class="line"><span class="lineno"> 1737</span>            pos,mom = fstate.getPos(),fstate.getMom()</div>
<div class="line"><span class="lineno"> 1738</span><span class="comment"># use linear extrap</span></div>
<div class="line"><span class="lineno"> 1739</span>            lam = (z-pos[2])/mom[2]</div>
<div class="line"><span class="lineno"> 1740</span>            pos[2]=z</div>
<div class="line"><span class="lineno"> 1741</span>            pos[0]=pos[0]+lam*mom[0]</div>
<div class="line"><span class="lineno"> 1742</span>            pos[1]=pos[1]+lam*mom[1]</div>
<div class="line"><span class="lineno"> 1743</span>            rc = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1744</span>    <span class="keywordflow">return</span> rc,pos,mom</div>
<div class="line"><span class="lineno"> 1745</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a778c44b1c79c3cfaf9d4e7077ac4409b" name="a778c44b1c79c3cfaf9d4e7077ac4409b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a778c44b1c79c3cfaf9d4e7077ac4409b">&#9670;&#160;</a></span>FCN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.FCN </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>npar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04618">4618</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4618</span><span class="keyword">def </span>FCN(npar, gin, f, par, iflag):</div>
<div class="line"><span class="lineno"> 4619</span><span class="comment">#calculate chisquare</span></div>
<div class="line"><span class="lineno"> 4620</span>    chisq  = 0</div>
<div class="line"><span class="lineno"> 4621</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> range(16):</div>
<div class="line"><span class="lineno"> 4622</span>        alignCorrection[p]=[par[p],0,0]</div>
<div class="line"><span class="lineno"> 4623</span>    r, w = os.pipe()</div>
<div class="line"><span class="lineno"> 4624</span>    pid  = os.fork() <span class="comment"># bypassing memory issues with running genfit</span></div>
<div class="line"><span class="lineno"> 4625</span>    <span class="keywordflow">if</span> pid == 0:</div>
<div class="line"><span class="lineno"> 4626</span>        chisq = loopTracks(r,w)</div>
<div class="line"><span class="lineno"> 4627</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 4628</span>        print(<span class="stringliteral">&quot;In the parent process after forking the child {}&quot;</span>.format(pid))</div>
<div class="line"><span class="lineno"> 4629</span>        finished = os.waitpid(0, 0)</div>
<div class="line"><span class="lineno"> 4630</span>        print(finished)</div>
<div class="line"><span class="lineno"> 4631</span>        os.close(w)</div>
<div class="line"><span class="lineno"> 4632</span>        r=os.fdopen(r)</div>
<div class="line"><span class="lineno"> 4633</span>        f[0] = float(r.read())</div>
<div class="line"><span class="lineno"> 4634</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;FCN returns&quot;</span>,f[0],len(listOfTracks)</div>
<div class="line"><span class="lineno"> 4635</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;T1x&quot;</span>,par[0],par[1],par[2],par[3]</div>
<div class="line"><span class="lineno"> 4636</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;T1u&quot;</span>,par[4],par[5],par[6],par[7]</div>
<div class="line"><span class="lineno"> 4637</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;T2v&quot;</span>,par[8],par[9],par[10],par[11]</div>
<div class="line"><span class="lineno"> 4638</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;T2x&quot;</span>,par[12],par[13],par[14],par[15]</div>
<div class="line"><span class="lineno"> 4639</span>    <span class="keywordflow">return</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f9249d7649cb06f04f1b74e1333794f" name="a8f9249d7649cb06f04f1b74e1333794f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f9249d7649cb06f04f1b74e1333794f">&#9670;&#160;</a></span>fcn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.fcn </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>npar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07368">7368</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7368</span><span class="keyword">def </span>fcn(npar, gin, f, par, iflag):</div>
<div class="line"><span class="lineno"> 7369</span><span class="comment">#calculate chisquare</span></div>
<div class="line"><span class="lineno"> 7370</span>    x=<span class="stringliteral">&#39;mu&#39;</span></div>
<div class="line"><span class="lineno"> 7371</span>    chisq  = 0</div>
<div class="line"><span class="lineno"> 7372</span>    dataMC     = abs(par[0])</div>
<div class="line"><span class="lineno"> 7373</span>    charmMbias = abs(par[1])</div>
<div class="line"><span class="lineno"> 7374</span>    <span class="keywordflow">for</span> proj <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/Abspx_y&#39;</span>+x,<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>]:</div>
<div class="line"><span class="lineno"> 7375</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1, h[proj].GetNbinsX()+1 ):</div>
<div class="line"><span class="lineno"> 7376</span>            <span class="keywordflow">if</span> proj == <span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span> <span class="keywordflow">and</span> h[proj].GetBinCenter(n)&lt;5: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7377</span>            delta = h[proj].GetBinContent(n) - dataMC*(hMC[proj].GetBinContent(n)+charmMbias*hCharm[proj].GetBinContent(n))</div>
<div class="line"><span class="lineno"> 7378</span>            errSq = h[proj].GetBinContent(n) + dataMC**2*hMC[proj].GetBinContent(n)+\</div>
<div class="line"><span class="lineno"> 7379</span>                    (dataMC*charmMbias)**2*hCharm[proj].GetBinContent(n)</div>
<div class="line"><span class="lineno"> 7380</span>            <span class="keywordflow">if</span> errSq&gt;0: chisq += delta**2/errSq</div>
<div class="line"><span class="lineno"> 7381</span>    f[0] = chisq</div>
<div class="line"><span class="lineno"> 7382</span>    <span class="keywordflow">if</span> iflag !=2: <span class="keywordflow">print</span> par[0],par[1],chisq</div>
<div class="line"><span class="lineno"> 7383</span>    <span class="keywordflow">return</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a10cac80206b38d980525380b682314da" name="a10cac80206b38d980525380b682314da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10cac80206b38d980525380b682314da">&#9670;&#160;</a></span>findDTClusters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.findDTClusters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>removeBigClusters</em> = <code>True</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02297">2297</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2297</span><span class="keyword">def </span>findDTClusters(removeBigClusters=True):</div>
<div class="line"><span class="lineno"> 2298</span>    spectrHitsSorted = ROOT.nestedList()</div>
<div class="line"><span class="lineno"> 2299</span>    muflux_Reco.sortHits(sTree.Digi_MufluxSpectrometerHits,spectrHitsSorted,<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 2300</span>    <span class="keywordflow">if</span> Debug: nicePrintout(spectrHitsSorted)</div>
<div class="line"><span class="lineno"> 2301</span>    clusters =  {}</div>
<div class="line"><span class="lineno"> 2302</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 2303</span>        clusters[s]={}</div>
<div class="line"><span class="lineno"> 2304</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> viewsI[s]:</div>
<div class="line"><span class="lineno"> 2305</span>            allHits = {}</div>
<div class="line"><span class="lineno"> 2306</span>            ncl=0</div>
<div class="line"><span class="lineno"> 2307</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4): </div>
<div class="line"><span class="lineno"> 2308</span>                allHits[l]={}</div>
<div class="line"><span class="lineno"> 2309</span>                <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> spectrHitsSorted[view][s][l]:</div>
<div class="line"><span class="lineno"> 2310</span>                    channelID = hit.GetDetectorID()%1000</div>
<div class="line"><span class="lineno"> 2311</span>                    allHits[l][channelID]=hit</div>
<div class="line"><span class="lineno"> 2312</span>            <span class="keywordflow">if</span> removeBigClusters:</div>
<div class="line"><span class="lineno"> 2313</span>                clustersPerLayer = {}</div>
<div class="line"><span class="lineno"> 2314</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 2315</span>                    clustersPerLayer[l] = dict(enumerate(grouper(allHits[l].keys(),1), 1))</div>
<div class="line"><span class="lineno"> 2316</span>                    <span class="keywordflow">for</span> Acl <span class="keywordflow">in</span> clustersPerLayer[l]:</div>
<div class="line"><span class="lineno"> 2317</span>                        <span class="keywordflow">if</span> len(clustersPerLayer[l][Acl])&gt;cuts[<span class="stringliteral">&#39;maxClusterSize&#39;</span>]: <span class="comment"># kill cross talk brute force</span></div>
<div class="line"><span class="lineno"> 2318</span>                            <span class="keywordflow">for</span> x <span class="keywordflow">in</span> clustersPerLayer[l][Acl]:</div>
<div class="line"><span class="lineno"> 2319</span>                                dead = allHits[l].pop(x)</div>
<div class="line"><span class="lineno"> 2320</span>                                <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> <span class="stringliteral">&quot;pop&quot;</span>,s,viewC[view],l,x</div>
<div class="line"><span class="lineno"> 2321</span>            ncl=0</div>
<div class="line"><span class="lineno"> 2322</span>            tmp={}</div>
<div class="line"><span class="lineno"> 2323</span>            tmp[ncl]=[]</div>
<div class="line"><span class="lineno"> 2324</span>            perLayerUsedHits = {0:[],1:[],2:[],3:[]}</div>
<div class="line"><span class="lineno"> 2325</span>            <span class="keywordflow">for</span> level <span class="keywordflow">in</span> [1]:</div>
<div class="line"><span class="lineno"> 2326</span>                <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1,Nchannels[s]+1):</div>
<div class="line"><span class="lineno"> 2327</span>                    perLayer = {0:0,1:0,2:0,3:0}</div>
<div class="line"><span class="lineno"> 2328</span>                    <span class="keywordflow">for</span> i0 <span class="keywordflow">in</span> range( max(1,i-1),min(Nchannels[s]+1,i+2)):</div>
<div class="line"><span class="lineno"> 2329</span>                        <span class="keywordflow">if</span> allHits[0].has_key(i0):</div>
<div class="line"><span class="lineno"> 2330</span>                            tmp[ncl].append(allHits[0][i0])</div>
<div class="line"><span class="lineno"> 2331</span>                            perLayer[0]=i0</div>
<div class="line"><span class="lineno"> 2332</span>                    <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> range( max(1,i-1), min(Nchannels[s]+1,i+2)):</div>
<div class="line"><span class="lineno"> 2333</span>                        <span class="keywordflow">if</span> allHits[1].has_key(i1):</div>
<div class="line"><span class="lineno"> 2334</span>                            tmp[ncl].append(allHits[1][i1])</div>
<div class="line"><span class="lineno"> 2335</span>                            perLayer[1]=i1</div>
<div class="line"><span class="lineno"> 2336</span>                    <span class="keywordflow">for</span> i2 <span class="keywordflow">in</span> range( max(1,i-1), min(Nchannels[s]+1,i+2)):</div>
<div class="line"><span class="lineno"> 2337</span>                        <span class="keywordflow">if</span> allHits[2].has_key(i2):  </div>
<div class="line"><span class="lineno"> 2338</span>                            tmp[ncl].append(allHits[2][i2])</div>
<div class="line"><span class="lineno"> 2339</span>                            perLayer[2]=i2</div>
<div class="line"><span class="lineno"> 2340</span>                    <span class="keywordflow">for</span> i3 <span class="keywordflow">in</span> range( max(1,i-1), min(Nchannels[s]+1,i+2)):</div>
<div class="line"><span class="lineno"> 2341</span>                        <span class="keywordflow">if</span> allHits[3].has_key(i3): </div>
<div class="line"><span class="lineno"> 2342</span>                            tmp[ncl].append(allHits[3][i3])</div>
<div class="line"><span class="lineno"> 2343</span>                            perLayer[3]=i3</div>
<div class="line"><span class="lineno"> 2344</span>                    <span class="keywordflow">if</span> ( (perLayer[0]&gt;0) + (perLayer[1]&gt;0) + (perLayer[2]&gt;0) + (perLayer[3]&gt;0) ) &gt; level:</div>
<div class="line"><span class="lineno"> 2345</span>                    <span class="comment"># at least 2 hits per station</span></div>
<div class="line"><span class="lineno"> 2346</span>                        ncl+=1</div>
<div class="line"><span class="lineno"> 2347</span>                    tmp[ncl]=[]</div>
<div class="line"><span class="lineno"> 2348</span>            <span class="keywordflow">if</span> len(tmp[ncl])==0: tmp.pop(ncl)</div>
<div class="line"><span class="lineno"> 2349</span><span class="comment"># cleanup, outliers</span></div>
<div class="line"><span class="lineno"> 2350</span>            tmpClean = {}</div>
<div class="line"><span class="lineno"> 2351</span>            <span class="keywordflow">for</span> ncl <span class="keywordflow">in</span> tmp:</div>
<div class="line"><span class="lineno"> 2352</span>                test = []</div>
<div class="line"><span class="lineno"> 2353</span>                mean = 0</div>
<div class="line"><span class="lineno"> 2354</span>                <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> tmp[ncl]:</div>
<div class="line"><span class="lineno"> 2355</span>                    bot,top =  strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 2356</span>                    x = (bot[0]+top[0])/2.</div>
<div class="line"><span class="lineno"> 2357</span>                    mean+=x</div>
<div class="line"><span class="lineno"> 2358</span>                    test.append([hit,x])</div>
<div class="line"><span class="lineno"> 2359</span>                mean=mean/float(len(test))</div>
<div class="line"><span class="lineno"> 2360</span><span class="comment"># more cleanup, outliers</span></div>
<div class="line"><span class="lineno"> 2361</span>                tmpClean[ncl]=[]</div>
<div class="line"><span class="lineno"> 2362</span>                <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> test:</div>
<div class="line"><span class="lineno"> 2363</span>                    <span class="keywordflow">if</span> abs(mean-cl[1])&lt;2.5 : </div>
<div class="line"><span class="lineno"> 2364</span>                        tmpClean[ncl].append(cl[0])</div>
<div class="line"><span class="lineno"> 2365</span><span class="comment"># cleanup, remove lists contained in another list</span></div>
<div class="line"><span class="lineno"> 2366</span>            clusters[s][view]=[]</div>
<div class="line"><span class="lineno"> 2367</span>            <span class="keywordflow">if</span> len(tmpClean)&gt;0:</div>
<div class="line"><span class="lineno"> 2368</span>                ncl = 0</div>
<div class="line"><span class="lineno"> 2369</span>                marked = []</div>
<div class="line"><span class="lineno"> 2370</span>                <span class="keywordflow">for</span> n1 <span class="keywordflow">in</span> range(len(tmpClean)):</div>
<div class="line"><span class="lineno"> 2371</span>                    <span class="keywordflow">if</span> len(tmpClean[n1])==0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2372</span>                    contained = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2373</span>                    <span class="keywordflow">for</span> n2 <span class="keywordflow">in</span> range(len(tmpClean)):</div>
<div class="line"><span class="lineno"> 2374</span>                        <span class="keywordflow">if</span> n1==n2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2375</span>                        <span class="keywordflow">if</span> n2 <span class="keywordflow">in</span> marked: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2376</span>                        <span class="keywordflow">if</span> <a class="code hl_function" href="analysis_2CMakeLists_8txt.html#a47029adc3cc30093dfd93f86b779bb99">set</a>(tmpClean[n1]) &lt;= <a class="code hl_function" href="analysis_2CMakeLists_8txt.html#a47029adc3cc30093dfd93f86b779bb99">set</a>(tmpClean[n2]):</div>
<div class="line"><span class="lineno"> 2377</span>                            contained = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2378</span>                            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 2379</span>                    <span class="keywordflow">if</span> contained:  marked.append(n1)</div>
<div class="line"><span class="lineno"> 2380</span>                <span class="keywordflow">for</span> n1 <span class="keywordflow">in</span> range(len(tmpClean)):</div>
<div class="line"><span class="lineno"> 2381</span>                    <span class="keywordflow">if</span> len(tmpClean[n1])&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2382</span>                    <span class="keywordflow">if</span> n1 <span class="keywordflow">in</span> marked: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2383</span>                    test = []</div>
<div class="line"><span class="lineno"> 2384</span>                    mean = 0</div>
<div class="line"><span class="lineno"> 2385</span>                    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> tmpClean[n1]:</div>
<div class="line"><span class="lineno"> 2386</span>                        bot,top =  strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 2387</span>                        x = (bot[0]+top[0])/2.</div>
<div class="line"><span class="lineno"> 2388</span>                        z = (bot[2]+top[2])/2.</div>
<div class="line"><span class="lineno"> 2389</span>                        mean+=x</div>
<div class="line"><span class="lineno"> 2390</span>                        test.append([hit,x,z,hit.GetDetectorID()%1000])</div>
<div class="line"><span class="lineno"> 2391</span>                    mean=mean/float(len(test))</div>
<div class="line"><span class="lineno"> 2392</span><span class="comment"># more cleanup, outliers</span></div>
<div class="line"><span class="lineno"> 2393</span>                    clusters[s][view].append([])</div>
<div class="line"><span class="lineno"> 2394</span>                    <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> test:</div>
<div class="line"><span class="lineno"> 2395</span>                        <span class="keywordflow">if</span> abs(mean-cl[1])&lt;2.5: clusters[s][view][ncl].append(cl)</div>
<div class="line"><span class="lineno"> 2396</span>                    <span class="keywordflow">if</span> len(clusters[s][view][ncl])==0:</div>
<div class="line"><span class="lineno"> 2397</span>                        clusters[s][view].pop(ncl)</div>
<div class="line"><span class="lineno"> 2398</span>                    <span class="keywordflow">else</span>: ncl+=1</div>
<div class="line"><span class="lineno"> 2399</span>            rc = h[<span class="stringliteral">&#39;clsN&#39;</span>].Fill(ncl)</div>
<div class="line"><span class="lineno"> 2400</span><span class="comment"># eventually split too big clusters for stero layers:</span></div>
<div class="line"><span class="lineno"> 2401</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> [1,2]:</div>
<div class="line"><span class="lineno"> 2402</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> viewsI[s]:</div>
<div class="line"><span class="lineno"> 2403</span>            <span class="keywordflow">if</span> view==0:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2404</span>            tmp = {}</div>
<div class="line"><span class="lineno"> 2405</span>            check = {}</div>
<div class="line"><span class="lineno"> 2406</span>            <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> clusters[s][view]:</div>
<div class="line"><span class="lineno"> 2407</span>                <span class="keywordflow">if</span> len(cl)&gt;5:</div>
<div class="line"><span class="lineno"> 2408</span>                    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> cl: </div>
<div class="line"><span class="lineno"> 2409</span>                        <span class="keywordflow">if</span> <span class="keywordflow">not</span> tmp.has_key(hit[3]):</div>
<div class="line"><span class="lineno"> 2410</span>                            tmp[hit[3]]  =[]</div>
<div class="line"><span class="lineno"> 2411</span>                            check[hit[3]]=[]</div>
<div class="line"><span class="lineno"> 2412</span>                        <span class="keywordflow">if</span> hit[0].GetDetectorID() <span class="keywordflow">in</span> check[hit[3]]: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2413</span>                        tmp[hit[3]].append(hit)</div>
<div class="line"><span class="lineno"> 2414</span>                        check[hit[3]].append(hit[0].GetDetectorID())</div>
<div class="line"><span class="lineno"> 2415</span>            <span class="keywordflow">for</span> n <span class="keywordflow">in</span> tmp:</div>
<div class="line"><span class="lineno"> 2416</span>                <span class="keywordflow">if</span> len(tmp[n])&gt;1:</div>
<div class="line"><span class="lineno"> 2417</span>                    clusters[s][view].append(tmp[n])</div>
<div class="line"><span class="lineno"> 2418</span>    <span class="keywordflow">if</span> Debug:</div>
<div class="line"><span class="lineno"> 2419</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 2420</span>            <span class="keywordflow">for</span> view <span class="keywordflow">in</span> viewsI[s]:</div>
<div class="line"><span class="lineno"> 2421</span>                printClustersPerStation(clusters,s,view)</div>
<div class="line"><span class="lineno"> 2422</span>    <span class="keywordflow">return</span> clusters</div>
<div class="line"><span class="lineno"> 2423</span> </div>
<div class="ttc" id="aanalysis_2CMakeLists_8txt_html_a47029adc3cc30093dfd93f86b779bb99"><div class="ttname"><a href="analysis_2CMakeLists_8txt.html#a47029adc3cc30093dfd93f86b779bb99">set</a></div><div class="ttdeci">set(INCLUDE_DIRECTORIES ${SYSTEM_INCLUDE_DIRECTORIES} ${VMC_INCLUDE_DIRS} ${CMAKE_SOURCE_DIR}/shipdata ${CMAKE_SOURCE_DIR}/shipLHC ${CMAKE_SOURCE_DIR}/analysis/cuts ${CMAKE_SOURCE_DIR}/analysis/tools ${FMT_INCLUDE_DIR}) include_directories($</div><div class="ttdef"><b>Definition</b> <a href="analysis_2CMakeLists_8txt_source.html#l00001">CMakeLists.txt:1</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a27d465a97a3c7a80e350e973b7a27dd3" name="a27d465a97a3c7a80e350e973b7a27dd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27d465a97a3c7a80e350e973b7a27dd3">&#9670;&#160;</a></span>findDTClustersDebug1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.findDTClustersDebug1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02424">2424</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2424</span><span class="keyword">def </span>findDTClustersDebug1(n,tmp):</div>
<div class="line"><span class="lineno"> 2425</span>    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> tmp[n]:</div>
<div class="line"><span class="lineno"> 2426</span>        s,v,p,l,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 2427</span>        bot,top = strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 2428</span>        <span class="keywordflow">print</span> s,v,p*2+l,channelID,(bot[0]+top[0])/2.</div>
<div class="line"><span class="lineno"> 2429</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a45d95a3e30798b84c9f3d99f7fd49ad6" name="a45d95a3e30798b84c9f3d99f7fd49ad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45d95a3e30798b84c9f3d99f7fd49ad6">&#9670;&#160;</a></span>findDTClustersDebug2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.findDTClustersDebug2 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02430">2430</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2430</span><span class="keyword">def </span>findDTClustersDebug2(L):</div>
<div class="line"><span class="lineno"> 2431</span>    <span class="keywordflow">for</span> l <span class="keywordflow">in</span> L:</div>
<div class="line"><span class="lineno"> 2432</span>        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> L[l]:</div>
<div class="line"><span class="lineno"> 2433</span>            <span class="keywordflow">print</span> stationInfo(hit),hit.GetTimeOverThreshold() </div>
<div class="line"><span class="lineno"> 2434</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afbaf5795dd996d387a84980e4511f3d5" name="afbaf5795dd996d387a84980e4511f3d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbaf5795dd996d387a84980e4511f3d5">&#9670;&#160;</a></span>findHighMomEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.findHighMomEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07356">7356</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7356</span><span class="keyword">def </span>findHighMomEvents():</div>
<div class="line"><span class="lineno"> 7357</span>    <span class="keywordflow">for</span> d <span class="keywordflow">in</span> os.listdir(<span class="stringliteral">&#39;.&#39;</span>):</div>
<div class="line"><span class="lineno"> 7358</span>        <span class="keywordflow">if</span> os.path.isdir(d):</div>
<div class="line"><span class="lineno"> 7359</span>            <span class="keywordflow">for</span> f <span class="keywordflow">in</span> os.listdir(d):</div>
<div class="line"><span class="lineno"> 7360</span>                <span class="keywordflow">if</span> f.find(<span class="stringliteral">&#39;ntuple-&#39;</span>)==0:</div>
<div class="line"><span class="lineno"> 7361</span>                    s = f.replace(<span class="stringliteral">&#39;ntuple-&#39;</span>,<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 7362</span>                    ff = ROOT.TFile.Open(os.environ[<span class="stringliteral">&#39;EOSSHIP&#39;</span>]+<span class="stringliteral">&#39;/eos/experiment/ship/user/truf/muflux-sim/10GeV-withDeadChannels/&#39;</span>+d+<span class="stringliteral">&#39;/&#39;</span>+s)</div>
<div class="line"><span class="lineno"> 7363</span>                    sTree=ff.cbmsim</div>
<div class="line"><span class="lineno"> 7364</span>                    <span class="keywordflow">for</span> event <span class="keywordflow">in</span> sTree:</div>
<div class="line"><span class="lineno"> 7365</span>                        <span class="keywordflow">for</span> m <span class="keywordflow">in</span> sTree.MCTrack:</div>
<div class="line"><span class="lineno"> 7366</span>                            <span class="keywordflow">if</span> abs(m.GetPdgCode())==13 <span class="keywordflow">and</span> m.GetP()&gt;350: sTree.MCTrack.Dump()</div>
<div class="line"><span class="lineno"> 7367</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a51bb26a2235b2b3fed132fb9b62699e5" name="a51bb26a2235b2b3fed132fb9b62699e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51bb26a2235b2b3fed132fb9b62699e5">&#9670;&#160;</a></span>findSimpleEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.findSimpleEvent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nmin</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nmax</em> = <code>6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01852">1852</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1852</span><span class="keyword">def </span>findSimpleEvent(event,nmin=2,nmax=6):</div>
<div class="line"><span class="lineno"> 1853</span>    spectrHitsSorted = ROOT.nestedList()</div>
<div class="line"><span class="lineno"> 1854</span>    muflux_Reco.sortHits(sTree.Digi_MufluxSpectrometerHits,spectrHitsSorted,<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1855</span>    nH  = {1:0,2:0,3:0,4:0}</div>
<div class="line"><span class="lineno"> 1856</span>    passed = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1857</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 1858</span>        <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 1859</span>            <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> spectrHitsSorted[0][s][l]:  nH[s]+=1</div>
<div class="line"><span class="lineno"> 1860</span>        <span class="keywordflow">if</span> nH[s]&lt;nmin <span class="keywordflow">or</span> nH[s]&gt;nmax: passed = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1861</span>    nu = 0</div>
<div class="line"><span class="lineno"> 1862</span>    <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 1863</span>        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> spectrHitsSorted[1][1][l]:  nu+=1</div>
<div class="line"><span class="lineno"> 1864</span>    <span class="keywordflow">if</span> nu&lt;nmin <span class="keywordflow">or</span> nu&gt;nmax: passed = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1865</span>    nv = 0</div>
<div class="line"><span class="lineno"> 1866</span>    <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 1867</span>        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> spectrHitsSorted[2][2][l]:  nv+=1</div>
<div class="line"><span class="lineno"> 1868</span>    <span class="keywordflow">if</span> nv&lt;nmin <span class="keywordflow">or</span> nv&gt;nmax: passed = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1869</span>    <span class="keywordflow">return</span> passed</div>
<div class="line"><span class="lineno"> 1870</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a73aba9fb662ca157513ac4b3520682a9" name="a73aba9fb662ca157513ac4b3520682a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73aba9fb662ca157513ac4b3520682a9">&#9670;&#160;</a></span>findTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.findTracks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PR</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>linearTrackModel</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>withCloneKiller</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02435">2435</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2435</span><span class="keyword">def </span>findTracks(PR = 1,linearTrackModel = False,withCloneKiller=True):</div>
<div class="line"><span class="lineno"> 2436</span>    <span class="keywordflow">if</span> PR == 3:</div>
<div class="line"><span class="lineno"> 2437</span>        <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&#39;FitTracks_refitted&#39;</span>): <span class="keywordflow">return</span> sTree.FitTracks_refitted</div>
<div class="line"><span class="lineno"> 2438</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;findTracks called with PR=3 but FitTracks_refitted does not exist. &quot;</span></div>
<div class="line"><span class="lineno"> 2439</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2440</span>    <span class="keywordflow">if</span> PR == 1:</div>
<div class="line"><span class="lineno"> 2441</span>        <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&#39;FitTracks&#39;</span>): <span class="keywordflow">return</span> sTree.FitTracks</div>
<div class="line"><span class="lineno"> 2442</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;findTracks called with PR=1 but FitTracks does not exist. &quot;</span></div>
<div class="line"><span class="lineno"> 2443</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2444</span>    <span class="keywordflow">if</span> PR == 12 :</div>
<div class="line"><span class="lineno"> 2445</span>        trackCandidates = testPR()</div>
<div class="line"><span class="lineno"> 2446</span>        <span class="keywordflow">if</span> len(trackCandidates)&gt;1: trackCandidates=cloneKiller(trackCandidates)</div>
<div class="line"><span class="lineno"> 2447</span>        <span class="keywordflow">return</span> trackCandidates</div>
<div class="line"><span class="lineno"> 2448</span>    <span class="keywordflow">if</span> PR == 13: <span class="comment"># refit tracks</span></div>
<div class="line"><span class="lineno"> 2449</span>        trackCandidates=[]</div>
<div class="line"><span class="lineno"> 2450</span>        keysToDThits = MakeKeysToDThits(cuts[<span class="stringliteral">&#39;lateArrivalsToT&#39;</span>])</div>
<div class="line"><span class="lineno"> 2451</span>        <span class="keywordflow">for</span> itrack <span class="keywordflow">in</span> range(sTree.FitTracks.GetEntries()):</div>
<div class="line"><span class="lineno"> 2452</span>           trInfo = sTree.TrackInfos[itrack]</div>
<div class="line"><span class="lineno"> 2453</span>           oTrack = sTree.FitTracks[itrack]</div>
<div class="line"><span class="lineno"> 2454</span>           P = 5.</div>
<div class="line"><span class="lineno"> 2455</span>           fst = oTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 2456</span>           <span class="keywordflow">if</span> fst.isFitConverged() <span class="keywordflow">and</span> fst.getNdf()&gt;1:</div>
<div class="line"><span class="lineno"> 2457</span>            <span class="keywordflow">try</span>: </div>
<div class="line"><span class="lineno"> 2458</span>             sta = oTrack.getFittedState(0)</div>
<div class="line"><span class="lineno"> 2459</span>             P   = sta.getMomMag()</div>
<div class="line"><span class="lineno"> 2460</span>            <span class="keywordflow">except</span>: </div>
<div class="line"><span class="lineno"> 2461</span>             <span class="keywordflow">print</span> <span class="stringliteral">&quot;cannot get fittedState(0)&quot;</span></div>
<div class="line"><span class="lineno"> 2462</span>           hitList=[]</div>
<div class="line"><span class="lineno"> 2463</span>           <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(trInfo.N()):</div>
<div class="line"><span class="lineno"> 2464</span>              detID = trInfo.detId(n)</div>
<div class="line"><span class="lineno"> 2465</span>              hitList.append(keysToDThits[detID][0])</div>
<div class="line"><span class="lineno"> 2466</span>           aTrack = fitTrack(hitList,P)</div>
<div class="line"><span class="lineno"> 2467</span>           <span class="keywordflow">if</span> type(aTrack) == type(1): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2468</span>           trackCandidates.append(aTrack)</div>
<div class="line"><span class="lineno"> 2469</span>        <span class="keywordflow">return</span> trackCandidates</div>
<div class="line"><span class="lineno"> 2470</span><span class="comment"># switch of trackfit material effect in first pass</span></div>
<div class="line"><span class="lineno"> 2471</span>    materialEffects(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 2472</span>    keysToDThits=MakeKeysToDThits(cuts[<span class="stringliteral">&#39;lateArrivalsToT&#39;</span>])</div>
<div class="line"><span class="lineno"> 2473</span>    vbot,vtop = strawPositionsBotTop[30002001]</div>
<div class="line"><span class="lineno"> 2474</span>    T3z = vbot[2]</div>
<div class="line"><span class="lineno"> 2475</span>    T3ytop = vtop[1]</div>
<div class="line"><span class="lineno"> 2476</span>    T3ybot = vbot[1]</div>
<div class="line"><span class="lineno"> 2477</span>    trackCandidates = []</div>
<div class="line"><span class="lineno"> 2478</span>    clusters = findDTClusters(removeBigClusters=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 2479</span>    <span class="comment"># now we have to make a loop over all combinations </span></div>
<div class="line"><span class="lineno"> 2480</span>    allStations = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2481</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 2482</span>        <span class="keywordflow">if</span> len(clusters[s][0])==0: allStations = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2483</span>    <span class="keywordflow">if</span> len(clusters[1][1])==0 <span class="keywordflow">or</span> len(clusters[2][2])==0:   allStations = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2484</span>    <span class="keywordflow">if</span> allStations:</div>
<div class="line"><span class="lineno"> 2485</span>        t1t2cand = []</div>
<div class="line"><span class="lineno"> 2486</span>        <span class="comment"># list of lists of cluster1, cluster2, x</span></div>
<div class="line"><span class="lineno"> 2487</span>        t3t4cand = []</div>
<div class="line"><span class="lineno"> 2488</span>        h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>] = []</div>
<div class="line"><span class="lineno"> 2489</span>        nTrx = -1</div>
<div class="line"><span class="lineno"> 2490</span>        <span class="keywordflow">for</span> cl1 <span class="keywordflow">in</span> clusters[1][0]:</div>
<div class="line"><span class="lineno"> 2491</span>            <span class="keywordflow">for</span> cl2 <span class="keywordflow">in</span> clusters[2][0]:</div>
<div class="line"><span class="lineno"> 2492</span>                slopeA,bA = getSlopes(cl1,cl2)</div>
<div class="line"><span class="lineno"> 2493</span>                x1 = zgoliath*slopeA+bA</div>
<div class="line"><span class="lineno"> 2494</span>                t1t2cand.append([cl1,cl2,x1,slopeA,bA])</div>
<div class="line"><span class="lineno"> 2495</span>                nTrx+=1</div>
<div class="line"><span class="lineno"> 2496</span>                <span class="keywordflow">if</span> Debug:</div>
<div class="line"><span class="lineno"> 2497</span>                    nt = len(h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>])</div>
<div class="line"><span class="lineno"> 2498</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>].append( ROOT.TGraph(2) )</div>
<div class="line"><span class="lineno"> 2499</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetPoint(0,0.,bA)</div>
<div class="line"><span class="lineno"> 2500</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetPoint(1,400.,slopeA*400+bA)</div>
<div class="line"><span class="lineno"> 2501</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetLineColor(ROOT.kRed+nTrx)</div>
<div class="line"><span class="lineno"> 2502</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetLineWidth(2)</div>
<div class="line"><span class="lineno"> 2503</span>                    h[<span class="stringliteral">&#39;simpleDisplay&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 2504</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 2505</span>                    nt+=1</div>
<div class="line"><span class="lineno"> 2506</span>        <span class="keywordflow">for</span> cl1 <span class="keywordflow">in</span> clusters[3][0]:</div>
<div class="line"><span class="lineno"> 2507</span>            <span class="keywordflow">for</span> cl2 <span class="keywordflow">in</span> clusters[4][0]:</div>
<div class="line"><span class="lineno"> 2508</span>                slopeA,bA = getSlopes(cl1,cl2)</div>
<div class="line"><span class="lineno"> 2509</span>                x1 = zgoliath*slopeA+bA</div>
<div class="line"><span class="lineno"> 2510</span>                t3t4cand.append([cl1,cl2,x1,slopeA,bA])</div>
<div class="line"><span class="lineno"> 2511</span>                <span class="keywordflow">if</span> Debug:</div>
<div class="line"><span class="lineno"> 2512</span>                    nt = len(h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>])</div>
<div class="line"><span class="lineno"> 2513</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>].append( ROOT.TGraph(2) )</div>
<div class="line"><span class="lineno"> 2514</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetPoint(0,300.,slopeA*300+bA)</div>
<div class="line"><span class="lineno"> 2515</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetPoint(1,900.,slopeA*900+bA)</div>
<div class="line"><span class="lineno"> 2516</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 2517</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetLineWidth(2)</div>
<div class="line"><span class="lineno"> 2518</span>                    h[<span class="stringliteral">&#39;simpleDisplay&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 2519</span>                    h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 2520</span>                    nt+=1</div>
<div class="line"><span class="lineno"> 2521</span>        <span class="keywordflow">if</span> Debug: </div>
<div class="line"><span class="lineno"> 2522</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;trackCandidates&quot;</span>,len(t1t2cand),len(t3t4cand)</div>
<div class="line"><span class="lineno"> 2523</span>            h[<span class="stringliteral">&#39;simpleDisplay&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 2524</span>        nTrx = -1</div>
<div class="line"><span class="lineno"> 2525</span>        <span class="keywordflow">for</span> nt1t2 <span class="keywordflow">in</span> range(len(t1t2cand)):</div>
<div class="line"><span class="lineno"> 2526</span>            t1t2 = t1t2cand[nt1t2]</div>
<div class="line"><span class="lineno"> 2527</span>            nTrx+=1</div>
<div class="line"><span class="lineno"> 2528</span>            <span class="keywordflow">for</span> nt3t4 <span class="keywordflow">in</span> range(len(t3t4cand)):</div>
<div class="line"><span class="lineno"> 2529</span>                t3t4 = t3t4cand[nt3t4]</div>
<div class="line"><span class="lineno"> 2530</span>                delx = t3t4[2]-t1t2[2]</div>
<div class="line"><span class="lineno"> 2531</span>                h[<span class="stringliteral">&#39;delx&#39;</span>].Fill(delx)</div>
<div class="line"><span class="lineno"> 2532</span><span class="comment"># check also extrapolations at t1 t2, or t3 t4</span></div>
<div class="line"><span class="lineno"> 2533</span><span class="comment"># makes only sense for zero field</span></div>
<div class="line"><span class="lineno"> 2534</span>                <span class="keywordflow">if</span> linearTrackModel: makeLinearExtrapolations(t1t2,t3t4)</div>
<div class="line"><span class="lineno"> 2535</span>                <span class="keywordflow">if</span> abs(delx) &lt; cuts[<span class="stringliteral">&#39;delxAtGoliath&#39;</span>]:</div>
<div class="line"><span class="lineno"> 2536</span><span class="comment"># check for matching u and v hits, make uv combination and check extrap to </span></div>
<div class="line"><span class="lineno"> 2537</span>                    stereoHits = {}</div>
<div class="line"><span class="lineno"> 2538</span>                    <span class="keywordflow">if</span> Debug:  <span class="keywordflow">print</span> <span class="stringliteral">&quot;stereo clusters&quot;</span>,len(clusters[1][1]),len(clusters[2][2])</div>
<div class="line"><span class="lineno"> 2539</span>                    <span class="keywordflow">for</span> nu <span class="keywordflow">in</span> range(len(clusters[1][1])):</div>
<div class="line"><span class="lineno"> 2540</span>                        stereoHits[1]={}</div>
<div class="line"><span class="lineno"> 2541</span>                        clu = clusters[1][1][nu]</div>
<div class="line"><span class="lineno"> 2542</span>                        mean_u = 0</div>
<div class="line"><span class="lineno"> 2543</span>                        n_u = 0 </div>
<div class="line"><span class="lineno"> 2544</span>                        <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> clu:</div>
<div class="line"><span class="lineno"> 2545</span>                            botA,topA = strawPositionsBotTop[cl[0].GetDetectorID()]</div>
<div class="line"><span class="lineno"> 2546</span>                            z = (botA[2]+topA[2])/2.</div>
<div class="line"><span class="lineno"> 2547</span>                            sl  = (botA[1]-topA[1])/(botA[0]-topA[0])</div>
<div class="line"><span class="lineno"> 2548</span>                            b = topA[1]-sl*topA[0]</div>
<div class="line"><span class="lineno"> 2549</span>                            yest = sl*(t1t2[3]*topA[2]+t1t2[4])+b</div>
<div class="line"><span class="lineno"> 2550</span>                            rc = h[<span class="stringliteral">&#39;yest&#39;</span>].Fill(yest)</div>
<div class="line"><span class="lineno"> 2551</span>                            <span class="keywordflow">if</span> yest &gt; botA[1]+cuts[<span class="stringliteral">&#39;yMax&#39;</span>] : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2552</span>                            <span class="keywordflow">if</span> yest &lt; topA[1]-cuts[<span class="stringliteral">&#39;yMax&#39;</span>] : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2553</span>                            stereoHits[1][cl[0].GetDetectorID()]=[cl[0],sl,b,yest,z]</div>
<div class="line"><span class="lineno"> 2554</span>                            mean_u+=yest</div>
<div class="line"><span class="lineno"> 2555</span>                            n_u+=1</div>
<div class="line"><span class="lineno"> 2556</span>                        mean_u = mean_u/float(n_u)</div>
<div class="line"><span class="lineno"> 2557</span>                        <span class="keywordflow">if</span> Debug:  <span class="keywordflow">print</span> <span class="stringliteral">&quot;0 stereo u&quot;</span>,len(stereoHits[1])</div>
<div class="line"><span class="lineno"> 2558</span>                        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> stereoHits[1].keys():</div>
<div class="line"><span class="lineno"> 2559</span>                            delta = stereoHits[1][x][3]-mean_u</div>
<div class="line"><span class="lineno"> 2560</span>                            rc = h[<span class="stringliteral">&#39;delta_mean_uv&#39;</span>].Fill(delta)</div>
<div class="line"><span class="lineno"> 2561</span>                            <span class="keywordflow">if</span> abs(delta)&gt;cuts[<span class="stringliteral">&#39;hitDist&#39;</span>]:  stereoHits[1].pop(x)</div>
<div class="line"><span class="lineno"> 2562</span><span class="comment"># new idea, calulate average of y coordinates, reject hits with distance &gt; 2.5cm!!!!!</span></div>
<div class="line"><span class="lineno"> 2563</span>                        <span class="keywordflow">for</span> nv <span class="keywordflow">in</span> range(len(clusters[2][2])):</div>
<div class="line"><span class="lineno"> 2564</span>                            mean_v = 0</div>
<div class="line"><span class="lineno"> 2565</span>                            n_v = 0 </div>
<div class="line"><span class="lineno"> 2566</span>                            stereoHits[2]={}</div>
<div class="line"><span class="lineno"> 2567</span>                            clv =  clusters[2][2][nv]</div>
<div class="line"><span class="lineno"> 2568</span>                            <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> clv: </div>
<div class="line"><span class="lineno"> 2569</span>                                botA,topA = strawPositionsBotTop[cl[0].GetDetectorID()]</div>
<div class="line"><span class="lineno"> 2570</span>                                z = (botA[2]+topA[2])/2.</div>
<div class="line"><span class="lineno"> 2571</span>                                sl  = (botA[1]-topA[1])/(botA[0]-topA[0])</div>
<div class="line"><span class="lineno"> 2572</span>                                b = topA[1]-sl*topA[0]</div>
<div class="line"><span class="lineno"> 2573</span>                                yest = sl*(t1t2[3]*topA[2]+t1t2[4])+b</div>
<div class="line"><span class="lineno"> 2574</span>                                rc = h[<span class="stringliteral">&#39;yest&#39;</span>].Fill(yest)</div>
<div class="line"><span class="lineno"> 2575</span>                                <span class="keywordflow">if</span> yest &gt; botA[1]+cuts[<span class="stringliteral">&#39;yMax&#39;</span>] : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2576</span>                                <span class="keywordflow">if</span> yest &lt; topA[1]-cuts[<span class="stringliteral">&#39;yMax&#39;</span>] : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2577</span>                                stereoHits[2][cl[0].GetDetectorID()]=[cl[0],sl,b,yest,z]</div>
<div class="line"><span class="lineno"> 2578</span>                                mean_v+=yest</div>
<div class="line"><span class="lineno"> 2579</span>                                n_v+=1</div>
<div class="line"><span class="lineno"> 2580</span>                            mean_v = mean_v/float(n_v)</div>
<div class="line"><span class="lineno"> 2581</span>                            <span class="keywordflow">if</span> Debug:  <span class="keywordflow">print</span> <span class="stringliteral">&quot;1 stereo v&quot;</span>,len(stereoHits[2])</div>
<div class="line"><span class="lineno"> 2582</span>                            <span class="keywordflow">for</span> x <span class="keywordflow">in</span> stereoHits[2].keys():</div>
<div class="line"><span class="lineno"> 2583</span>                                delta = stereoHits[2][x][3]-mean_v</div>
<div class="line"><span class="lineno"> 2584</span>                                rc = h[<span class="stringliteral">&#39;delta_mean_uv&#39;</span>].Fill(delta)</div>
<div class="line"><span class="lineno"> 2585</span>                                <span class="keywordflow">if</span> abs(delta)&gt;cuts[<span class="stringliteral">&#39;hitDist&#39;</span>]:  stereoHits[2].pop(x)</div>
<div class="line"><span class="lineno"> 2586</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 2587</span>                            <span class="keywordflow">if</span> Debug:  <span class="keywordflow">print</span> <span class="stringliteral">&quot;stereo  u v&quot;</span>,len(stereoHits[1]),len(stereoHits[2])</div>
<div class="line"><span class="lineno"> 2588</span>                            <span class="keywordflow">if</span> len(stereoHits[1])&lt;cuts[<span class="stringliteral">&#39;minLayersUV&#39;</span>] <span class="keywordflow">or</span> len(stereoHits[2])&lt;cuts[<span class="stringliteral">&#39;minLayersUV&#39;</span>]: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2589</span>                            slopeA,bA = getSlopes(stereoHits[1],stereoHits[2],<span class="stringliteral">&#39;_uv&#39;</span>)</div>
<div class="line"><span class="lineno"> 2590</span>                            <span class="keywordflow">if</span> Debug: </div>
<div class="line"><span class="lineno"> 2591</span>                                <span class="keywordflow">print</span> <span class="stringliteral">&quot;y slope&quot;</span>,slopeA,bA</div>
<div class="line"><span class="lineno"> 2592</span>                                <span class="keywordflow">print</span> <span class="stringliteral">&#39;----&gt; u&#39;</span></div>
<div class="line"><span class="lineno"> 2593</span>                                <span class="keywordflow">for</span> x <span class="keywordflow">in</span> stereoHits[1]:  <span class="keywordflow">print</span> stereoHits[1][x][3],stereoHits[1][x][4]</div>
<div class="line"><span class="lineno"> 2594</span>                                <span class="keywordflow">print</span> <span class="stringliteral">&#39;----&gt; v&#39;</span></div>
<div class="line"><span class="lineno"> 2595</span>                                <span class="keywordflow">for</span> x <span class="keywordflow">in</span> stereoHits[2]:  <span class="keywordflow">print</span> stereoHits[2][x][3],stereoHits[2][x][4]</div>
<div class="line"><span class="lineno"> 2596</span>                            <span class="comment"># remove unphysical combinations, pointing outside t3</span></div>
<div class="line"><span class="lineno"> 2597</span>                            yAtT3 = T3z*slopeA + bA</div>
<div class="line"><span class="lineno"> 2598</span>                            <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> <span class="stringliteral">&quot;uv&quot;</span>,nu,nv,yAtT3,T3ybot ,T3ytop , (yAtT3 - T3ybot)  &gt; 2*cuts[<span class="stringliteral">&#39;yMax&#39;</span>] ,(T3ytop - yAtT3) &gt; 2*cuts[<span class="stringliteral">&#39;yMax&#39;</span>] </div>
<div class="line"><span class="lineno"> 2599</span>                            <span class="keywordflow">if</span>  (yAtT3 - T3ybot)  &gt; 2*cuts[<span class="stringliteral">&#39;yMax&#39;</span>]  <span class="keywordflow">or</span> (T3ytop - yAtT3) &gt; 2*cuts[<span class="stringliteral">&#39;yMax&#39;</span>] : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2600</span>                            <span class="keywordflow">if</span> Debug:</div>
<div class="line"><span class="lineno"> 2601</span>                                nt = len(h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>])</div>
<div class="line"><span class="lineno"> 2602</span>                                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>].append( ROOT.TGraph(2) )</div>
<div class="line"><span class="lineno"> 2603</span>                                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetPoint(0,0.,bA)</div>
<div class="line"><span class="lineno"> 2604</span>                                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetPoint(1,900.,slopeA*900+bA)</div>
<div class="line"><span class="lineno"> 2605</span>                                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetLineColor(ROOT.kGreen+nTrx)</div>
<div class="line"><span class="lineno"> 2606</span>                                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetLineWidth(2)</div>
<div class="line"><span class="lineno"> 2607</span>                                h[<span class="stringliteral">&#39;simpleDisplay&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 2608</span>                                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 2609</span>                                h[<span class="stringliteral">&#39;simpleDisplay&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 2610</span>                                nt+=1</div>
<div class="line"><span class="lineno"> 2611</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 2612</span>                            hitList = []</div>
<div class="line"><span class="lineno"> 2613</span>                            <span class="keywordflow">for</span> p <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 2614</span>                                <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> t1t2[p]: hitList.append(cl[0])</div>
<div class="line"><span class="lineno"> 2615</span>                            <span class="keywordflow">for</span> p <span class="keywordflow">in</span> stereoHits:</div>
<div class="line"><span class="lineno"> 2616</span>                                <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> stereoHits[p]: hitList.append(stereoHits[p][cl][0])</div>
<div class="line"><span class="lineno"> 2617</span>                            <span class="keywordflow">for</span> p <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 2618</span>                                <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> t3t4[p]: hitList.append(cl[0])</div>
<div class="line"><span class="lineno"> 2619</span><span class="comment"># add late arrivals</span></div>
<div class="line"><span class="lineno"> 2620</span>                            <span class="keywordflow">if</span> cuts[<span class="stringliteral">&#39;lateArrivalsToT&#39;</span>]&lt;3000:</div>
<div class="line"><span class="lineno"> 2621</span>                                tmp=[]</div>
<div class="line"><span class="lineno"> 2622</span>                                <span class="keywordflow">for</span> x <span class="keywordflow">in</span> hitList:</div>
<div class="line"><span class="lineno"> 2623</span>                                    l =  len(keysToDThits[x.GetDetectorID()])</div>
<div class="line"><span class="lineno"> 2624</span>                                    <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(1,l):</div>
<div class="line"><span class="lineno"> 2625</span>                                        key = keysToDThits[x.GetDetectorID()][k]</div>
<div class="line"><span class="lineno"> 2626</span>                                        tmp.append(sTree.Digi_LateMufluxSpectrometerHits[key])</div>
<div class="line"><span class="lineno"> 2627</span>                                hitList=hitList+tmp</div>
<div class="line"><span class="lineno"> 2628</span>                            <span class="keywordflow">if</span> linearTrackModel: </div>
<div class="line"><span class="lineno"> 2629</span>                                trackCandidates = hitList</div>
<div class="line"><span class="lineno"> 2630</span>                            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2631</span>                                <span class="keywordflow">if</span> zeroField: momFromptkick = 1000.</div>
<div class="line"><span class="lineno"> 2632</span>                                <span class="keywordflow">else</span>: momFromptkick=ROOT.TMath.Abs(1.03/(t3t4[3]-t1t2[3]+1E-20))</div>
<div class="line"><span class="lineno"> 2633</span>                                <span class="keywordflow">if</span> Debug:  <span class="keywordflow">print</span> <span class="stringliteral">&quot;fit track t1t2 %i t3t4 %i stereo %i,%i, with hits %i,  delx %6.3F, pstart %6.3F&quot;</span>%(nt1t2,nt3t4,nu,nv,len(hitList),delx,momFromptkick)</div>
<div class="line"><span class="lineno"> 2634</span>                                aTrack = fitTrack(hitList,momFromptkick)</div>
<div class="line"><span class="lineno"> 2635</span>                                <span class="keywordflow">if</span> Debug:  <span class="keywordflow">print</span> <span class="stringliteral">&quot;result of trackFit&quot;</span>,aTrack</div>
<div class="line"><span class="lineno"> 2636</span>                                <span class="keywordflow">if</span> type(aTrack) != type(1):</div>
<div class="line"><span class="lineno"> 2637</span><span class="comment"># check if track is still in acceptance:</span></div>
<div class="line"><span class="lineno"> 2638</span>                                    rc,pos,mom = extrapolateToPlane(aTrack,T3z)</div>
<div class="line"><span class="lineno"> 2639</span>                                    reject = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2640</span>                                    <span class="keywordflow">if</span> ( (pos[1] - T3ybot)  &gt; 1.2*cuts[<span class="stringliteral">&#39;yMax&#39;</span>] <span class="keywordflow">or</span> (T3ytop - pos[1]) &gt; 1.2*cuts[<span class="stringliteral">&#39;yMax&#39;</span>] ): reject = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2641</span>                                    mStatistics = countMeasurements(aTrack,PR)</div>
<div class="line"><span class="lineno"> 2642</span>                                    <span class="keywordflow">if</span> len(mStatistics[<span class="stringliteral">&#39;u&#39;</span>])&lt;cuts[<span class="stringliteral">&#39;minLayersUV&#39;</span>] <span class="keywordflow">or</span> len(mStatistics[<span class="stringliteral">&#39;v&#39;</span>])&lt;cuts[<span class="stringliteral">&#39;minLayersUV&#39;</span>]: reject = <span class="keyword">True</span> <span class="comment"># require 2 measurements in each view</span></div>
<div class="line"><span class="lineno"> 2643</span>                                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> reject: </div>
<div class="line"><span class="lineno"> 2644</span>                                    <span class="comment"># check ghostrate, only MC</span></div>
<div class="line"><span class="lineno"> 2645</span>                                        <span class="keywordflow">if</span> MCdata:</div>
<div class="line"><span class="lineno"> 2646</span>                                            ghFraction,mcTrackID = ghostFraction(aTrack)</div>
<div class="line"><span class="lineno"> 2647</span>                                            aTrack.setMcTrackId( int(mcTrackID*1000+int(ghFraction*100+0.5) ) )</div>
<div class="line"><span class="lineno"> 2648</span>                                            <span class="keywordflow">if</span> Debug:  <span class="keywordflow">print</span> <span class="stringliteral">&quot;ghost fraction: &quot;</span>, ghFraction,mcTrackID</div>
<div class="line"><span class="lineno"> 2649</span>                                        trackCandidates.append(aTrack)</div>
<div class="line"><span class="lineno"> 2650</span>                                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2651</span>                                        aTrack.Delete()</div>
<div class="line"><span class="lineno"> 2652</span>                                        <span class="keywordflow">if</span> Debug: </div>
<div class="line"><span class="lineno"> 2653</span>                                            <span class="keywordflow">print</span> <span class="stringliteral">&quot;track rejected, outside T3 acceptance or not enough u/v measurements&quot;</span></div>
<div class="line"><span class="lineno"> 2654</span>                                            <span class="keywordflow">print</span>  (pos[1] - T3ybot)  &gt; 1.2*cuts[<span class="stringliteral">&#39;yMax&#39;</span>] , (T3ytop - pos[1]) &gt; 1.2*cuts[<span class="stringliteral">&#39;yMax&#39;</span>] , \</div>
<div class="line"><span class="lineno"> 2655</span>                                                    len(mStatistics[<span class="stringliteral">&#39;u&#39;</span>])&lt;2, len(mStatistics[<span class="stringliteral">&#39;v&#39;</span>])&lt;2</div>
<div class="line"><span class="lineno"> 2656</span>    <span class="keywordflow">if</span> withMaterial: materialEffects(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 2657</span>    <span class="keywordflow">if</span> withCloneKiller:</div>
<div class="line"><span class="lineno"> 2658</span>        <span class="keywordflow">if</span> len(trackCandidates)&gt;1: trackCandidates = cloneKiller(trackCandidates)</div>
<div class="line"><span class="lineno"> 2659</span>        <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> <span class="stringliteral">&quot;# tracks after clonekiller = &quot;</span>,len(trackCandidates)</div>
<div class="line"><span class="lineno"> 2660</span>        <span class="keywordflow">if</span> withMaterial:</div>
<div class="line"><span class="lineno"> 2661</span>            <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> trackCandidates:</div>
<div class="line"><span class="lineno"> 2662</span>                fitter.processTrack(aTrack)</div>
<div class="line"><span class="lineno"> 2663</span>                <span class="keywordflow">if</span> Debug: printTrackMeasurements(aTrack,PR)</div>
<div class="line"><span class="lineno"> 2664</span><span class="comment"># switch on trackfit material effect for final fit</span></div>
<div class="line"><span class="lineno"> 2665</span>    <span class="keywordflow">return</span> trackCandidates</div>
<div class="line"><span class="lineno"> 2666</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7196a213a3bc68ee599c6a26a8f621a" name="ac7196a213a3bc68ee599c6a26a8f621a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7196a213a3bc68ee599c6a26a8f621a">&#9670;&#160;</a></span>findV0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.findV0 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nstart</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nmax</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PR</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05185">5185</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5185</span><span class="keyword">def </span>findV0(nstart=0,nmax=-1,PR=1):</div>
<div class="line"><span class="lineno"> 5186</span>    <span class="keywordflow">if</span> nmax&lt;0: nmax = sTree.GetEntries()</div>
<div class="line"><span class="lineno"> 5187</span>    ut.bookHist(h,<span class="stringliteral">&#39;doca&#39;</span>,<span class="stringliteral">&#39;distance between two tracks&#39;</span>,100,0.,50.)</div>
<div class="line"><span class="lineno"> 5188</span>    ut.bookHist(h,<span class="stringliteral">&#39;nRPC&#39;</span>,<span class="stringliteral">&#39;matchedRPCHits&#39;</span>,50,0.,50.)</div>
<div class="line"><span class="lineno"> 5189</span>    ut.bookHist(h,<span class="stringliteral">&#39;v0mass_wc&#39;</span>,<span class="stringliteral">&#39;V0 mass wrong charge combinations&#39;</span>,100,0.2,1.8,100,-120.,120.)</div>
<div class="line"><span class="lineno"> 5190</span>    ut.bookHist(h,<span class="stringliteral">&#39;v0mass&#39;</span>,<span class="stringliteral">&#39;V0 mass &#39;</span>,100,0.2,1.8,100,-120.,120.)</div>
<div class="line"><span class="lineno"> 5191</span>    mass = PDG.GetParticle(211).Mass()</div>
<div class="line"><span class="lineno"> 5192</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(nstart,nmax):</div>
<div class="line"><span class="lineno"> 5193</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 5194</span>        tracks = findTracks(PR)</div>
<div class="line"><span class="lineno"> 5195</span>        <span class="keywordflow">if</span> len(tracks)&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5196</span>        PosDir = {}</div>
<div class="line"><span class="lineno"> 5197</span>        tr = 0</div>
<div class="line"><span class="lineno"> 5198</span>        <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> tracks:</div>
<div class="line"><span class="lineno"> 5199</span>            st = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 5200</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> st.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5201</span>            <span class="keywordflow">if</span> st.getNdf()&lt;12: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5202</span>            inAcc, nRPC = matchedRPCHits(aTrack)</div>
<div class="line"><span class="lineno"> 5203</span>            rc = h[<span class="stringliteral">&#39;nRPC&#39;</span>].Fill(nRPC)</div>
<div class="line"><span class="lineno"> 5204</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> inAcc: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5205</span>            <span class="keywordflow">if</span> nRPC &gt; 5: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5206</span>            xx  = aTrack.getFittedState()</div>
<div class="line"><span class="lineno"> 5207</span>            PosDir[tr] = [xx.getPos(),xx.getDir(),ROOT.TLorentzVector(),xx.getCharge(),aTrack.getFitStatus().getNdf()]</div>
<div class="line"><span class="lineno"> 5208</span>            mom = xx.getMom()</div>
<div class="line"><span class="lineno"> 5209</span>            E = ROOT.TMath.Sqrt( mass*mass + mom.Mag2() )</div>
<div class="line"><span class="lineno"> 5210</span>            PosDir[tr][2].SetPxPyPzE(mom.x(),mom.y(),mom.z(),E)</div>
<div class="line"><span class="lineno"> 5211</span>            tr+=1</div>
<div class="line"><span class="lineno"> 5212</span>        <span class="keywordflow">for</span> tr1 <span class="keywordflow">in</span> range(tr-1):</div>
<div class="line"><span class="lineno"> 5213</span>            <span class="keywordflow">for</span> tr2 <span class="keywordflow">in</span> range(tr1+1,tr):</div>
<div class="line"><span class="lineno"> 5214</span>                xv,yv,zv,doca = myVertex(0,1,PosDir)</div>
<div class="line"><span class="lineno"> 5215</span>                V0Mom = PosDir[0][2]+PosDir[1][2]</div>
<div class="line"><span class="lineno"> 5216</span>                rc = h[<span class="stringliteral">&#39;doca&#39;</span>].Fill(doca)</div>
<div class="line"><span class="lineno"> 5217</span>                <span class="keywordflow">print</span> n,doca,zv,V0Mom.M(),PosDir[0][3],PosDir[1][3],PosDir[0][4],PosDir[1][4]</div>
<div class="line"><span class="lineno"> 5218</span>                <span class="keywordflow">if</span> doca &gt; 5: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5219</span>                <span class="keywordflow">if</span> PosDir[tr1][3]*PosDir[tr2][3]&lt; 0: rc = h[<span class="stringliteral">&#39;v0mass&#39;</span>].Fill(V0Mom.M(),zv)</div>
<div class="line"><span class="lineno"> 5220</span>                <span class="keywordflow">else</span>: rc = h[<span class="stringliteral">&#39;v0mass_wc&#39;</span>].Fill(V0Mom.M(),zv)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac440b75558af5f5269b7176f72a8cfba" name="ac440b75558af5f5269b7176f72a8cfba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac440b75558af5f5269b7176f72a8cfba">&#9670;&#160;</a></span>fitTrack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.fitTrack </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hitlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Pstart</em> = <code>3.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02017">2017</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2017</span><span class="keyword">def </span>fitTrack(hitlist,Pstart=3.):</div>
<div class="line"><span class="lineno"> 2018</span><span class="comment"># need measurements</span></div>
<div class="line"><span class="lineno"> 2019</span>    <span class="keyword">global</span> fitter</div>
<div class="line"><span class="lineno"> 2020</span>    hitPosLists={}</div>
<div class="line"><span class="lineno"> 2021</span>    trID = 0</div>
<div class="line"><span class="lineno"> 2022</span>    posM = ROOT.TVector3(0, 0, 20.)</div>
<div class="line"><span class="lineno"> 2023</span>    momM = ROOT.TVector3(0,0,Pstart*u.GeV)</div>
<div class="line"><span class="lineno"> 2024</span><span class="comment"># approximate covariance</span></div>
<div class="line"><span class="lineno"> 2025</span>    covM = ROOT.TMatrixDSym(6)</div>
<div class="line"><span class="lineno"> 2026</span>    resolution   = sigma_spatial</div>
<div class="line"><span class="lineno"> 2027</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> withTDC: resolution = 10*sigma_spatial</div>
<div class="line"><span class="lineno"> 2028</span>    <span class="keywordflow">for</span>  i <span class="keywordflow">in</span> range(3):   covM[i][i] = resolution*resolution</div>
<div class="line"><span class="lineno"> 2029</span>    <span class="comment"># covM[0][0]=resolution*resolution*100.</span></div>
<div class="line"><span class="lineno"> 2030</span>    <span class="keywordflow">for</span>  i <span class="keywordflow">in</span> range(3,6): covM[i][i] = ROOT.TMath.Power(resolution / (4.*2.) / ROOT.TMath.Sqrt(3), 2)</div>
<div class="line"><span class="lineno"> 2031</span>    rep = ROOT.genfit.RKTrackRep(13)</div>
<div class="line"><span class="lineno"> 2032</span><span class="comment"># start state</span></div>
<div class="line"><span class="lineno"> 2033</span>    state = ROOT.genfit.MeasuredStateOnPlane(rep)</div>
<div class="line"><span class="lineno"> 2034</span>    rep.setPosMomCov(state, posM, momM, covM)</div>
<div class="line"><span class="lineno"> 2035</span><span class="comment"># create track</span></div>
<div class="line"><span class="lineno"> 2036</span>    seedState = ROOT.TVectorD(6)</div>
<div class="line"><span class="lineno"> 2037</span>    seedCov   = ROOT.TMatrixDSym(6)</div>
<div class="line"><span class="lineno"> 2038</span>    rep.get6DStateCov(state, seedState, seedCov)</div>
<div class="line"><span class="lineno"> 2039</span>    theTrack = ROOT.genfit.Track(rep, seedState, seedCov)</div>
<div class="line"><span class="lineno"> 2040</span>    unSortedList = {}</div>
<div class="line"><span class="lineno"> 2041</span>    tmpList = {}</div>
<div class="line"><span class="lineno"> 2042</span>    k=0</div>
<div class="line"><span class="lineno"> 2043</span>    <span class="keywordflow">if</span> MCdata: detIDToKey = MakeKeysToDThits()</div>
<div class="line"><span class="lineno"> 2044</span>    <span class="keywordflow">else</span>: detIDToKey=MakeKeysToDThits(cuts[<span class="stringliteral">&#39;lateArrivalsToT&#39;</span>])</div>
<div class="line"><span class="lineno"> 2045</span>    <span class="keywordflow">for</span> nhit <span class="keywordflow">in</span> hitlist:</div>
<div class="line"><span class="lineno"> 2046</span>        numHit = 0</div>
<div class="line"><span class="lineno"> 2047</span>        <span class="keywordflow">if</span> type(nhit)==type(1):   </div>
<div class="line"><span class="lineno"> 2048</span>            hit = sTree.Digi_MufluxSpectrometerHits[nhit]</div>
<div class="line"><span class="lineno"> 2049</span>            numHit = nhit</div>
<div class="line"><span class="lineno"> 2050</span>        <span class="keywordflow">else</span>:    hit = nhit</div>
<div class="line"><span class="lineno"> 2051</span>        tdc = hit.GetDigi()</div>
<div class="line"><span class="lineno"> 2052</span>        <span class="keywordflow">if</span> type(nhit)!=type(1):   </div>
<div class="line"><span class="lineno"> 2053</span>            detID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 2054</span>            keyList = detIDToKey[detID]</div>
<div class="line"><span class="lineno"> 2055</span>            numHit  = keyList[0]</div>
<div class="line"><span class="lineno"> 2056</span>            <span class="keywordflow">if</span> len(keyList)&gt;2:</div>
<div class="line"><span class="lineno"> 2057</span>                found = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2058</span>                tdc = hit.GetDigi()</div>
<div class="line"><span class="lineno"> 2059</span>                <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(1,len(keyList)):</div>
<div class="line"><span class="lineno"> 2060</span>                    numHit = keyList[x]</div>
<div class="line"><span class="lineno"> 2061</span>                    <span class="keywordflow">if</span> sTree.Digi_MufluxSpectrometerHits[numHit].GetDigi()==tdc:</div>
<div class="line"><span class="lineno"> 2062</span>                        found = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2063</span>                        <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 2064</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> found: <span class="keywordflow">print</span> <span class="stringliteral">&quot;fittrack: digi not found, something wrong here&quot;</span>,tdc</div>
<div class="line"><span class="lineno"> 2065</span>        vbot,vtop = strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 2066</span>        s,v,p,l,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 2067</span>        distance = 0</div>
<div class="line"><span class="lineno"> 2068</span>        <span class="keywordflow">if</span> withTDC: distance = RT(hit,tdc)</div>
<div class="line"><span class="lineno"> 2069</span>        tmp = array(<span class="stringliteral">&#39;d&#39;</span>,[vtop[0],vtop[1],vtop[2],vbot[0],vbot[1],vbot[2],distance])</div>
<div class="line"><span class="lineno"> 2070</span>        unSortedList[k] = [ROOT.TVectorD(7,tmp),hit.GetDetectorID(),numHit,view]</div>
<div class="line"><span class="lineno"> 2071</span>        tmpList[k] = vtop[2]</div>
<div class="line"><span class="lineno"> 2072</span>        k+=1</div>
<div class="line"><span class="lineno"> 2073</span>    sorted_z = sorted(tmpList.items(), key=operator.itemgetter(1))</div>
<div class="line"><span class="lineno"> 2074</span>    <span class="keywordflow">for</span> k <span class="keywordflow">in</span> sorted_z:</div>
<div class="line"><span class="lineno"> 2075</span>        tp = ROOT.genfit.TrackPoint() <span class="comment"># note how the point is told which track it belongs to</span></div>
<div class="line"><span class="lineno"> 2076</span>        hitCov = ROOT.TMatrixDSym(7)</div>
<div class="line"><span class="lineno"> 2077</span>        hitCov[6][6] = resolution*resolution</div>
<div class="line"><span class="lineno"> 2078</span>        <span class="comment"># if unSortedList[k[0]][3] != &#39;_x&#39;: hitCov[6][6] = 4*resolution*resolution</span></div>
<div class="line"><span class="lineno"> 2079</span>        measurement = ROOT.genfit.WireMeasurement(unSortedList[k[0]][0],hitCov,1,6,tp) <span class="comment"># the measurement is told which trackpoint it belongs to</span></div>
<div class="line"><span class="lineno"> 2080</span>        measurement.setMaxDistance(ShipGeo.MufluxSpectrometer.InnerTubeDiameter/2.)</div>
<div class="line"><span class="lineno"> 2081</span>        measurement.setDetId(unSortedList[k[0]][1])</div>
<div class="line"><span class="lineno"> 2082</span>        <span class="comment"># if Debug: print &quot;trackfit add detid&quot;,unSortedList[k[0]][1],unSortedList[k[0]][0][6]</span></div>
<div class="line"><span class="lineno"> 2083</span>        measurement.setHitId(unSortedList[k[0]][2])</div>
<div class="line"><span class="lineno"> 2084</span>        tp.addRawMeasurement(measurement) <span class="comment"># package measurement in the TrackPoint                                          </span></div>
<div class="line"><span class="lineno"> 2085</span>        theTrack.insertPoint(tp)  <span class="comment"># add point to Track</span></div>
<div class="line"><span class="lineno"> 2086</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> theTrack.checkConsistency():</div>
<div class="line"><span class="lineno"> 2087</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;track not consistent&quot;</span></div>
<div class="line"><span class="lineno"> 2088</span>        theTrack.Delete()</div>
<div class="line"><span class="lineno"> 2089</span>        <span class="keywordflow">return</span> -2</div>
<div class="line"><span class="lineno"> 2090</span><span class="comment"># do the fit</span></div>
<div class="line"><span class="lineno"> 2091</span>    timer.Start()</div>
<div class="line"><span class="lineno"> 2092</span>    <span class="keywordflow">try</span>:  fitter.processTrack(theTrack) <span class="comment"># processTrackWithRep(theTrack,rep,True)</span></div>
<div class="line"><span class="lineno"> 2093</span>    <span class="keywordflow">except</span>:   </div>
<div class="line"><span class="lineno"> 2094</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;fit failed&quot;</span></div>
<div class="line"><span class="lineno"> 2095</span>        timer.Stop()</div>
<div class="line"><span class="lineno"> 2096</span>        theTrack.Delete()</div>
<div class="line"><span class="lineno"> 2097</span>        <span class="keywordflow">return</span> -1</div>
<div class="line"><span class="lineno"> 2098</span>        <span class="comment"># print &quot;time to fit the track&quot;,timer.RealTime()</span></div>
<div class="line"><span class="lineno"> 2099</span>    <span class="keywordflow">if</span> timer.RealTime()&gt;1: <span class="comment"># make a new fitter, didn&#39;t helped</span></div>
<div class="line"><span class="lineno"> 2100</span>        error =  <span class="stringliteral">&quot;fitTrack::very long fit time %8.6F  %6i&quot;</span>%(timer.RealTime(),len(hitlist))</div>
<div class="line"><span class="lineno"> 2101</span>        ut.reportError(error)</div>
<div class="line"><span class="lineno"> 2102</span>        <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> error</div>
<div class="line"><span class="lineno"> 2103</span>    fitStatus   = theTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 2104</span>    <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> <span class="stringliteral">&quot;Fit result: converged chi2 Ndf&quot;</span>,fitStatus.isFitConverged(),fitStatus.getChi2(),fitStatus.getNdf()</div>
<div class="line"><span class="lineno"> 2105</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitStatus.isFitConverged():</div>
<div class="line"><span class="lineno"> 2106</span>        theTrack.Delete()</div>
<div class="line"><span class="lineno"> 2107</span>        <span class="keywordflow">return</span> -1</div>
<div class="line"><span class="lineno"> 2108</span>    <span class="keywordflow">if</span> Debug: </div>
<div class="line"><span class="lineno"> 2109</span>        chi2 = fitStatus.getChi2()/fitStatus.getNdf()</div>
<div class="line"><span class="lineno"> 2110</span>        fittedState = theTrack.getFittedState()</div>
<div class="line"><span class="lineno"> 2111</span>        P = fittedState.getMomMag()</div>
<div class="line"><span class="lineno"> 2112</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;track fitted Ndf #Meas P&quot;</span>,fitStatus.getNdf(), theTrack.getNumPointsWithMeasurement(),P</div>
<div class="line"><span class="lineno"> 2113</span>        <span class="keywordflow">for</span> p <span class="keywordflow">in</span> theTrack.getPointsWithMeasurement():</div>
<div class="line"><span class="lineno"> 2114</span>            rawM = p.getRawMeasurement()</div>
<div class="line"><span class="lineno"> 2115</span>            info = p.getFitterInfo()</div>
<div class="line"><span class="lineno"> 2116</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> info: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2117</span>            detID = rawM.getDetId()</div>
<div class="line"><span class="lineno"> 2118</span>            test = ROOT.MufluxSpectrometerHit(detID,0.)</div>
<div class="line"><span class="lineno"> 2119</span>            s,v,p,l,view,channelID,tdcId,nRT = stationInfo(test)</div>
<div class="line"><span class="lineno"> 2120</span>            <span class="keywordflow">print</span> s,view,2*p+l,channelID,<span class="stringliteral">&quot;weights&quot;</span>,info.getWeights()[0],info.getWeights()[1]</div>
<div class="line"><span class="lineno"> 2121</span>    <span class="keywordflow">if</span> fitStatus.getNdf() &lt; cuts[<span class="stringliteral">&#39;Ndf&#39;</span>]:</div>
<div class="line"><span class="lineno"> 2122</span>        theTrack.Delete()</div>
<div class="line"><span class="lineno"> 2123</span>        <span class="keywordflow">return</span> -2 </div>
<div class="line"><span class="lineno"> 2124</span>    <span class="keywordflow">return</span> theTrack</div>
<div class="line"><span class="lineno"> 2125</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a98ab9001f1252252aee4d2549637d992" name="a98ab9001f1252252aee4d2549637d992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ab9001f1252252aee4d2549637d992">&#9670;&#160;</a></span>fitTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.fitTracks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nMax</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>simpleEvents</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>withDisplay</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nStart</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>debug</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PR</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>withRT</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chi2UL</em> = <code>3</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01871">1871</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1871</span><span class="keyword">def </span>fitTracks(nMax=-1,simpleEvents=True,withDisplay=False,nStart=0,debug=False,PR=1,withRT=False,chi2UL=3):</div>
<div class="line"><span class="lineno"> 1872</span><span class="comment"># simpleEvents=True: select special clean events for testing track fit</span></div>
<div class="line"><span class="lineno"> 1873</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;p/px&#39;</span>,<span class="stringliteral">&#39;p/Abspx&#39;</span>,<span class="stringliteral">&#39;Nmeasurements&#39;</span>,<span class="stringliteral">&#39;chi2&#39;</span>,<span class="stringliteral">&#39;xy&#39;</span>,<span class="stringliteral">&#39;pxpy&#39;</span>,<span class="stringliteral">&#39;TDC2R&#39;</span>,<span class="stringliteral">&#39;p1/p2&#39;</span>,<span class="stringliteral">&#39;pt1/pt2&#39;</span>,</div>
<div class="line"><span class="lineno"> 1874</span>              <span class="stringliteral">&#39;p/ptmu&#39;</span>,<span class="stringliteral">&#39;p/pxmu&#39;</span>,<span class="stringliteral">&#39;p/Abspxmu&#39;</span>,<span class="stringliteral">&#39;Nmeasurementsmu&#39;</span>,<span class="stringliteral">&#39;chi2mu&#39;</span>,<span class="stringliteral">&#39;xymu&#39;</span>,<span class="stringliteral">&#39;pxpymu&#39;</span>]: h[x].Reset()</div>
<div class="line"><span class="lineno"> 1875</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> withDisplay <span class="keywordflow">and</span> <span class="keywordflow">not</span> Debug <span class="keywordflow">and</span> <span class="keywordflow">not</span> simpleEvents:</div>
<div class="line"><span class="lineno"> 1876</span>        muflux_Reco.trackKinematics(3.)</div>
<div class="line"><span class="lineno"> 1877</span>        momDisplay()</div>
<div class="line"><span class="lineno"> 1878</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1879</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(nStart,sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 1880</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 1881</span>        <span class="keywordflow">if</span> MCdata:</div>
<div class="line"><span class="lineno"> 1882</span>            <span class="keywordflow">if</span> sTree.Digi_MufluxSpectrometerHits.GetEntries() != sTree.MufluxSpectrometerPoint.GetEntries():</div>
<div class="line"><span class="lineno"> 1883</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;digi does not agree with MC, break&quot;</span>,n</div>
<div class="line"><span class="lineno"> 1884</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1885</span>                <span class="keywordflow">if</span> PR&lt;10 <span class="keywordflow">and</span> sTree.ShipEventHeader.GetUniqueID()==1: <span class="keywordflow">continue</span> <span class="comment"># non reconstructed events </span></div>
<div class="line"><span class="lineno"> 1886</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> withDisplay <span class="keywordflow">and</span> n%10000==0: <span class="keywordflow">print</span> <span class="stringliteral">&quot;event #&quot;</span>,n</div>
<div class="line"><span class="lineno"> 1887</span>        <span class="keywordflow">if</span> nMax==0: <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1888</span>        <span class="keywordflow">if</span> simpleEvents <span class="keywordflow">and</span> simpleEvents&lt;2:</div>
<div class="line"><span class="lineno"> 1889</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> findSimpleEvent(sTree): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1890</span>        <span class="keywordflow">if</span> withDisplay:</div>
<div class="line"><span class="lineno"> 1891</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;event #&quot;</span>,n</div>
<div class="line"><span class="lineno"> 1892</span>            plotEvent(n)</div>
<div class="line"><span class="lineno"> 1893</span>        theTracks = findTracks(PR)</div>
<div class="line"><span class="lineno"> 1894</span>        <span class="keywordflow">if</span> simpleEvents==2 <span class="keywordflow">and</span> len(theTracks)&lt;simpleEvents: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1895</span>        RPCclusters, RPCtracks = muonTaggerClustering(PR)</div>
<div class="line"><span class="lineno"> 1896</span>        <span class="keywordflow">if</span> withDisplay: plotMuonTaggerTrack(RPCtracks)</div>
<div class="line"><span class="lineno"> 1897</span>        N = -1</div>
<div class="line"><span class="lineno"> 1898</span>        <span class="keywordflow">if</span> len(theTracks)&gt;0:</div>
<div class="line"><span class="lineno"> 1899</span>            <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> theTracks:</div>
<div class="line"><span class="lineno"> 1900</span>                N+=1</div>
<div class="line"><span class="lineno"> 1901</span>                fitStatus   = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 1902</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitStatus.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1903</span><span class="comment"># track quality</span></div>
<div class="line"><span class="lineno"> 1904</span>                <span class="keywordflow">if</span> PR&lt;10: hitsPerStation = countMeasurements(N,PR)</div>
<div class="line"><span class="lineno"> 1905</span>                <span class="keywordflow">else</span>:     hitsPerStation = countMeasurements(aTrack,PR)</div>
<div class="line"><span class="lineno"> 1906</span>                <span class="keywordflow">if</span> len(hitsPerStation[<span class="stringliteral">&#39;x1&#39;</span>])&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1907</span>                <span class="keywordflow">if</span> len(hitsPerStation[<span class="stringliteral">&#39;x2&#39;</span>])&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1908</span>                <span class="keywordflow">if</span> len(hitsPerStation[<span class="stringliteral">&#39;x3&#39;</span>])&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1909</span>                <span class="keywordflow">if</span> len(hitsPerStation[<span class="stringliteral">&#39;x4&#39;</span>])&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1910</span>                chi2 = fitStatus.getChi2()/fitStatus.getNdf()</div>
<div class="line"><span class="lineno"> 1911</span>                fittedState = aTrack.getFittedState()</div>
<div class="line"><span class="lineno"> 1912</span>                P = fittedState.getMomMag()</div>
<div class="line"><span class="lineno"> 1913</span>                Px,Py,Pz = fittedState.getMom().x(),fittedState.getMom().y(),fittedState.getMom().z()</div>
<div class="line"><span class="lineno"> 1914</span>                <span class="keywordflow">if</span> Debug:</div>
<div class="line"><span class="lineno"> 1915</span>                    <span class="keywordflow">if</span> abs(Py/Pz)&gt;0.15: <span class="keywordflow">print</span> <span class="stringliteral">&#39;event with large angle track:&#39;</span>,n</div>
<div class="line"><span class="lineno"> 1916</span>                rc = h[<span class="stringliteral">&#39;chi2&#39;</span>].Fill(chi2)</div>
<div class="line"><span class="lineno"> 1917</span>                rc = h[<span class="stringliteral">&#39;Nmeasurements&#39;</span>].Fill(fitStatus.getNdf())</div>
<div class="line"><span class="lineno"> 1918</span>                <span class="keywordflow">if</span> chi2 &gt; chi2UL: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1919</span>                rc = h[<span class="stringliteral">&#39;p/pt&#39;</span>].Fill(P,ROOT.TMath.Sqrt(Px*Px+Py*Py))</div>
<div class="line"><span class="lineno"> 1920</span>                rc = h[<span class="stringliteral">&#39;p/px&#39;</span>].Fill(P,Px)</div>
<div class="line"><span class="lineno"> 1921</span>                rc = h[<span class="stringliteral">&#39;p/Abspx&#39;</span>].Fill(P,abs(Px))</div>
<div class="line"><span class="lineno"> 1922</span>                pos = fittedState.getPos()</div>
<div class="line"><span class="lineno"> 1923</span>                rc = h[<span class="stringliteral">&#39;xy&#39;</span>].Fill(pos[0],pos[1])</div>
<div class="line"><span class="lineno"> 1924</span>                rc = h[<span class="stringliteral">&#39;pxpy&#39;</span>].Fill(Px/Pz,Py/Pz)</div>
<div class="line"><span class="lineno"> 1925</span><span class="comment"># check for muon tag</span></div>
<div class="line"><span class="lineno"> 1926</span>                rc,posRPC,momRPC = extrapolateToPlane(aTrack,zRPC1)</div>
<div class="line"><span class="lineno"> 1927</span>                <span class="keywordflow">if</span> rc:</div>
<div class="line"><span class="lineno"> 1928</span>                    tagged = {<span class="stringliteral">&#39;X&#39;</span>:<span class="keyword">False</span>,<span class="stringliteral">&#39;Y&#39;</span>:<span class="keyword">False</span>}</div>
<div class="line"><span class="lineno"> 1929</span>                    <span class="keywordflow">for</span> proj <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1930</span>                        <span class="keywordflow">for</span> m <span class="keywordflow">in</span> RPCtracks[proj]:</div>
<div class="line"><span class="lineno"> 1931</span>                            <span class="keywordflow">if</span> abs(posRPC[0]-m[0]*zRPC1+m[1]) &lt; cuts[<span class="stringliteral">&#39;muTrackMatch&#39;</span>+proj]: tagged[proj]=<span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1932</span>                    <span class="keywordflow">if</span> tagged[<span class="stringliteral">&#39;X&#39;</span>] <span class="keywordflow">and</span> tagged[<span class="stringliteral">&#39;Y&#39;</span>] : <span class="comment"># within ~3sigma of any mutrack</span></div>
<div class="line"><span class="lineno"> 1933</span>                        rc = h[<span class="stringliteral">&#39;chi2mu&#39;</span>].Fill(chi2)</div>
<div class="line"><span class="lineno"> 1934</span>                        rc = h[<span class="stringliteral">&#39;Nmeasurementsmu&#39;</span>].Fill(fitStatus.getNdf())</div>
<div class="line"><span class="lineno"> 1935</span>                        rc = h[<span class="stringliteral">&#39;p/ptmu&#39;</span>].Fill(P,ROOT.TMath.Sqrt(Px*Px+Py*Py))</div>
<div class="line"><span class="lineno"> 1936</span>                        rc = h[<span class="stringliteral">&#39;p/pxmu&#39;</span>].Fill(P,Px)</div>
<div class="line"><span class="lineno"> 1937</span>                        rc = h[<span class="stringliteral">&#39;p/Abspxmu&#39;</span>].Fill(P,abs(Px))</div>
<div class="line"><span class="lineno"> 1938</span>                        rc = h[<span class="stringliteral">&#39;xymu&#39;</span>].Fill(pos[0],pos[1])</div>
<div class="line"><span class="lineno"> 1939</span>                        rc = h[<span class="stringliteral">&#39;pxpymu&#39;</span>].Fill(Px/Pz,Py/Pz)</div>
<div class="line"><span class="lineno"> 1940</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1941</span>                <span class="keywordflow">if</span> len(theTracks)==2 <span class="keywordflow">and</span> N==0:</div>
<div class="line"><span class="lineno"> 1942</span>                    bTrack = theTracks[1]</div>
<div class="line"><span class="lineno"> 1943</span>                    fitStatus   = bTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 1944</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitStatus.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1945</span>                    chi2 = fitStatus.getChi2()/fitStatus.getNdf()</div>
<div class="line"><span class="lineno"> 1946</span>                    fittedState = bTrack.getFittedState()</div>
<div class="line"><span class="lineno"> 1947</span>                    Pb = fittedState.getMomMag()</div>
<div class="line"><span class="lineno"> 1948</span>                    Pbx,Pby,Pbz = fittedState.getMom().x(),fittedState.getMom().y(),fittedState.getMom().z()</div>
<div class="line"><span class="lineno"> 1949</span>                    <span class="keywordflow">if</span> chi2 &gt; chi2UL: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1950</span>                    rc = h[<span class="stringliteral">&#39;p1/p2&#39;</span>].Fill(P,Pb)</div>
<div class="line"><span class="lineno"> 1951</span>                    rc = h[<span class="stringliteral">&#39;pt1/pt2&#39;</span>].Fill(ROOT.TMath.Sqrt(Px*Px+Py*Py),ROOT.TMath.Sqrt(Pbx*Pbx+Pby*Pby))</div>
<div class="line"><span class="lineno"> 1952</span>            <span class="keywordflow">if</span> withRT:</div>
<div class="line"><span class="lineno"> 1953</span>                <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno"> 1954</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.hasTimeOverThreshold(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1955</span>                    rc = RT(hit,hit.GetDigi())</div>
<div class="line"><span class="lineno"> 1956</span>        <span class="keywordflow">if</span> withDisplay:</div>
<div class="line"><span class="lineno"> 1957</span>            <span class="keywordflow">for</span> theTrack <span class="keywordflow">in</span> theTracks:</div>
<div class="line"><span class="lineno"> 1958</span>                fitStatus   = theTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 1959</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitStatus.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1960</span>                displayTrack(theTrack,debug)</div>
<div class="line"><span class="lineno"> 1961</span>            next = raw_input(<span class="stringliteral">&quot;Next (Ret/Quit): &quot;</span>)         </div>
<div class="line"><span class="lineno"> 1962</span>            <span class="keywordflow">if</span> next&lt;&gt;<span class="stringliteral">&#39;&#39;</span>:  <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1963</span>        <span class="keywordflow">if</span> len(theTracks)&gt;0: nMax-=1</div>
<div class="line"><span class="lineno"> 1964</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(theTracks,<span class="stringliteral">&#39;Class&#39;</span>):</div>
<div class="line"><span class="lineno"> 1965</span>            <span class="keywordflow">for</span> theTrack <span class="keywordflow">in</span> theTracks:   theTrack.Delete()</div>
<div class="line"><span class="lineno"> 1966</span>    momDisplay()</div>
</div><!-- fragment -->
</div>
</div>
<a id="a494d83c54d8c3bc0358a82dd2f8dd143" name="a494d83c54d8c3bc0358a82dd2f8dd143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a494d83c54d8c3bc0358a82dd2f8dd143">&#9670;&#160;</a></span>getEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.getEvent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05221">5221</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5221</span><span class="keyword">def </span>getEvent(n):</div>
<div class="line"><span class="lineno"> 5222</span>    <span class="keyword">global</span> rname</div>
<div class="line"><span class="lineno"> 5223</span>    rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 5224</span>    <span class="keywordflow">if</span> sTree.GetListOfFiles().GetEntries()&gt;1:</div>
<div class="line"><span class="lineno"> 5225</span>        temp = sTree.GetCurrentFile().GetName()</div>
<div class="line"><span class="lineno"> 5226</span>        curFile = temp[temp.rfind(<span class="stringliteral">&#39;/&#39;</span>)+1:]</div>
<div class="line"><span class="lineno"> 5227</span>        <span class="keywordflow">if</span> curFile != rname:</div>
<div class="line"><span class="lineno"> 5228</span>            rname = curFile</div>
<div class="line"><span class="lineno"> 5229</span>            <span class="keywordflow">if</span> withTDC:</div>
<div class="line"><span class="lineno"> 5230</span>                h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>] = RTrelations[rname][<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]</div>
<div class="line"><span class="lineno"> 5231</span>                <span class="keywordflow">for</span> s <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]: h[<span class="stringliteral">&#39;rt&#39;</span>+s] = RTrelations[rname][<span class="stringliteral">&#39;rt&#39;</span>+s]</div>
<div class="line"><span class="lineno"> 5232</span>            <span class="keywordflow">if</span> withDefaultAlignment: importAlignmentConstants()</div>
<div class="line"><span class="lineno"> 5233</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a00f1fd47113a2e29efde7388f9510e82" name="a00f1fd47113a2e29efde7388f9510e82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f1fd47113a2e29efde7388f9510e82">&#9670;&#160;</a></span>getParOfRTcorrectio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.getParOfRTcorrectio </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07548">7548</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7548</span><span class="keyword">def </span>getParOfRTcorrectio():</div>
<div class="line"><span class="lineno"> 7549</span> keys = h.keys()</div>
<div class="line"><span class="lineno"> 7550</span> <span class="keywordflow">for</span> x <span class="keywordflow">in</span> keys:</div>
<div class="line"><span class="lineno"> 7551</span>        <span class="keywordflow">if</span> x.find(<span class="stringliteral">&#39;RTcorr&#39;</span>)!=0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7552</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> x.find(<span class="stringliteral">&#39;LR&#39;</span>)&lt;0 <span class="keywordflow">or</span> <span class="keywordflow">not</span> x.find(<span class="stringliteral">&#39;Par&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7553</span>        txt = <span class="stringliteral">&quot;    pars[&#39;&quot;</span>+x+<span class="stringliteral">&quot;&#39;] = [&quot;</span></div>
<div class="line"><span class="lineno"> 7554</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> h[x+<span class="stringliteral">&#39;Par&#39;</span>+x]:</div>
<div class="line"><span class="lineno"> 7555</span>           txt+=<span class="stringliteral">&quot; %7.5F, &quot;</span>%(x)</div>
<div class="line"><span class="lineno"> 7556</span>        txt+=<span class="stringliteral">&#39;]&#39;</span></div>
<div class="line"><span class="lineno"> 7557</span>        <span class="keywordflow">print</span> txt.replace(<span class="stringliteral">&#39;, ]&#39;</span>,<span class="stringliteral">&#39;]&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="acddbe4ce38cf4c3f384bdc4f80872219" name="acddbe4ce38cf4c3f384bdc4f80872219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acddbe4ce38cf4c3f384bdc4f80872219">&#9670;&#160;</a></span>getSlopes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.getSlopes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cl1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cl2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>view</em> = <code>'_x'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02126">2126</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2126</span><span class="keyword">def </span>getSlopes(cl1,cl2,view=&#39;_x&#39;):</div>
<div class="line"><span class="lineno"> 2127</span>    x,z=[],[]</div>
<div class="line"><span class="lineno"> 2128</span>    <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> [cl1,cl2]:</div>
<div class="line"><span class="lineno"> 2129</span>        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> cl:</div>
<div class="line"><span class="lineno"> 2130</span>            <span class="keywordflow">if</span> view==<span class="stringliteral">&#39;_x&#39;</span>:</div>
<div class="line"><span class="lineno"> 2131</span>                x.append(hit[1])</div>
<div class="line"><span class="lineno"> 2132</span>                z.append(hit[2])</div>
<div class="line"><span class="lineno"> 2133</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2134</span>                x.append(cl[hit][3])</div>
<div class="line"><span class="lineno"> 2135</span>                z.append(cl[hit][4])</div>
<div class="line"><span class="lineno"> 2136</span>    line = numpy.polyfit(z,x,1)</div>
<div class="line"><span class="lineno"> 2137</span>    <span class="keywordflow">return</span> line[0],line[1]</div>
<div class="line"><span class="lineno"> 2138</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af5d0e552b032f5973511c6840c42a373" name="af5d0e552b032f5973511c6840c42a373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d0e552b032f5973511c6840c42a373">&#9670;&#160;</a></span>ghostFraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.ghostFraction </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aTrack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02280">2280</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2280</span><span class="keyword">def </span>ghostFraction(aTrack):</div>
<div class="line"><span class="lineno"> 2281</span>    trackIDs = {}</div>
<div class="line"><span class="lineno"> 2282</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> aTrack.getPointsWithMeasurement():</div>
<div class="line"><span class="lineno"> 2283</span>        rawM = p.getRawMeasurement()</div>
<div class="line"><span class="lineno"> 2284</span>        info = p.getFitterInfo()</div>
<div class="line"><span class="lineno"> 2285</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> info: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2286</span>        <span class="keywordflow">if</span> info.getWeights()[0] &lt;0.1 <span class="keywordflow">and</span> info.getWeights()[1] &lt;0.1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2287</span>        detID   = rawM.getDetId()</div>
<div class="line"><span class="lineno"> 2288</span>        theKey  = rawM.getHitId()</div>
<div class="line"><span class="lineno"> 2289</span>        trackID = sTree.MufluxSpectrometerPoint[theKey].GetTrackID()</div>
<div class="line"><span class="lineno"> 2290</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> trackIDs.has_key(trackID): trackIDs[trackID]=0</div>
<div class="line"><span class="lineno"> 2291</span>        trackIDs[trackID]+=1</div>
<div class="line"><span class="lineno"> 2292</span>    sorted_trackIDs = sorted(trackIDs.items(), key=operator.itemgetter(1),reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 2293</span>    sz = trackIDs.values()</div>
<div class="line"><span class="lineno"> 2294</span>    ghFrac = 1.-sorted_trackIDs[0][1]/float(sum(sz))</div>
<div class="line"><span class="lineno"> 2295</span>    <span class="keywordflow">return</span> ghFrac,sorted_trackIDs[0][0]</div>
<div class="line"><span class="lineno"> 2296</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a8d62bbcad987b3be4fdc035cb818e6" name="a3a8d62bbcad987b3be4fdc035cb818e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a8d62bbcad987b3be4fdc035cb818e6">&#9670;&#160;</a></span>ghostSuppression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.ghostSuppression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hname</em> = <code>&quot;sumHistos--simulation10GeV-withDeadChannels.root&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05808">5808</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5808</span><span class="keyword">def </span>ghostSuppression(hname = &quot;sumHistos--simulation10GeV-withDeadChannels.root&quot;):</div>
<div class="line"><span class="lineno"> 5809</span>    interestingHistos = []</div>
<div class="line"><span class="lineno"> 5810</span>    cuts = {<span class="stringliteral">&#39;&#39;</span>:ROOT.kBlue,<span class="stringliteral">&#39;All&#39;</span>:ROOT.kCyan,<span class="stringliteral">&#39;Chi2&lt;&#39;</span>:ROOT.kGreen,<span class="stringliteral">&#39;Delx&lt;&#39;</span>:ROOT.kOrange,<span class="stringliteral">&#39;Dely&lt;&#39;</span>:ROOT.kMagenta}</div>
<div class="line"><span class="lineno"> 5811</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> cuts:</div>
<div class="line"><span class="lineno"> 5812</span>        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;Chi2/DoF&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5813</span>            <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5814</span>                interestingHistos.append(c+a+x)</div>
<div class="line"><span class="lineno"> 5815</span>    ut.readHists(h,hname,interestingHistos)</div>
<div class="line"><span class="lineno"> 5816</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> cuts:</div>
<div class="line"><span class="lineno"> 5817</span>        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;Chi2/DoF&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5818</span>            <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5819</span>                h[c+a+x].SetLineColor(cuts[c])</div>
<div class="line"><span class="lineno"> 5820</span>                h[c+a+x+<span class="stringliteral">&#39;_projx&#39;</span>].SetLineColor(cuts[c])</div>
<div class="line"><span class="lineno"> 5821</span>                h[c+a+x+<span class="stringliteral">&#39;2d&#39;</span>] = h[c+<span class="stringliteral">&#39;p/pt&#39;</span>+x].Rebin2D(10,10,c+a+x+<span class="stringliteral">&#39;2d&#39;</span>)</div>
<div class="line"><span class="lineno"> 5822</span>                h[c+a+x+<span class="stringliteral">&#39;_projy&#39;</span>].SetLineColor(cuts[c])</div>
<div class="line"><span class="lineno"> 5823</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5824</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;==== &quot;</span>,x</div>
<div class="line"><span class="lineno"> 5825</span>        ntracks = {}</div>
<div class="line"><span class="lineno"> 5826</span>        <span class="keywordflow">for</span> c <span class="keywordflow">in</span> cuts:</div>
<div class="line"><span class="lineno"> 5827</span>            ntracks[c] = h[c+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_projx&#39;</span>].Integral(5,15)</div>
<div class="line"><span class="lineno"> 5828</span>            h[c+x] = h[c+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_projx&#39;</span>].Clone(c+x)</div>
<div class="line"><span class="lineno"> 5829</span>            <span class="keywordflow">if</span> c==<span class="stringliteral">&#39;&#39;</span>:  </div>
<div class="line"><span class="lineno"> 5830</span>                h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_projx&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 5831</span>            <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 5832</span>                h[c+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_projx&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 5833</span>                h[c+x].Divide(h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_projx&#39;</span>])</div>
<div class="line"><span class="lineno"> 5834</span>                h[c+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;2d&#39;</span>].Divide(h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;2d&#39;</span>])</div>
<div class="line"><span class="lineno"> 5835</span>        <span class="keywordflow">for</span> c <span class="keywordflow">in</span> ntracks:</div>
<div class="line"><span class="lineno"> 5836</span>            <span class="keywordflow">if</span> c==<span class="stringliteral">&#39;&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5837</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s efficiency=%5.3F&quot;</span>%(c,ntracks[c]/ntracks[<span class="stringliteral">&#39;&#39;</span>])</div>
<div class="line"><span class="lineno"> 5838</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f77eb275500d665697b3b6c46d7a84d" name="a2f77eb275500d665697b3b6c46d7a84d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f77eb275500d665697b3b6c46d7a84d">&#9670;&#160;</a></span>grouper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.grouper </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iterable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>grouping</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04831">4831</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4831</span><span class="keyword">def </span>grouper(iterable,grouping):</div>
<div class="line"><span class="lineno"> 4832</span>    prev = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 4833</span>    group = []</div>
<div class="line"><span class="lineno"> 4834</span>    iterable.sort()</div>
<div class="line"><span class="lineno"> 4835</span>    <span class="keywordflow">for</span> item <span class="keywordflow">in</span> iterable:</div>
<div class="line"><span class="lineno"> 4836</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> prev <span class="keywordflow">or</span> item - prev &lt;= grouping:</div>
<div class="line"><span class="lineno"> 4837</span>            group.append(item)</div>
<div class="line"><span class="lineno"> 4838</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 4839</span>            <span class="keywordflow">yield</span> group</div>
<div class="line"><span class="lineno"> 4840</span>            group = [item]</div>
<div class="line"><span class="lineno"> 4841</span>        prev = item</div>
<div class="line"><span class="lineno"> 4842</span>    <span class="keywordflow">if</span> group:</div>
<div class="line"><span class="lineno"> 4843</span>        <span class="keywordflow">yield</span> group</div>
</div><!-- fragment -->
</div>
</div>
<a id="aed59ff09c9ec3cf0d6f096f580459bea" name="aed59ff09c9ec3cf0d6f096f580459bea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed59ff09c9ec3cf0d6f096f580459bea">&#9670;&#160;</a></span>hitMapsFromFittedTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.hitMapsFromFittedTracks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01168">1168</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1168</span><span class="keyword">def </span>hitMapsFromFittedTracks():</div>
<div class="line"><span class="lineno"> 1169</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 1170</span>        <span class="keywordflow">for</span> p <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 1171</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(2): </div>
<div class="line"><span class="lineno"> 1172</span>                xLayers[s][p][l][<span class="stringliteral">&#39;_x&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 1173</span>                <span class="keywordflow">if</span> s==1: xLayers[s][p][l][<span class="stringliteral">&#39;_u&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 1174</span>                <span class="keywordflow">if</span> s==2: xLayers[s][p][l][<span class="stringliteral">&#39;_v&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 1175</span>    <span class="keywordflow">for</span> event <span class="keywordflow">in</span> sTree:</div>
<div class="line"><span class="lineno"> 1176</span>        nt = -1</div>
<div class="line"><span class="lineno"> 1177</span>        <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> event.FitTracks:</div>
<div class="line"><span class="lineno"> 1178</span>            nt+=1</div>
<div class="line"><span class="lineno"> 1179</span>            fst = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 1180</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> fst.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1181</span>            sta = aTrack.getFittedState(0)</div>
<div class="line"><span class="lineno"> 1182</span>            <span class="keywordflow">if</span> sta.getMomMag() &lt; 5.: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1183</span>            trInfo = event.TrackInfos[nt]</div>
<div class="line"><span class="lineno"> 1184</span>            <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(trInfo.N()):</div>
<div class="line"><span class="lineno"> 1185</span>                <span class="keywordflow">if</span> trInfo.wL(n) &lt;0.1 <span class="keywordflow">and</span> trInfo.wR(n) &lt;0.1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1186</span>                detID = trInfo.detId(n)</div>
<div class="line"><span class="lineno"> 1187</span>                hit = ROOT.MufluxSpectrometerHit(detID,0)</div>
<div class="line"><span class="lineno"> 1188</span>                s,v,p,l,view,channelID,tdcId,mdoduleId = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 1189</span>                rc = xLayers[s][p][l][view].Fill(channelID)</div>
<div class="line"><span class="lineno"> 1190</span>    ut.writeHists(h,<span class="stringliteral">&#39;histos-HitmapsFromFittedTracks-&#39;</span>+rname)</div>
</div><!-- fragment -->
</div>
</div>
<a id="af9f1517641a06d9e5ca1e9b33899a01f" name="af9f1517641a06d9e5ca1e9b33899a01f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9f1517641a06d9e5ca1e9b33899a01f">&#9670;&#160;</a></span>hitResolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.hitResolution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04107">4107</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4107</span><span class="keyword">def </span>hitResolution():</div>
<div class="line"><span class="lineno"> 4108</span>    ut.bookHist(h,<span class="stringliteral">&#39;hitResol&#39;</span>,<span class="stringliteral">&#39;hit resolution&#39;</span>,100,-0.5,0.5)</div>
<div class="line"><span class="lineno"> 4109</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 4110</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 4111</span>        <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(sTree.Digi_MufluxSpectrometerHits.GetEntries()):</div>
<div class="line"><span class="lineno"> 4112</span>            hit = sTree.Digi_MufluxSpectrometerHits[k]</div>
<div class="line"><span class="lineno"> 4113</span>            trueHit = sTree.MufluxSpectrometerPoint[k]</div>
<div class="line"><span class="lineno"> 4114</span>            hit.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno"> 4115</span>            TDC = hit.GetDigi() - (vtop[0]-trueHit.GetX())/(ROOT.TMath.C() *100./1000000000.0)</div>
<div class="line"><span class="lineno"> 4116</span>            distance = RT(<span class="stringliteral">&#39;x&#39;</span>,TDC)</div>
<div class="line"><span class="lineno"> 4117</span>            h[<span class="stringliteral">&#39;hitResol&#39;</span>].Fill(distance - trueHit.dist2Wire())</div>
</div><!-- fragment -->
</div>
</div>
<a id="ada45bf1dc9b69f15e8d54d85052618f5" name="ada45bf1dc9b69f15e8d54d85052618f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada45bf1dc9b69f15e8d54d85052618f5">&#9670;&#160;</a></span>importAlignmentConstants()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.importAlignmentConstants </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05286">5286</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5286</span><span class="keyword">def </span>importAlignmentConstants():</div>
<div class="line"><span class="lineno"> 5287</span>    <span class="keyword">global</span> alignConstants</div>
<div class="line"><span class="lineno"> 5288</span>    alignConstants = {}</div>
<div class="line"><span class="lineno"> 5289</span>    RPCPosition()</div>
<div class="line"><span class="lineno"> 5290</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> sTree.GetCurrentFile().Get(<span class="stringliteral">&#39;alignConstants&#39;</span>) <span class="keywordflow">or</span> withCorrections:</div>
<div class="line"><span class="lineno"> 5291</span>        <span class="keywordflow">for</span> straw <span class="keywordflow">in</span> xpos:</div>
<div class="line"><span class="lineno"> 5292</span>            hit = ROOT.MufluxSpectrometerHit(straw,0.)</div>
<div class="line"><span class="lineno"> 5293</span>            strawPositionsBotTop[hit.GetDetectorID()]=correctAlignment(hit)</div>
<div class="line"><span class="lineno"> 5294</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;importing alignment constants from code&quot;</span></div>
<div class="line"><span class="lineno"> 5295</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 5296</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 5297</span>        alignConstants = ast.literal_eval(json.dumps((conditionsDB.get_condition_by_name_and_tag(<span class="stringliteral">&quot;muflux/driftTubes&quot;</span>, <span class="stringliteral">&quot;alignConstants&quot;</span>, <span class="stringliteral">&quot;TUE2019&quot;</span>))[<span class="stringliteral">&quot;values&quot;</span>]))</div>
<div class="line"><span class="lineno"> 5298</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;importing alignment constants from file&quot;</span>,sTree.GetCurrentFile().GetName()</div>
<div class="line"><span class="lineno"> 5299</span>        strawPosition()</div>
<div class="line"><span class="lineno"> 5300</span>    <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno"> 5301</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;loading of alignment constants failed for file&quot;</span>,sTree.GetCurrentFile().GetName()</div>
</div><!-- fragment -->
</div>
</div>
<a id="af1033010ffa71f9afefc7db0c616609b" name="af1033010ffa71f9afefc7db0c616609b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1033010ffa71f9afefc7db0c616609b">&#9670;&#160;</a></span>importRTCorrection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.importRTCorrection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05318">5318</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5318</span><span class="keyword">def </span>importRTCorrection():</div>
<div class="line"><span class="lineno"> 5319</span>    pars = {}</div>
<div class="line"><span class="lineno"> 5320</span>    pars[<span class="stringliteral">&#39;RTcorr_3_x2&#39;</span>] = [ 0.00831,  -0.07374,  0.02906,  0.00208]</div>
<div class="line"><span class="lineno"> 5321</span>    pars[<span class="stringliteral">&#39;RTcorr_3_x3&#39;</span>] = [ 0.00681,  -0.07238,  0.02892,  0.00166]</div>
<div class="line"><span class="lineno"> 5322</span>    pars[<span class="stringliteral">&#39;RTcorr_3_x0&#39;</span>] = [ 0.01101,  -0.09078,  0.04499,  -0.00141]</div>
<div class="line"><span class="lineno"> 5323</span>    pars[<span class="stringliteral">&#39;RTcorr_3_x1&#39;</span>] = [ 0.01742,  -0.09704,  0.05228,  -0.00443]</div>
<div class="line"><span class="lineno"> 5324</span>    pars[<span class="stringliteral">&#39;RTcorr_1_x0&#39;</span>] = [ 0.01154,  -0.12568,  0.05343,  0.00328]</div>
<div class="line"><span class="lineno"> 5325</span>    pars[<span class="stringliteral">&#39;RTcorr_1_x1&#39;</span>] = [ 0.01198,  -0.12964,  0.06247,  -0.00039]</div>
<div class="line"><span class="lineno"> 5326</span>    pars[<span class="stringliteral">&#39;RTcorr_1_x2&#39;</span>] = [ 0.01161,  -0.12784,  0.06131,  -0.00023]</div>
<div class="line"><span class="lineno"> 5327</span>    pars[<span class="stringliteral">&#39;RTcorr_1_x3&#39;</span>] = [ 0.01347,  -0.13834,  0.07343,  -0.00372]</div>
<div class="line"><span class="lineno"> 5328</span>    pars[<span class="stringliteral">&#39;RTcorr_4_x3&#39;</span>] = [ 0.01728,  -0.10018,  0.04357,  0.00202]</div>
<div class="line"><span class="lineno"> 5329</span>    pars[<span class="stringliteral">&#39;RTcorr_4_x2&#39;</span>] = [ 0.00721,  -0.09512,  0.04784,  0.00004]</div>
<div class="line"><span class="lineno"> 5330</span>    pars[<span class="stringliteral">&#39;RTcorr_4_x1&#39;</span>] = [ 0.00657,  -0.09035,  0.04213,  0.00092]</div>
<div class="line"><span class="lineno"> 5331</span>    pars[<span class="stringliteral">&#39;RTcorr_4_x0&#39;</span>] = [ 0.00574,  -0.08853,  0.03935,  0.00204]</div>
<div class="line"><span class="lineno"> 5332</span>    pars[<span class="stringliteral">&#39;RTcorr_2_x1&#39;</span>] = [ 0.00924,  -0.12481,  0.06797,  -0.00409]</div>
<div class="line"><span class="lineno"> 5333</span>    pars[<span class="stringliteral">&#39;RTcorr_2_x0&#39;</span>] = [ 0.02527,  -0.14195,  0.07045,  -0.00305]</div>
<div class="line"><span class="lineno"> 5334</span>    pars[<span class="stringliteral">&#39;RTcorr_2_x3&#39;</span>] = [ 0.00816,  -0.11859,  0.06268,  -0.00366]</div>
<div class="line"><span class="lineno"> 5335</span>    pars[<span class="stringliteral">&#39;RTcorr_2_x2&#39;</span>] = [ 0.00889,  -0.11218,  0.04914,  0.00214]</div>
<div class="line"><span class="lineno"> 5336</span>    pars[<span class="stringliteral">&#39;RTcorr_2_v3&#39;</span>] = [ 0.00148,  -0.08058,  0.01316,  0.01340]</div>
<div class="line"><span class="lineno"> 5337</span>    pars[<span class="stringliteral">&#39;RTcorr_2_v2&#39;</span>] = [ 0.00443,  -0.08887,  0.01707,  0.01278]</div>
<div class="line"><span class="lineno"> 5338</span>    pars[<span class="stringliteral">&#39;RTcorr_2_v1&#39;</span>] = [ 0.01399,  -0.11404,  0.04792,  0.00191]</div>
<div class="line"><span class="lineno"> 5339</span>    pars[<span class="stringliteral">&#39;RTcorr_2_v0&#39;</span>] = [ 0.00164,  -0.10222,  0.03695,  0.00631]</div>
<div class="line"><span class="lineno"> 5340</span>    pars[<span class="stringliteral">&#39;RTcorr_1_u3&#39;</span>] = [ 0.01792,  -0.11791,  0.04498,  0.00483]</div>
<div class="line"><span class="lineno"> 5341</span>    pars[<span class="stringliteral">&#39;RTcorr_1_u2&#39;</span>] = [ 0.00220,  -0.09611,  0.04685,  0.00020]</div>
<div class="line"><span class="lineno"> 5342</span>    pars[<span class="stringliteral">&#39;RTcorr_1_u1&#39;</span>] = [ -0.00148,  -0.07691,  0.00984,  0.01453]</div>
<div class="line"><span class="lineno"> 5343</span>    pars[<span class="stringliteral">&#39;RTcorr_1_u0&#39;</span>] = [ 0.00043,  -0.07272,  0.01027,  0.01312]</div>
<div class="line"><span class="lineno"> 5344</span>    pars[<span class="stringliteral">&#39;RTcorr&#39;</span>] = [ 0.00863,  -0.10303,  0.04328,  0.00299]</div>
<div class="line"><span class="lineno"> 5345</span>    h[<span class="stringliteral">&#39;RTcorr&#39;</span>] = ROOT.TGraph()</div>
<div class="line"><span class="lineno"> 5346</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 5347</span>      <span class="keywordflow">for</span> view <span class="keywordflow">in</span> views[s]:</div>
<div class="line"><span class="lineno"> 5348</span>        <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 5349</span>          fun = <span class="stringliteral">&#39;RTcorrFun_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 5350</span>          h[fun]=ROOT.TF1(fun,<span class="stringliteral">&#39;[0]+[1]*x+[2]*x*x+[3]*x*x*x&#39;</span>,4)</div>
<div class="line"><span class="lineno"> 5351</span>          <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(4): h[fun].SetParameter(k,pars[fun.replace(<span class="stringliteral">&#39;Fun&#39;</span>,<span class="stringliteral">&#39;&#39;</span>)][k])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e9486cd0f16eb49682dc8081bae47ab" name="a2e9486cd0f16eb49682dc8081bae47ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e9486cd0f16eb49682dc8081bae47ab">&#9670;&#160;</a></span>importRTrel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.importRTrel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05302">5302</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5302</span><span class="keyword">def </span>importRTrel():</div>
<div class="line"><span class="lineno"> 5303</span>    <span class="keywordflow">for</span> fname <span class="keywordflow">in</span> fnames:</div>
<div class="line"><span class="lineno"> 5304</span>        <span class="keywordflow">if</span> len(fnames)==1: f=sTree.GetCurrentFile()</div>
<div class="line"><span class="lineno"> 5305</span>        <span class="keywordflow">else</span>:   f = ROOT.TFile.Open(fname)</div>
<div class="line"><span class="lineno"> 5306</span>        rname = fname[fname.rfind(<span class="stringliteral">&#39;/&#39;</span>)+1:]</div>
<div class="line"><span class="lineno"> 5307</span>        upkl    = Unpickler(f)</div>
<div class="line"><span class="lineno"> 5308</span>        RTrelations[rname]={}</div>
<div class="line"><span class="lineno"> 5309</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 5310</span>            RTrelations[rname][<span class="stringliteral">&#39;tMinAndTmax&#39;</span>] = upkl.load(<span class="stringliteral">&#39;tMinAndTmax&#39;</span>)</div>
<div class="line"><span class="lineno"> 5311</span>            <span class="keywordflow">for</span> x <span class="keywordflow">in</span> RTrelations[rname][<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]: RTrelations[rname][<span class="stringliteral">&#39;rt&#39;</span>+x]=f.RT.Get(<span class="stringliteral">&#39;rt&#39;</span>+x)</div>
<div class="line"><span class="lineno"> 5312</span>            h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>] = RTrelations[rname][<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]</div>
<div class="line"><span class="lineno"> 5313</span>            <span class="keywordflow">for</span> s <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]: h[<span class="stringliteral">&#39;rt&#39;</span>+s] = RTrelations[rname][<span class="stringliteral">&#39;rt&#39;</span>+s]</div>
<div class="line"><span class="lineno"> 5314</span>        <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno"> 5315</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;loading of RT failed for file&quot;</span>,rname</div>
<div class="line"><span class="lineno"> 5316</span>        <span class="keywordflow">if</span> len(fnames)!=1: f.Close()</div>
<div class="line"><span class="lineno"> 5317</span>    importRTCorrection()</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b27234c24b3779836e499ce281c7ae2" name="a5b27234c24b3779836e499ce281c7ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b27234c24b3779836e499ce281c7ae2">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.init </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>database</em> = <code>'muflux_RTrelations.pkl'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>remake</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>withReco</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05378">5378</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5378</span><span class="keyword">def </span>init(database=&#39;muflux_RTrelations.pkl&#39;,remake=False,withReco=False):</div>
<div class="line"><span class="lineno"> 5379</span>    <span class="keyword">global</span> withTDC,RTrelations</div>
<div class="line"><span class="lineno"> 5380</span>    <span class="keywordflow">if</span> os.path.exists(database): RTrelations = pickle.load(open(database))</div>
<div class="line"><span class="lineno"> 5381</span>    N = sTree.GetEntries()</div>
<div class="line"><span class="lineno"> 5382</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> RTrelations.has_key(rname) <span class="keywordflow">or</span> remake:</div>
<div class="line"><span class="lineno"> 5383</span>        withTDC = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 5384</span>        sTree.SetBranchStatus(<span class="stringliteral">&quot;FitTracks&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5385</span>        plotBiasedResiduals(PR=11)</div>
<div class="line"><span class="lineno"> 5386</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;start making RT relations&quot;</span></div>
<div class="line"><span class="lineno"> 5387</span>        makeRTrelations() <span class="comment"># should be done after first pass with track reco, requires large number of events &gt; 10000</span></div>
<div class="line"><span class="lineno"> 5388</span>        RTrelations[rname] =  {<span class="stringliteral">&#39;tMinAndTmax&#39;</span>:h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]}</div>
<div class="line"><span class="lineno"> 5389</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]: RTrelations[rname][<span class="stringliteral">&#39;rt&#39;</span>+s] = h[<span class="stringliteral">&#39;rt&#39;</span>+s]</div>
<div class="line"><span class="lineno"> 5390</span>        fpkl=open(database,<span class="stringliteral">&#39;w&#39;</span>)</div>
<div class="line"><span class="lineno"> 5391</span>        pickle.dump(RTrelations,fpkl)</div>
<div class="line"><span class="lineno"> 5392</span>        fpkl.close()</div>
<div class="line"><span class="lineno"> 5393</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5394</span>        h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>] = RTrelations[rname][<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]</div>
<div class="line"><span class="lineno"> 5395</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]: h[<span class="stringliteral">&#39;rt&#39;</span>+s] = RTrelations[rname][<span class="stringliteral">&#39;rt&#39;</span>+s]</div>
<div class="line"><span class="lineno"> 5396</span>    withTDC = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 5397</span>    <span class="keywordflow">if</span> withReco:</div>
<div class="line"><span class="lineno"> 5398</span>        plotBiasedResiduals(PR=13)</div>
<div class="line"><span class="lineno"> 5399</span>        plotRPCExtrap(PR=13)</div>
<div class="line"><span class="lineno"> 5400</span>        ut.writeHists(h,<span class="stringliteral">&#39;histos-&#39;</span>+rname,plusCanvas=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 5401</span><span class="comment">#</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2192bbcd06bb53aaf320fd29f4cbb011" name="a2192bbcd06bb53aaf320fd29f4cbb011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2192bbcd06bb53aaf320fd29f4cbb011">&#9670;&#160;</a></span>investigateActiveArea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.investigateActiveArea </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03136">3136</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3136</span><span class="keyword">def </span>investigateActiveArea():</div>
<div class="line"><span class="lineno"> 3137</span>    r = 1.815</div>
<div class="line"><span class="lineno"> 3138</span>    h[<span class="stringliteral">&#39;biasResDist2_projx&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 3139</span>    h[<span class="stringliteral">&#39;tubeLine&#39;</span>]=ROOT.TLine(r,0,r,2000)</div>
<div class="line"><span class="lineno"> 3140</span>    h[<span class="stringliteral">&#39;tubeLine&#39;</span>].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 3141</span>    h[<span class="stringliteral">&#39;tubeLine&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 3142</span>    h[<span class="stringliteral">&#39;tubeLineX&#39;</span>]=ROOT.TLine(r-0.19,0,r-0.19,2000)</div>
<div class="line"><span class="lineno"> 3143</span>    h[<span class="stringliteral">&#39;tubeLineX&#39;</span>].SetLineColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 3144</span>    h[<span class="stringliteral">&#39;tubeLineX&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 3145</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad15128f44510ac8babfd98bf521cc34d" name="ad15128f44510ac8babfd98bf521cc34d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad15128f44510ac8babfd98bf521cc34d">&#9670;&#160;</a></span>loopTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.loopTracks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>w</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04600">4600</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4600</span><span class="keyword">def </span>loopTracks(r,w):</div>
<div class="line"><span class="lineno"> 4601</span>    os.close(r) </div>
<div class="line"><span class="lineno"> 4602</span>    w = os.fdopen(w, <span class="stringliteral">&#39;w&#39;</span>) </div>
<div class="line"><span class="lineno"> 4603</span>    chisq=0</div>
<div class="line"><span class="lineno"> 4604</span>    <span class="keywordflow">for</span> Nr <span class="keywordflow">in</span> listOfTracks:</div>
<div class="line"><span class="lineno"> 4605</span>        rc=sTree.GetEvent(Nr)</div>
<div class="line"><span class="lineno"> 4606</span>        hitlist = listOfTracks[Nr]</div>
<div class="line"><span class="lineno"> 4607</span>        aTrack = fitTrack(hitlist,1.)</div>
<div class="line"><span class="lineno"> 4608</span>        <span class="keywordflow">if</span> type(aTrack) != type(1):</div>
<div class="line"><span class="lineno"> 4609</span>            fitStatus = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 4610</span>            chisq+=fitStatus.getChi2()/fitStatus.getNdf()</div>
<div class="line"><span class="lineno"> 4611</span>        <span class="keywordflow">else</span>: chisq+=10</div>
<div class="line"><span class="lineno"> 4612</span>    chisq = chisq/len(listOfTracks)</div>
<div class="line"><span class="lineno"> 4613</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;chisq=&quot;</span>,chisq</div>
<div class="line"><span class="lineno"> 4614</span>    w.write(str(chisq))</div>
<div class="line"><span class="lineno"> 4615</span>    w.close()</div>
<div class="line"><span class="lineno"> 4616</span>    os._exit(0)</div>
<div class="line"><span class="lineno"> 4617</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ecdd3a78b48b8e44c396fd088c596e4" name="a4ecdd3a78b48b8e44c396fd088c596e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ecdd3a78b48b8e44c396fd088c596e4">&#9670;&#160;</a></span>makeAlignmentConstantsPersistent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.makeAlignmentConstantsPersistent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05274">5274</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5274</span><span class="keyword">def </span>makeAlignmentConstantsPersistent():</div>
<div class="line"><span class="lineno"> 5275</span>    ftemp=sTree.GetCurrentFile()</div>
<div class="line"><span class="lineno"> 5276</span>    ftemp.cd(<span class="stringliteral">&#39;histos&#39;</span>)</div>
<div class="line"><span class="lineno"> 5277</span>    momDisplay()</div>
<div class="line"><span class="lineno"> 5278</span>    h[<span class="stringliteral">&#39;mom&#39;</span>].Write()</div>
<div class="line"><span class="lineno"> 5279</span>    strawPositionsP = {}</div>
<div class="line"><span class="lineno"> 5280</span>    <span class="keywordflow">for</span> straw <span class="keywordflow">in</span> xpos:</div>
<div class="line"><span class="lineno"> 5281</span>        vbot,vtop = strawPositionsBotTop[straw]</div>
<div class="line"><span class="lineno"> 5282</span>        strawPositionsP[straw]={<span class="stringliteral">&#39;top&#39;</span>:[vtop[0],vtop[1],vtop[2]],<span class="stringliteral">&#39;bot&#39;</span>:[vbot[0],vbot[1],vbot[2]]}</div>
<div class="line"><span class="lineno"> 5283</span>    alignConstants={<span class="stringliteral">&#39;strawPositions&#39;</span>:strawPositionsP,<span class="stringliteral">&#39;alignCorrection&#39;</span>:alignCorrection}</div>
<div class="line"><span class="lineno"> 5284</span>    conditionsDB.add_condition(<span class="stringliteral">&quot;muflux/driftTubes&quot;</span>, <span class="stringliteral">&quot;alignConstants&quot;</span>, <span class="stringliteral">&quot;TUE2019&quot;</span>, <span class="stringliteral">&quot;2020-03-24&quot;</span>, loads(dumps(alignConstants)))</div>
<div class="line"><span class="lineno"> 5285</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a46be27668e307beb6f5dd17ffdad37cc" name="a46be27668e307beb6f5dd17ffdad37cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46be27668e307beb6f5dd17ffdad37cc">&#9670;&#160;</a></span>makeFit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.makeFit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04641">4641</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4641</span><span class="keyword">def </span>makeFit():</div>
<div class="line"><span class="lineno"> 4642</span><span class="comment"># new idea, first loop over N events, store hits of all track candidates</span></div>
<div class="line"><span class="lineno"> 4643</span><span class="comment"># then make loop over tracks and fit, sum track chi2</span></div>
<div class="line"><span class="lineno"> 4644</span>    <span class="keywordflow">for</span> Nr <span class="keywordflow">in</span> range(50000):</div>
<div class="line"><span class="lineno"> 4645</span>        rc = sTree.GetEvent(Nr)</div>
<div class="line"><span class="lineno"> 4646</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> findSimpleEvent(sTree): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4647</span>        track_hits = testPR(onlyHits=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 4648</span>        <span class="keywordflow">if</span> len(track_hits)!=1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4649</span>        listOfTracks[Nr]= []</div>
<div class="line"><span class="lineno"> 4650</span>        <span class="keywordflow">for</span> nhit <span class="keywordflow">in</span> track_hits[0]: listOfTracks[Nr].append(nhit)</div>
<div class="line"><span class="lineno"> 4651</span>    npar = 24</div>
<div class="line"><span class="lineno"> 4652</span>    ierflg  = ROOT.Long(0)</div>
<div class="line"><span class="lineno"> 4653</span>    gMinuit = ROOT.TMinuit(npar) <span class="comment"># https://root.cern.ch/download/minuit.pdf</span></div>
<div class="line"><span class="lineno"> 4654</span>    gMinuit.SetFCN(FCN)</div>
<div class="line"><span class="lineno"> 4655</span>    gMinuit.SetErrorDef(0.5)</div>
<div class="line"><span class="lineno"> 4656</span>    vstart  = array(<span class="stringliteral">&#39;d&#39;</span>,[0]*npar)</div>
<div class="line"><span class="lineno"> 4657</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> range(16):</div>
<div class="line"><span class="lineno"> 4658</span>        vstart[p] = alignCorrection[p][0]</div>
<div class="line"><span class="lineno"> 4659</span>    p = 0</div>
<div class="line"><span class="lineno"> 4660</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> [<span class="stringliteral">&#39;T1_x&#39;</span>,<span class="stringliteral">&#39;T1_u&#39;</span>,<span class="stringliteral">&#39;T2_v&#39;</span>,<span class="stringliteral">&#39;T2_x&#39;</span>,<span class="stringliteral">&#39;T3_x&#39;</span>,<span class="stringliteral">&#39;T4_x&#39;</span>]:</div>
<div class="line"><span class="lineno"> 4661</span>        <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 4662</span>            gMinuit.mnparm(p, s+str(l), vstart[p], 0.5, 0.,0.,ierflg)</div>
<div class="line"><span class="lineno"> 4663</span>            p+=1</div>
<div class="line"><span class="lineno"> 4664</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> range(4,24):gMinuit.FixParameter(p)</div>
<div class="line"><span class="lineno"> 4665</span>    strat = array(<span class="stringliteral">&#39;d&#39;</span>,[0])</div>
<div class="line"><span class="lineno"> 4666</span>    gMinuit.mnexcm(<span class="stringliteral">&quot;SET STR&quot;</span>,strat,1,ierflg) <span class="comment"># 0 faster, 2 more reliable</span></div>
<div class="line"><span class="lineno"> 4667</span>    gMinuit.mnexcm(<span class="stringliteral">&quot;SIMPLEX&quot;</span>,vstart,npar,ierflg)</div>
<div class="line"><span class="lineno"> 4668</span>    gMinuit.mnexcm(<span class="stringliteral">&quot;MIGRAD&quot;</span>,vstart,npar,ierflg)</div>
<div class="line"><span class="lineno"> 4669</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8719f27e171bc0d8c606e74f454568ab" name="a8719f27e171bc0d8c606e74f454568ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8719f27e171bc0d8c606e74f454568ab">&#9670;&#160;</a></span>MakeKeysToDThits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.MakeKeysToDThits </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>minToT</em> = <code>-999</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01080">1080</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1080</span><span class="keyword">def </span>MakeKeysToDThits(minToT=-999):</div>
<div class="line"><span class="lineno"> 1081</span>    keysToDThits={}</div>
<div class="line"><span class="lineno"> 1082</span>    key = -1</div>
<div class="line"><span class="lineno"> 1083</span>    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno"> 1084</span>        key+=1</div>
<div class="line"><span class="lineno"> 1085</span>        <span class="comment">#if not hit.hasTimeOverThreshold(): continue</span></div>
<div class="line"><span class="lineno"> 1086</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.isValid() <span class="keywordflow">and</span> MCdata: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1087</span>        detID=hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 1088</span>        <span class="keywordflow">if</span> detID&lt;0: <span class="keywordflow">continue</span> <span class="comment"># feature for converted data in February&#39;19</span></div>
<div class="line"><span class="lineno"> 1089</span>        <span class="keywordflow">if</span> keysToDThits.has_key(detID):</div>
<div class="line"><span class="lineno"> 1090</span>            prevTDC = sTree.Digi_MufluxSpectrometerHits[keysToDThits[detID][0]].GetDigi()</div>
<div class="line"><span class="lineno"> 1091</span>            prevToT = sTree.Digi_MufluxSpectrometerHits[keysToDThits[detID][0]].GetTimeOverThreshold()</div>
<div class="line"><span class="lineno"> 1092</span>            <span class="comment"># print &quot;MakeKeysToDThits, non unique Digi_MufluxSpectrometerHits&quot;,detID,hit.GetDigi(),hit.GetTimeOverThreshold(),hit.hasTimeOverThreshold(),prevTDC,prevToT</span></div>
<div class="line"><span class="lineno"> 1093</span>            <span class="keywordflow">if</span> hit.hasTimeOverThreshold(): keysToDThits[detID]=[key]</div>
<div class="line"><span class="lineno"> 1094</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1095</span>            keysToDThits[detID]=[key]</div>
<div class="line"><span class="lineno"> 1096</span>    key = -1</div>
<div class="line"><span class="lineno"> 1097</span>    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_LateMufluxSpectrometerHits:</div>
<div class="line"><span class="lineno"> 1098</span>        key+=1</div>
<div class="line"><span class="lineno"> 1099</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.isValid() <span class="keywordflow">and</span> MCdata: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1100</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.hasTimeOverThreshold(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1101</span>        <span class="keywordflow">if</span> hit.GetTimeOverThreshold()&lt;minToT : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1102</span>        detID=hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 1103</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> keysToDThits.has_key(detID): </div>
<div class="line"><span class="lineno"> 1104</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;MakeKeysToDThits, late hit but no first one&quot;</span>,detID</div>
<div class="line"><span class="lineno"> 1105</span>            keysToDThits[detID]=[-1]</div>
<div class="line"><span class="lineno"> 1106</span>        keysToDThits[detID].append(key)</div>
<div class="line"><span class="lineno"> 1107</span>    <span class="keywordflow">return</span> keysToDThits</div>
<div class="line"><span class="lineno"> 1108</span> </div>
<div class="line"><span class="lineno"> 1109</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e16d8b2dd3fe96851489e92562c4615" name="a1e16d8b2dd3fe96851489e92562c4615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e16d8b2dd3fe96851489e92562c4615">&#9670;&#160;</a></span>makeLinearExtrapolations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.makeLinearExtrapolations </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t1t2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t3t4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02798">2798</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2798</span><span class="keyword">def </span>makeLinearExtrapolations(t1t2,t3t4):</div>
<div class="line"><span class="lineno"> 2799</span>    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno"> 2800</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.hasTimeOverThreshold(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2801</span>        <span class="keywordflow">if</span> hit.GetDetectorID() <span class="keywordflow">in</span> noisyChannels:  <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2802</span>        s,v,p,l,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 2803</span>        <span class="keywordflow">if</span> view != <span class="stringliteral">&#39;_x&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2804</span>        vbot,vtop = strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 2805</span>        z = (vbot[2]+vtop[2])/2.</div>
<div class="line"><span class="lineno"> 2806</span>        x = (vbot[0]+vtop[0])/2.</div>
<div class="line"><span class="lineno"> 2807</span>        <span class="keywordflow">if</span> s &lt; 3: track = t3t4</div>
<div class="line"><span class="lineno"> 2808</span>        <span class="keywordflow">else</span>:     track = t1t2</div>
<div class="line"><span class="lineno"> 2809</span>        delX = x - (track[3]*z+track[4])</div>
<div class="line"><span class="lineno"> 2810</span>        h[<span class="stringliteral">&#39;linearRes&#39;</span>+str(s)+view+str(2*p+l)].Fill(delX,x)</div>
<div class="line"><span class="lineno"> 2811</span>    track = t3t4</div>
<div class="line"><span class="lineno"> 2812</span>    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MuonTaggerHits:</div>
<div class="line"><span class="lineno"> 2813</span>        channelID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 2814</span>        s  = channelID/10000</div>
<div class="line"><span class="lineno"> 2815</span>        v  = (channelID-10000*s)/1000</div>
<div class="line"><span class="lineno"> 2816</span>        <span class="keywordflow">if</span> v!=1: <span class="keywordflow">continue</span> <span class="comment"># only x info</span></div>
<div class="line"><span class="lineno"> 2817</span>        vtop,vbot = RPCPositionsBotTop[channelID]</div>
<div class="line"><span class="lineno"> 2818</span>        z = (vtop[2]+vbot[2])/2.</div>
<div class="line"><span class="lineno"> 2819</span>        x = (vtop[0]+vbot[0])/2.</div>
<div class="line"><span class="lineno"> 2820</span>        delX = x - (track[3]*z+track[4])</div>
<div class="line"><span class="lineno"> 2821</span>        h[<span class="stringliteral">&#39;RPCResX_&#39;</span>+str(s)+str(v)].Fill(delX,x)</div>
<div class="line"><span class="lineno"> 2822</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af91b2b8f8b82e3c74b6149ccd25c5574" name="af91b2b8f8b82e3c74b6149ccd25c5574"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af91b2b8f8b82e3c74b6149ccd25c5574">&#9670;&#160;</a></span>makeRTrelations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.makeRTrelations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01450">1450</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1450</span><span class="keyword">def </span>makeRTrelations():</div>
<div class="line"><span class="lineno"> 1451</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;RTrelations&#39;</span>): </div>
<div class="line"><span class="lineno"> 1452</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;RTrelations&#39;</span>,title=<span class="stringliteral">&#39;RT relations&#39;</span>,nx=800,ny=500,cx=1,cy=1)</div>
<div class="line"><span class="lineno"> 1453</span>        h[<span class="stringliteral">&#39;RTrelations&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 1454</span>        x = h[<span class="stringliteral">&#39;TDC0&#39;</span>]</div>
<div class="line"><span class="lineno"> 1455</span>        h[<span class="stringliteral">&#39;emptyHist&#39;</span>] = ROOT.TH2F(<span class="stringliteral">&#39;empty&#39;</span>,<span class="stringliteral">&#39; ;[ns];[cm] &#39;</span>,100,x.GetBinCenter(1),x.GetBinCenter(x.GetNbinsX()),100,0.,2.)</div>
<div class="line"><span class="lineno"> 1456</span>        h[<span class="stringliteral">&#39;emptyHist&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 1457</span>        h[<span class="stringliteral">&#39;emptyHist&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1458</span>        extractMinAndMax()    <span class="comment"># this has to run after filling TDC histos from trackfit!!</span></div>
<div class="line"><span class="lineno"> 1459</span>        h[<span class="stringliteral">&#39;legRT&#39;</span>] = ROOT.TLegend(0.76,0.11,0.997,0.869)</div>
<div class="line"><span class="lineno"> 1460</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;TDCMapsX&#39;</span>].GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 1461</span>        <span class="keywordflow">for</span> o <span class="keywordflow">in</span> p.GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 1462</span>            <span class="keywordflow">if</span> o.InheritsFrom(<span class="stringliteral">&#39;TH1&#39;</span>):  extractRTPanda(hname=o.GetName())</div>
<div class="line"><span class="lineno"> 1463</span>    h[<span class="stringliteral">&#39;legRT&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 1464</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5711223520353f104c1db44ecf65c62f" name="a5711223520353f104c1db44ecf65c62f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5711223520353f104c1db44ecf65c62f">&#9670;&#160;</a></span>makeRTrelPersistent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.makeRTrelPersistent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>RTrelations</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05239">5239</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5239</span><span class="keyword">def </span>makeRTrelPersistent(RTrelations):</div>
<div class="line"><span class="lineno"> 5240</span>    <span class="keywordflow">for</span> fname <span class="keywordflow">in</span> fnames:</div>
<div class="line"><span class="lineno"> 5241</span>        rname = fname[fname.rfind(<span class="stringliteral">&#39;/&#39;</span>)+1:]</div>
<div class="line"><span class="lineno"> 5242</span>        newName = rname.replace(<span class="stringliteral">&#39;.root&#39;</span>,<span class="stringliteral">&#39;_RT.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 5243</span>        <span class="keywordflow">if</span> fname.find(<span class="stringliteral">&#39;eos&#39;</span>)&lt;0:</div>
<div class="line"><span class="lineno"> 5244</span>            copyfile(fname,newName)</div>
<div class="line"><span class="lineno"> 5245</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5246</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(10):</div>
<div class="line"><span class="lineno"> 5247</span>                rc = os.system(<span class="stringliteral">&quot;xrdcp -f $EOSSHIP&quot;</span>+fname+<span class="stringliteral">&quot; &quot;</span>+newName)</div>
<div class="line"><span class="lineno"> 5248</span>                <span class="keywordflow">if</span> rc == 0: <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 5249</span>                time.sleep(30)</div>
<div class="line"><span class="lineno"> 5250</span>            <span class="keywordflow">if</span> rc != 0: </div>
<div class="line"><span class="lineno"> 5251</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;Problem with copying file&quot;</span>,fname,rc</div>
<div class="line"><span class="lineno"> 5252</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5253</span>        ftemp = ROOT.TFile.Open(newName,<span class="stringliteral">&#39;update&#39;</span>)</div>
<div class="line"><span class="lineno"> 5254</span>        sTree = ftemp.Get(<span class="stringliteral">&quot;cbmsim&quot;</span>)</div>
<div class="line"><span class="lineno"> 5255</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> sTree:</div>
<div class="line"><span class="lineno"> 5256</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;Problem with making RTrel persistent, file&quot;</span>,ftemp,ftemp.ls()</div>
<div class="line"><span class="lineno"> 5257</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5258</span>        ftemp.cd(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 5259</span>        ftemp.mkdir(<span class="stringliteral">&#39;RT&#39;</span>)</div>
<div class="line"><span class="lineno"> 5260</span>        ftemp.cd(<span class="stringliteral">&#39;RT&#39;</span>)</div>
<div class="line"><span class="lineno"> 5261</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> RTrelations:</div>
<div class="line"><span class="lineno"> 5262</span>            <span class="keywordflow">if</span> s.find(<span class="stringliteral">&#39;rt&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5263</span>            RTrelations[s].Write()</div>
<div class="line"><span class="lineno"> 5264</span>        pkl = Pickler(ftemp)</div>
<div class="line"><span class="lineno"> 5265</span>        pkl.dump(h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>],<span class="stringliteral">&#39;tMinAndTmax&#39;</span>)</div>
<div class="line"><span class="lineno"> 5266</span>        ftemp.cd(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 5267</span>        ftemp.mkdir(<span class="stringliteral">&#39;histos&#39;</span>)</div>
<div class="line"><span class="lineno"> 5268</span>        ftemp.histos.cd(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 5269</span>        h[<span class="stringliteral">&#39;TDCMapsX&#39;</span>].Write()</div>
<div class="line"><span class="lineno"> 5270</span>        h[<span class="stringliteral">&#39;hitMapsX&#39;</span>].Write()</div>
<div class="line"><span class="lineno"> 5271</span>        h[<span class="stringliteral">&quot;RTrelations&quot;</span>].Write()</div>
<div class="line"><span class="lineno"> 5272</span>        ftemp.Write(<span class="stringliteral">&quot;&quot;</span>,ROOT.TFile.kOverwrite)</div>
<div class="line"><span class="lineno"> 5273</span>        ftemp.Close()</div>
</div><!-- fragment -->
</div>
</div>
<a id="a71459cc2bfb4121c028d21ba59bd0737" name="a71459cc2bfb4121c028d21ba59bd0737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71459cc2bfb4121c028d21ba59bd0737">&#9670;&#160;</a></span>matchedRPCHits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.matchedRPCHits </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aTrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxDistance</em> = <code>10.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04135">4135</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4135</span><span class="keyword">def </span>matchedRPCHits(aTrack,maxDistance=10.):</div>
<div class="line"><span class="lineno"> 4136</span>    matchedHits={1:{0:[],1:[]},2:{0:[],1:[]},3:{0:[],1:[]},4:{0:[],1:[]},5:{0:[],1:[]}}</div>
<div class="line"><span class="lineno"> 4137</span>    rc,pos,mom = extrapolateToPlane(aTrack,zRPC1)</div>
<div class="line"><span class="lineno"> 4138</span>    Nmatched = 0</div>
<div class="line"><span class="lineno"> 4139</span>    inAcc    = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 4140</span>    <span class="keywordflow">if</span> rc: </div>
<div class="line"><span class="lineno"> 4141</span>        <span class="keywordflow">if</span> pos[0]&gt;cuts[<span class="stringliteral">&#39;xLRPC1&#39;</span>] <span class="keywordflow">and</span> pos[0]&lt;cuts[<span class="stringliteral">&#39;xRRPC1&#39;</span>] <span class="keywordflow">and</span> pos[1]&gt;cuts[<span class="stringliteral">&#39;yBRPC1&#39;</span>] <span class="keywordflow">and</span> pos[1]&lt;cuts[<span class="stringliteral">&#39;yTRPC1&#39;</span>]:</div>
<div class="line"><span class="lineno"> 4142</span>            inAcc = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 4143</span>        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MuonTaggerHits:</div>
<div class="line"><span class="lineno"> 4144</span>            <span class="keywordflow">if</span> hit.GetDetectorID() <span class="keywordflow">in</span> deadChannelsRPC4MC: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4145</span>            channelID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 4146</span>            s  = channelID/10000</div>
<div class="line"><span class="lineno"> 4147</span>            v  = (channelID-10000*s)/1000</div>
<div class="line"><span class="lineno"> 4148</span>            vtop,vbot = RPCPositionsBotTop[channelID]</div>
<div class="line"><span class="lineno"> 4149</span>            z = (vtop[2]+vbot[2])/2.</div>
<div class="line"><span class="lineno"> 4150</span>            rc,pos,mom = extrapolateToPlane(aTrack,z)</div>
<div class="line"><span class="lineno"> 4151</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 4152</span>                error =  <span class="stringliteral">&quot;RPCextrap: plotRPCExtrap failed&quot;</span></div>
<div class="line"><span class="lineno"> 4153</span>                ut.reportError(error)</div>
<div class="line"><span class="lineno"> 4154</span>                <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> error</div>
<div class="line"><span class="lineno"> 4155</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4156</span>            <span class="keywordflow">if</span> v==0:</div>
<div class="line"><span class="lineno"> 4157</span>                Y = (vtop[1]+vbot[1])/2.</div>
<div class="line"><span class="lineno"> 4158</span>                res = pos[1] - Y</div>
<div class="line"><span class="lineno"> 4159</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 4160</span>                X = (vtop[0]+vbot[0])/2.</div>
<div class="line"><span class="lineno"> 4161</span>                res = pos[0] - X</div>
<div class="line"><span class="lineno"> 4162</span>            <span class="keywordflow">if</span> abs(res)&lt;maxDistance:</div>
<div class="line"><span class="lineno"> 4163</span>                matchedHits[s][v].append(hit)</div>
<div class="line"><span class="lineno"> 4164</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> matchedHits:</div>
<div class="line"><span class="lineno"> 4165</span>            <span class="keywordflow">for</span> v <span class="keywordflow">in</span> matchedHits[s]:</div>
<div class="line"><span class="lineno"> 4166</span>                Nmatched+= len(matchedHits[s][v])</div>
<div class="line"><span class="lineno"> 4167</span>        <span class="keywordflow">return</span> inAcc,Nmatched</div>
<div class="line"><span class="lineno"> 4168</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a968efcd640acaa740d94df4d34d7c704" name="a968efcd640acaa740d94df4d34d7c704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a968efcd640acaa740d94df4d34d7c704">&#9670;&#160;</a></span>materialEffects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.materialEffects </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>switch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01383">1383</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1383</span><span class="keyword">def </span>materialEffects(switch):</div>
<div class="line"><span class="lineno"> 1384</span>    mat = ROOT.genfit.MaterialEffects.getInstance()</div>
<div class="line"><span class="lineno"> 1385</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> switch: </div>
<div class="line"><span class="lineno"> 1386</span>        mat.setNoEffects()</div>
<div class="line"><span class="lineno"> 1387</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1388</span>        mat.setMscModel(<span class="stringliteral">&#39;GEANE&#39;</span>)</div>
<div class="line"><span class="lineno"> 1389</span>        mat.setEnergyLossBetheBloch(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1390</span>        mat.setNoiseBetheBloch(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1391</span>        mat.setNoiseCoulomb(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1392</span>        mat.setEnergyLossBrems(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1393</span>        mat.setNoiseBrems(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1394</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aea4327fcdc0e2c3d8e3eaf6ccc2d0671" name="aea4327fcdc0e2c3d8e3eaf6ccc2d0671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea4327fcdc0e2c3d8e3eaf6ccc2d0671">&#9670;&#160;</a></span>MCchecks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.MCchecks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l06909">6909</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6909</span><span class="keyword">def </span>MCchecks():</div>
<div class="line"><span class="lineno"> 6910</span>    mult={}</div>
<div class="line"><span class="lineno"> 6911</span>    mult[<span class="stringliteral">&#39;0&#39;</span>]=0</div>
<div class="line"><span class="lineno"> 6912</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 6913</span>        rc=sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 6914</span>        <span class="keywordflow">if</span> n%10000==0: <span class="keywordflow">print</span> n</div>
<div class="line"><span class="lineno"> 6915</span>        muon={}</div>
<div class="line"><span class="lineno"> 6916</span>        <span class="keywordflow">for</span> m <span class="keywordflow">in</span> sTree.MCTrack:</div>
<div class="line"><span class="lineno"> 6917</span>            <span class="keywordflow">if</span> abs(m.GetPdgCode())==13:</div>
<div class="line"><span class="lineno"> 6918</span>                mult[<span class="stringliteral">&#39;0&#39;</span>]+=1</div>
<div class="line"><span class="lineno"> 6919</span>                p = m.GetProcName().Data()</div>
<div class="line"><span class="lineno"> 6920</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> muon.has_key(p): muon[p]=0</div>
<div class="line"><span class="lineno"> 6921</span>                muon[p]+=1</div>
<div class="line"><span class="lineno"> 6922</span>        <span class="keywordflow">if</span> len(muon)==0:</div>
<div class="line"><span class="lineno"> 6923</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;MCchecks&quot;</span>,sTree.GetCurrentFile().GetName()</div>
<div class="line"><span class="lineno"> 6924</span>            sTree.MCTrack.Dump()</div>
<div class="line"><span class="lineno"> 6925</span>        <span class="keywordflow">for</span> p <span class="keywordflow">in</span> muon:</div>
<div class="line"><span class="lineno"> 6926</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> mult.has_key(p): mult[p]={}</div>
<div class="line"><span class="lineno"> 6927</span>            N = muon[p]</div>
<div class="line"><span class="lineno"> 6928</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> mult[p].has_key(N): mult[p][N]=0</div>
<div class="line"><span class="lineno"> 6929</span>            mult[p][N]+=1</div>
<div class="line"><span class="lineno"> 6930</span>    <span class="keywordflow">return</span> mult</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7cd18b7e6d8640f8c9005d215ebd4a05" name="a7cd18b7e6d8640f8c9005d215ebd4a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cd18b7e6d8640f8c9005d215ebd4a05">&#9670;&#160;</a></span>MCcomparison()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.MCcomparison </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pot</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pMin</em> = <code>5.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pMax</em> = <code>300.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ptMax</em> = <code>4.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>simpleEffCor</em> = <code>0.023</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>effCor</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eric</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em> = <code>&quot;-repro&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>withOverFlow</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>withDisplay</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cuts</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>noTitle</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05839">5839</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5839</span><span class="keyword">def </span>MCcomparison(pot = -1, pMin = 5.,pMax=300.,ptMax = 4.,simpleEffCor=0.023,effCor=False,eric=False,version=&quot;-repro&quot;,withOverFlow=False,withDisplay=True,cuts=&#39;&#39;,noTitle=False):</div>
<div class="line"><span class="lineno"> 5840</span>    <span class="comment"># possible cuts: &#39;&#39;, &#39;All&#39;, &#39;Chi2&lt;&#39;, &#39;Delx&lt;&#39;, &#39;Dely&lt;&#39;</span></div>
<div class="line"><span class="lineno"> 5841</span>    <span class="comment"># efficiency MC larger than data, 0.105 for cuts = All, but only for muon tagged!</span></div>
<div class="line"><span class="lineno"> 5842</span>    <span class="comment"># otherwise only Chi2 cut, 0.034 </span></div>
<div class="line"><span class="lineno"> 5843</span>    <span class="comment"># covered cases: cuts = &#39;&#39;,      simpleEffCor=0.024, simpleEffCorMu=0.024</span></div>
<div class="line"><span class="lineno"> 5844</span>    <span class="comment"># covered cases: cuts = &#39;Chi2&lt;&#39;, simpleEffCor=0.058, simpleEffCorMu=0.058</span></div>
<div class="line"><span class="lineno"> 5845</span>    <span class="comment"># covered cases: cuts = &#39;All&#39;, simpleEffCor=0.058,   simpleEffCorMu=0.129</span></div>
<div class="line"><span class="lineno"> 5846</span>    simpleEffCorMu = simpleEffCor</div>
<div class="line"><span class="lineno"> 5847</span>    <span class="keywordflow">if</span> cuts==<span class="stringliteral">&#39;All&#39;</span>: </div>
<div class="line"><span class="lineno"> 5848</span>        simpleEffCorMu = simpleEffCor + 0.130</div>
<div class="line"><span class="lineno"> 5849</span>        simpleEffCor  += 0.056</div>
<div class="line"><span class="lineno"> 5850</span>    <span class="keywordflow">if</span> cuts==<span class="stringliteral">&#39;Chi2&lt;&#39;</span>:</div>
<div class="line"><span class="lineno"> 5851</span>        simpleEffCor  += 0.056</div>
<div class="line"><span class="lineno"> 5852</span>        simpleEffCorMu = 0.021</div>
<div class="line"><span class="lineno"> 5853</span> </div>
<div class="line"><span class="lineno"> 5854</span>    label = <span class="stringliteral">&#39;MC-Comparison&#39;</span>+cuts.replace(<span class="stringliteral">&#39;&lt;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 5855</span>    <span class="comment"># 1GeV mbias,      1.806 Billion PoT </span></div>
<div class="line"><span class="lineno"> 5856</span>    <span class="comment"># 1GeV charm,     10.21 Billion PoT,  10 files</span></div>
<div class="line"><span class="lineno"> 5857</span>    <span class="comment"># 10GeV MC,       66.02 Billion PoT </span></div>
<div class="line"><span class="lineno"> 5858</span>    <span class="comment"># 10GeV charm    153.90 Billion PoT </span></div>
<div class="line"><span class="lineno"> 5859</span>    <span class="comment"># using 626 POT/mu-event and preliminary counting of good tracks -&gt; 12.63 -&gt; pot factor 7.02</span></div>
<div class="line"><span class="lineno"> 5860</span>    <span class="comment"># using 710 POT/mu-event, full field</span></div>
<div class="line"><span class="lineno"> 5861</span>    <span class="comment"># mbias POT/ charm POT = 0.177 (1GeV), 0.429 (10GeV)</span></div>
<div class="line"><span class="lineno"> 5862</span>    MCStats   = 1.806E9</div>
<div class="line"><span class="lineno"> 5863</span>    MC10Stats = 66.02E9</div>
<div class="line"><span class="lineno"> 5864</span>    mcSysError = 0.03</div>
<div class="line"><span class="lineno"> 5865</span>    daSysError = 0.021</div>
<div class="line"><span class="lineno"> 5866</span>    sim10fact = MCStats/(MC10Stats) <span class="comment"># normalize 10GeV to 1GeV stats </span></div>
<div class="line"><span class="lineno"> 5867</span>    muPerPot = 710 <span class="comment"># 626</span></div>
<div class="line"><span class="lineno"> 5868</span>    charmNorm  = {1:MCStats/10.21E9,10:MC10Stats/153.90E9}</div>
<div class="line"><span class="lineno"> 5869</span>    beautyNorm = {1:0.,   10:0.01218}</div>
<div class="line"><span class="lineno"> 5870</span>    sources = {<span class="stringliteral">&quot;&quot;</span>:1.,<span class="stringliteral">&quot;Hadronic inelastic&quot;</span>:100.,<span class="stringliteral">&quot;Lepton pair&quot;</span>:100.,<span class="stringliteral">&quot;Positron annihilation&quot;</span>:100.,</div>
<div class="line"><span class="lineno"> 5871</span>               <span class="stringliteral">&quot;charm&quot;</span>:1./charmNorm[10],<span class="stringliteral">&quot;beauty&quot;</span>:1./beautyNorm[10],<span class="stringliteral">&quot;Di-muon P8&quot;</span>:100.,<span class="stringliteral">&quot;invalid&quot;</span>:1.}</div>
<div class="line"><span class="lineno"> 5872</span>    <span class="keywordflow">if</span> len(hMC)==0:</div>
<div class="line"><span class="lineno"> 5873</span>        interestingHistos = [<span class="stringliteral">&#39;Trscalers&#39;</span>,<span class="stringliteral">&#39;chi2&#39;</span>]</div>
<div class="line"><span class="lineno"> 5874</span>        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;pz/Abspx&#39;</span>,<span class="stringliteral">&#39;p1/p2&#39;</span>,<span class="stringliteral">&#39;p1/p2s&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5875</span>            <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>,<span class="stringliteral">&#39;ymu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5876</span>                <span class="keywordflow">for</span> source <span class="keywordflow">in</span> sources:</div>
<div class="line"><span class="lineno"> 5877</span>                    c = cuts</div>
<div class="line"><span class="lineno"> 5878</span>                    <span class="keywordflow">if</span> x==<span class="stringliteral">&#39;&#39;</span> <span class="keywordflow">and</span> ( cuts == <span class="stringliteral">&#39;Delx&#39;</span> <span class="keywordflow">or</span>  cuts == <span class="stringliteral">&#39;Dely&#39;</span> <span class="keywordflow">or</span> cuts == <span class="stringliteral">&#39;All&#39;</span> ): c=<span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 5879</span>                    <span class="keywordflow">if</span> x==<span class="stringliteral">&#39;ymu&#39;</span> <span class="keywordflow">and</span> ( cuts == <span class="stringliteral">&#39;Delx&#39;</span> <span class="keywordflow">or</span> cuts == <span class="stringliteral">&#39;All&#39;</span> ): c=<span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 5880</span>                    interestingHistos.append(c+a+x+source)</div>
<div class="line"><span class="lineno"> 5881</span>        <span class="keywordflow">if</span> cuts == <span class="stringliteral">&#39;&#39;</span>:</div>
<div class="line"><span class="lineno"> 5882</span>            ut.readHists(h,     <span class="stringliteral">&#39;momDistributions&#39;</span>+version+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5883</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5884</span>            ut.readHists(h,     <span class="stringliteral">&#39;sumHistos&#39;</span>+version+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5885</span> </div>
<div class="line"><span class="lineno"> 5886</span>        <span class="comment"># uncorrected MC histos</span></div>
<div class="line"><span class="lineno"> 5887</span>        <span class="comment"># version = &quot;-withDeadChannels&quot;</span></div>
<div class="line"><span class="lineno"> 5888</span>        <span class="comment"># version = &quot;-noDeadChannels&quot;</span></div>
<div class="line"><span class="lineno"> 5889</span>        <span class="comment"># version = &quot;-0&quot;</span></div>
<div class="line"><span class="lineno"> 5890</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> effCor:</div>
<div class="line"><span class="lineno"> 5891</span>            <span class="keywordflow">if</span> cuts == <span class="stringliteral">&#39;&#39;</span>:</div>
<div class="line"><span class="lineno"> 5892</span>                ut.readHists(hMC,   <span class="stringliteral">&#39;momDistributions-1GeV-mbias&#39;</span>+version+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5893</span>                ut.readHists(hCharm,<span class="stringliteral">&#39;momDistributions-1GeV-charm&#39;</span>+version+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5894</span>                ut.readHists(hMC10GeV,<span class="stringliteral">&#39;momDistributions-10GeV-mbias&#39;</span>+version+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5895</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5896</span>                ut.readHists(hMC,   <span class="stringliteral">&#39;sumHistos--simulation1GeV&#39;</span>+version+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5897</span>                ut.readHists(hCharm,<span class="stringliteral">&#39;sumHistos--simulation1GeV&#39;</span>+version+<span class="stringliteral">&#39;-charm.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5898</span>                ut.readHists(hMC10GeV,<span class="stringliteral">&#39;sumHistos--simulation10GeV&#39;</span>+version+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5899</span>            <span class="comment"># if eric: ut.readHists(hMC10GeV,&#39;momDistributions-10GeV.root&#39;,interestingHistos)</span></div>
<div class="line"><span class="lineno"> 5900</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5901</span>            ut.readHists(hMC,   <span class="stringliteral">&#39;../momDistributions-1GeV-mbias-effTuned-M0-reco.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5902</span>            ut.readHists(hMC,   <span class="stringliteral">&#39;../momDistributions-1GeV-mbias-effTuned-M2.root&#39;</span>,     interestingHistos)</div>
<div class="line"><span class="lineno"> 5903</span>            ut.readHists(hCharm,<span class="stringliteral">&#39;../momDistributions-1GeV-charm-effTuned-M0-reco.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5904</span>            ut.readHists(hCharm,<span class="stringliteral">&#39;../momDistributions-1GeV-charm-effTuned-M2.root&#39;</span>,     interestingHistos)</div>
<div class="line"><span class="lineno"> 5905</span>            ut.readHists(hMC10GeV,<span class="stringliteral">&#39;../momDistributions-10GeV-mbias-effTuned-M0-reco.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5906</span>            ut.readHists(hMC10GeV,<span class="stringliteral">&#39;../momDistributions-10GeV-mbias-effTuned-M2.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5907</span>            MCStats = MCStats*2. <span class="comment"># because of average of two MC samples same stats</span></div>
<div class="line"><span class="lineno"> 5908</span> </div>
<div class="line"><span class="lineno"> 5909</span>        <span class="keywordflow">if</span> cuts != <span class="stringliteral">&quot;&quot;</span>:</div>
<div class="line"><span class="lineno"> 5910</span>            <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;pz/Abspx&#39;</span>,<span class="stringliteral">&#39;p1/p2&#39;</span>,<span class="stringliteral">&#39;p1/p2s&#39;</span>,<span class="stringliteral">&#39;Trscalers&#39;</span>,<span class="stringliteral">&#39;RPCResX/Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5911</span>                <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>,<span class="stringliteral">&#39;ymu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5912</span>                    <span class="keywordflow">for</span> source <span class="keywordflow">in</span> sources:</div>
<div class="line"><span class="lineno"> 5913</span>                        theCut = cuts</div>
<div class="line"><span class="lineno"> 5914</span>                        <span class="keywordflow">if</span> cuts == <span class="stringliteral">&#39;All&#39;</span> <span class="keywordflow">and</span> x==<span class="stringliteral">&#39;&#39;</span>: theCut=<span class="stringliteral">&#39;Chi2&lt;&#39;</span></div>
<div class="line"><span class="lineno"> 5915</span>                        <span class="keywordflow">if</span> h.has_key(theCut+a+x+source):</div>
<div class="line"><span class="lineno"> 5916</span>                            h[a+x+source]= h[theCut+a+x+source].Clone(a+x+source)</div>
<div class="line"><span class="lineno"> 5917</span>                            hMC[a+x+source]= hMC[theCut+a+x+source].Clone(a+x+source)</div>
<div class="line"><span class="lineno"> 5918</span>                            hCharm[a+x+source]= hCharm[theCut+a+x+source].Clone(a+x+source)</div>
<div class="line"><span class="lineno"> 5919</span>                            hMC10GeV[a+x+source]= hMC10GeV[theCut+a+x+source].Clone(a+x+source)</div>
<div class="line"><span class="lineno"> 5920</span> </div>
<div class="line"><span class="lineno"> 5921</span>        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;pz/Abspx&#39;</span>,<span class="stringliteral">&#39;p1/p2&#39;</span>,<span class="stringliteral">&#39;p1/p2s&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5922</span>            <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5923</span>                <span class="keywordflow">if</span> a.find(<span class="stringliteral">&#39;p1/p2&#39;</span>)==0 <span class="keywordflow">and</span> x!=<span class="stringliteral">&#39;&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5924</span>                <span class="keywordflow">for</span> hstore <span class="keywordflow">in</span> [hMC,hCharm,hMC10GeV]: </div>
<div class="line"><span class="lineno"> 5925</span><span class="comment"># for new category &quot;G4default&quot;, subtract dimuons made by SHiP modification to G4</span></div>
<div class="line"><span class="lineno"> 5926</span>                    hstore[a+x+<span class="stringliteral">&quot;G4default&quot;</span>]=hstore[a+x].Clone(a+x+<span class="stringliteral">&quot;G4default&quot;</span>)</div>
<div class="line"><span class="lineno"> 5927</span>                    hstore[a+x+<span class="stringliteral">&quot;G4default&quot;</span>].Add(hstore[a+x+<span class="stringliteral">&quot;Hadronic inelastic&quot;</span>],-1.)</div>
<div class="line"><span class="lineno"> 5928</span><span class="comment"># subtract invalid case from main distribution</span></div>
<div class="line"><span class="lineno"> 5929</span>                    <span class="comment"># hstore[a+x].Add(hstore[a+x+&quot;invalid&quot;],-1.)</span></div>
<div class="line"><span class="lineno"> 5930</span>    <span class="keywordflow">if</span> pot &lt;0: <span class="comment"># (default, use Hans normalization)</span></div>
<div class="line"><span class="lineno"> 5931</span>        POTdata = h[<span class="stringliteral">&#39;Trscalers&#39;</span>].GetBinContent(2) * muPerPot</div>
<div class="line"><span class="lineno"> 5932</span>        <span class="keywordflow">if</span> version==<span class="stringliteral">&quot;-repro&quot;</span>: POTdata=POTdata/0.994  <span class="comment"># events with refitted tracks slightly less than with fitted tracks</span></div>
<div class="line"><span class="lineno"> 5933</span>        MCscaleFactor =     POTdata / MCStats</div>
<div class="line"><span class="lineno"> 5934</span>        <span class="comment"># used until June 17, wrong!, number of tracks, should be number of events with tracks: POTdata = h[&#39;Trscalers&#39;].GetBinContent(3) * muPerPot</span></div>
<div class="line"><span class="lineno"> 5935</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;PoT data&quot;</span>,POTdata / 1E9,<span class="stringliteral">&quot;+/-&quot;</span>,POTdata*daSysError / 1E9, <span class="stringliteral">&quot; billion&quot;</span></div>
<div class="line"><span class="lineno"> 5936</span>    norm={}</div>
<div class="line"><span class="lineno"> 5937</span>    norm[<span class="stringliteral">&#39;&#39;</span>]   = MCscaleFactor * (1.-simpleEffCor)</div>
<div class="line"><span class="lineno"> 5938</span>    norm[<span class="stringliteral">&#39;mu&#39;</span>] = MCscaleFactor * (1.-simpleEffCorMu)</div>
<div class="line"><span class="lineno"> 5939</span>    <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;pz/Abspx&#39;</span>,<span class="stringliteral">&#39;p1/p2&#39;</span>,<span class="stringliteral">&#39;p1/p2s&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5940</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5941</span>            <span class="keywordflow">if</span> a.find(<span class="stringliteral">&#39;p1/p2&#39;</span>)==0 <span class="keywordflow">and</span> x==<span class="stringliteral">&#39;mu&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5942</span><span class="comment"># for 1GeV MC</span></div>
<div class="line"><span class="lineno"> 5943</span>            h[<span class="stringliteral">&#39;MC&#39;</span>+a+x]   = hMC[a+x].Clone(<span class="stringliteral">&#39;MC&#39;</span>+a+x)</div>
<div class="line"><span class="lineno"> 5944</span>            h[<span class="stringliteral">&#39;MC&#39;</span>+a+x].Add(hCharm[a+x],charmNorm[1])</div>
<div class="line"><span class="lineno"> 5945</span>            h[<span class="stringliteral">&#39;MC&#39;</span>+a+x].Scale(norm[x])</div>
<div class="line"><span class="lineno"> 5946</span>            <span class="keywordflow">for</span> source <span class="keywordflow">in</span> sources:</div>
<div class="line"><span class="lineno"> 5947</span>                <span class="keywordflow">if</span> source == <span class="stringliteral">&quot;&quot;</span> <span class="keywordflow">or</span> source == <span class="stringliteral">&quot;beauty&quot;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5948</span>                xxx = a+x+source</div>
<div class="line"><span class="lineno"> 5949</span>                <span class="keywordflow">if</span> source == <span class="stringliteral">&quot;charm&quot;</span>:</div>
<div class="line"><span class="lineno"> 5950</span>                    h[<span class="stringliteral">&#39;MC&#39;</span>+xxx] = hCharm[a+x].Clone(<span class="stringliteral">&#39;MC&#39;</span>+xxx)</div>
<div class="line"><span class="lineno"> 5951</span>                    h[<span class="stringliteral">&#39;MC&#39;</span>+xxx].Scale(charmNorm[1])</div>
<div class="line"><span class="lineno"> 5952</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5953</span>                    h[<span class="stringliteral">&#39;MC&#39;</span>+xxx] = hMC[xxx].Clone(<span class="stringliteral">&#39;MC&#39;</span>+xxx)</div>
<div class="line"><span class="lineno"> 5954</span>                h[<span class="stringliteral">&#39;MC&#39;</span>+xxx].Scale(norm[x])</div>
<div class="line"><span class="lineno"> 5955</span><span class="comment"># for 10GeV MC</span></div>
<div class="line"><span class="lineno"> 5956</span>            h[<span class="stringliteral">&#39;MC10&#39;</span>+a+x] = hMC10GeV[a+x].Clone(<span class="stringliteral">&#39;MC10&#39;</span>+a+x)</div>
<div class="line"><span class="lineno"> 5957</span><span class="comment"># special treatment for 10GeV to get weights right</span></div>
<div class="line"><span class="lineno"> 5958</span>            <span class="keywordflow">if</span> eric: <span class="comment"># data with boosted channels</span></div>
<div class="line"><span class="lineno"> 5959</span>                <span class="keywordflow">for</span> source <span class="keywordflow">in</span> sources:</div>
<div class="line"><span class="lineno"> 5960</span>                    <span class="keywordflow">if</span> source == <span class="stringliteral">&quot;&quot;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5961</span>                    xxx = a+x+source</div>
<div class="line"><span class="lineno"> 5962</span>                    h[<span class="stringliteral">&#39;MC10&#39;</span>+a+x].Add(hMC10GeV[xxx],-1.+1./sources[source])</div>
<div class="line"><span class="lineno"> 5963</span>                    h[<span class="stringliteral">&#39;MC10&#39;</span>+xxx] = hMC10GeV[xxx].Clone(<span class="stringliteral">&#39;MC10&#39;</span>+xxx)</div>
<div class="line"><span class="lineno"> 5964</span>                    h[<span class="stringliteral">&#39;MC10&#39;</span>+xxx].Scale(1./sources[source])</div>
<div class="line"><span class="lineno"> 5965</span>                    h[<span class="stringliteral">&#39;MC10&#39;</span>+xxx].Scale(sim10fact) <span class="comment"># scale it to 1GeV MC statistics</span></div>
<div class="line"><span class="lineno"> 5966</span>                h[<span class="stringliteral">&#39;MC10&#39;</span>+a+x].Scale(sim10fact)</div>
<div class="line"><span class="lineno"> 5967</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5968</span>                h[<span class="stringliteral">&#39;MC10&#39;</span>+a+x].Add(hMC10GeV[a+x+<span class="stringliteral">&quot;charm&quot;</span>],-1.+charmNorm[10])</div>
<div class="line"><span class="lineno"> 5969</span>                h[<span class="stringliteral">&#39;MC10&#39;</span>+a+x].Add(hMC10GeV[a+x+<span class="stringliteral">&quot;beauty&quot;</span>],-1.+beautyNorm[10])</div>
<div class="line"><span class="lineno"> 5970</span>                <span class="keywordflow">for</span> source <span class="keywordflow">in</span> sources:</div>
<div class="line"><span class="lineno"> 5971</span>                    <span class="keywordflow">if</span> source == <span class="stringliteral">&quot;&quot;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5972</span>                    xxx = a+x+source</div>
<div class="line"><span class="lineno"> 5973</span>                    h[<span class="stringliteral">&#39;MC10&#39;</span>+xxx] = hMC10GeV[xxx].Clone(<span class="stringliteral">&#39;MC10&#39;</span>+xxx)</div>
<div class="line"><span class="lineno"> 5974</span>                    <span class="keywordflow">if</span> source == <span class="stringliteral">&quot;charm&quot;</span> <span class="keywordflow">or</span> source == <span class="stringliteral">&quot;beauty&quot;</span>: h[<span class="stringliteral">&#39;MC10&#39;</span>+xxx].Scale(sim10fact/sources[source]*norm[x])</div>
<div class="line"><span class="lineno"> 5975</span>                    <span class="keywordflow">else</span>: h[<span class="stringliteral">&#39;MC10&#39;</span>+xxx].Scale(sim10fact*norm[x])</div>
<div class="line"><span class="lineno"> 5976</span>                h[<span class="stringliteral">&#39;MC10&#39;</span>+a+x].Scale(sim10fact*norm[x])</div>
<div class="line"><span class="lineno"> 5977</span><span class="comment"># now we should have all distributions of different sources with correct weigths, except pi K decays</span></div>
<div class="line"><span class="lineno"> 5978</span>            h[<span class="stringliteral">&#39;MC10&#39;</span>+a+x+<span class="stringliteral">&quot;Decay&quot;</span>]=h[<span class="stringliteral">&#39;MC10&#39;</span>+a+x].Clone(<span class="stringliteral">&#39;MC10&#39;</span>+a+x+<span class="stringliteral">&quot;Decay&quot;</span>)</div>
<div class="line"><span class="lineno"> 5979</span>            h[<span class="stringliteral">&#39;MC&#39;</span>+a+x+<span class="stringliteral">&quot;Decay&quot;</span>]=h[<span class="stringliteral">&#39;MC&#39;</span>+a+x].Clone(<span class="stringliteral">&#39;MC&#39;</span>+a+x+<span class="stringliteral">&quot;Decay&quot;</span>)</div>
<div class="line"><span class="lineno"> 5980</span>            <span class="keywordflow">for</span> s <span class="keywordflow">in</span> sources:</div>
<div class="line"><span class="lineno"> 5981</span>                <span class="keywordflow">if</span> s==<span class="stringliteral">&#39;&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5982</span>                h[<span class="stringliteral">&#39;MC10&#39;</span>+a+x+<span class="stringliteral">&quot;Decay&quot;</span>].Add(h[<span class="stringliteral">&#39;MC10&#39;</span>+a+x+s],-1.)</div>
<div class="line"><span class="lineno"> 5983</span>                <span class="keywordflow">if</span> s!= <span class="stringliteral">&quot;beauty&quot;</span>: h[<span class="stringliteral">&#39;MC&#39;</span>+a+x+<span class="stringliteral">&quot;Decay&quot;</span>].Add(h[<span class="stringliteral">&#39;MC&#39;</span>+a+x+s],-1.)</div>
<div class="line"><span class="lineno"> 5984</span><span class="comment"># increase contributions from decay</span></div>
<div class="line"><span class="lineno"> 5985</span>            <span class="comment">#h[&#39;MC10&#39;+a+x].Add(h[&#39;MC10&#39;+a+x+&quot;Decay&quot;],0.4)</span></div>
<div class="line"><span class="lineno"> 5986</span>            <span class="comment">#h[&#39;MC&#39;+a+x].Add(h[&#39;MC&#39;+a+x+&quot;Decay&quot;],0.4)</span></div>
<div class="line"><span class="lineno"> 5987</span><span class="comment"># increase contributions from charm</span></div>
<div class="line"><span class="lineno"> 5988</span>            <span class="comment">#h[&#39;MC10&#39;+a+x].Add(h[&#39;MC10&#39;+a+x+&quot;charm&quot;],2.0)</span></div>
<div class="line"><span class="lineno"> 5989</span>            <span class="comment">#h[&#39;MC&#39;+a+x].Add(h[&#39;MC&#39;+a+x+&quot;charm&quot;],2.0)</span></div>
<div class="line"><span class="lineno"> 5990</span> </div>
<div class="line"><span class="lineno"> 5991</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 5992</span>    optSorted = [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>,<span class="stringliteral">&#39;MC10&#39;</span>,<span class="stringliteral">&#39;MCcharm&#39;</span>,<span class="stringliteral">&#39;MCDi-muon P8&#39;</span>,<span class="stringliteral">&#39;MCHadronic inelastic&#39;</span>,<span class="stringliteral">&#39;MCLepton pair&#39;</span>,<span class="stringliteral">&#39;MCPositron annihilation&#39;</span>,</div>
<div class="line"><span class="lineno"> 5993</span>                            <span class="stringliteral">&#39;MC10charm&#39;</span>,<span class="stringliteral">&#39;MC10Hadronic inelastic&#39;</span>,<span class="stringliteral">&#39;MC10Di-muon P8&#39;</span>,<span class="stringliteral">&#39;MC10Lepton pair&#39;</span>,<span class="stringliteral">&#39;MC10Positron annihilation&#39;</span>] <span class="comment"># decay removed, only covers part</span></div>
<div class="line"><span class="lineno"> 5994</span>    opt = {<span class="stringliteral">&#39;&#39;</span>:[<span class="stringliteral">&#39;hist&#39;</span>,ROOT.kBlue,<span class="stringliteral">&#39;data&#39;</span>],<span class="stringliteral">&#39;MC&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kRed,<span class="stringliteral">&#39;MC inclusive&#39;</span>],<span class="stringliteral">&#39;MC10&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kRed,<span class="stringliteral">&#39;MC 10GeV total&#39;</span>],</div>
<div class="line"><span class="lineno"> 5995</span>              <span class="stringliteral">&#39;MCcharm&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kGreen,<span class="stringliteral">&#39;Charm&#39;</span>],<span class="stringliteral">&#39;MC10charm&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kGreen,<span class="stringliteral">&#39;Charm&#39;</span>],</div>
<div class="line"><span class="lineno"> 5996</span>              <span class="stringliteral">&#39;MCHadronic inelastic&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kCyan+1,<span class="stringliteral">&#39;Decays to di-muons (GEANT4)&#39;</span>],</div>
<div class="line"><span class="lineno"> 5997</span>              <span class="stringliteral">&#39;MC10Hadronic inelastic&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kCyan+1,<span class="stringliteral">&#39;Decays to di-muons (GEANT4)&#39;</span>],</div>
<div class="line"><span class="lineno"> 5998</span>              <span class="stringliteral">&#39;MCLepton pair&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kGreen+1,<span class="stringliteral">&#39;Photon conversion&#39;</span>],<span class="stringliteral">&#39;MCPositron annihilation&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kRed+2,<span class="stringliteral">&#39;Positron annihilation&#39;</span>],</div>
<div class="line"><span class="lineno"> 5999</span>              <span class="stringliteral">&#39;MC10Lepton pair&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kGreen+1,<span class="stringliteral">&#39;Photon conversion&#39;</span>],<span class="stringliteral">&#39;MC10Positron annihilation&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kRed+2,<span class="stringliteral">&#39;Positron annihilation&#39;</span>],</div>
<div class="line"><span class="lineno"> 6000</span>              <span class="stringliteral">&#39;MCDi-muon P8&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kCyan,<span class="stringliteral">&#39;Decays to di-muons (PYTHIA8)&#39;</span>],</div>
<div class="line"><span class="lineno"> 6001</span>              <span class="stringliteral">&#39;MC10Di-muon P8&#39;</span>:[<span class="stringliteral">&#39;same&#39;</span>,ROOT.kCyan,<span class="stringliteral">&#39;Decays to di-muons (PYTHIA8)&#39;</span>]}</div>
<div class="line"><span class="lineno"> 6002</span>    ptMaxBin = h[<span class="stringliteral">&#39;p/pt&#39;</span>].GetYaxis().FindBin(ptMax)</div>
<div class="line"><span class="lineno"> 6003</span>    ptInterval =        [ [pMin,10.],[10.,25.],[25.,50.],[50.,75.],[75.,100.],[100.,125.],[125.,150.],[150.,200.],[200.,250.],[250.,300.] ,[300.,400.] ]</div>
<div class="line"><span class="lineno"> 6004</span>    ptIntervalRebin =   [ 1,            1,         1,        1,        1,         1,          2,          2,          4,           4,          4 ]</div>
<div class="line"><span class="lineno"> 6005</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6006</span>        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;pz/Abspx&#39;</span>,<span class="stringliteral">&#39;p1/p2&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6007</span>            <span class="keywordflow">if</span> a==<span class="stringliteral">&#39;p1/p2&#39;</span> <span class="keywordflow">and</span> x==<span class="stringliteral">&#39;mu&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6008</span>            <span class="keywordflow">for</span> source <span class="keywordflow">in</span> sources:</div>
<div class="line"><span class="lineno"> 6009</span>                xxx = a+x+source</div>
<div class="line"><span class="lineno"> 6010</span>                h[<span class="stringliteral">&#39;MC10&#39;</span>+xxx+<span class="stringliteral">&#39;_x&#39;</span>]    = h[<span class="stringliteral">&#39;MC10&#39;</span>+xxx].ProjectionX(<span class="stringliteral">&#39;MC10&#39;</span>+xxx+<span class="stringliteral">&#39;_x&#39;</span>,1,ptMaxBin)</div>
<div class="line"><span class="lineno"> 6011</span>                <span class="keywordflow">if</span> source == <span class="stringliteral">&quot;&quot;</span>:  h[xxx+<span class="stringliteral">&#39;_x&#39;</span>] = h[xxx].ProjectionX(xxx+<span class="stringliteral">&#39;_x&#39;</span>,1,ptMaxBin)</div>
<div class="line"><span class="lineno"> 6012</span>                <span class="keywordflow">if</span> source == <span class="stringliteral">&quot;beauty&quot;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6013</span>                h[<span class="stringliteral">&#39;MC&#39;</span>+xxx+<span class="stringliteral">&#39;_x&#39;</span>]    = h[<span class="stringliteral">&#39;MC&#39;</span>+xxx].ProjectionX(<span class="stringliteral">&#39;MC&#39;</span>+xxx+<span class="stringliteral">&#39;_x&#39;</span>,1,ptMaxBin)</div>
<div class="line"><span class="lineno"> 6014</span> </div>
<div class="line"><span class="lineno"> 6015</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6016</span>        <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> opt:</div>
<div class="line"><span class="lineno"> 6017</span>            i = i1</div>
<div class="line"><span class="lineno"> 6018</span>            source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6019</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0:</div>
<div class="line"><span class="lineno"> 6020</span>                i = <span class="stringliteral">&#39;MC10&#39;</span></div>
<div class="line"><span class="lineno"> 6021</span>                source = i1.split(<span class="stringliteral">&#39;MC10&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6022</span>            <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6023</span>                i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6024</span>                source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6025</span>            z = x+source</div>
<div class="line"><span class="lineno"> 6026</span><span class="comment"># MC 1 GeV should agree with data above P&gt;5GeV</span></div>
<div class="line"><span class="lineno"> 6027</span><span class="comment"># MC 10 GeV should agree with data above P&gt;20GeV</span></div>
<div class="line"><span class="lineno"> 6028</span>            <span class="keywordflow">if</span> i == <span class="stringliteral">&quot;MC&quot;</span>:</div>
<div class="line"><span class="lineno"> 6029</span><span class="comment"># pt, combine 1 GeV and 10GeV MC</span></div>
<div class="line"><span class="lineno"> 6030</span>                h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>]   =h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z].ProjectionY(i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>      ,h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pMin),h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(20.))</div>
<div class="line"><span class="lineno"> 6031</span>                tmp = h[i+<span class="stringliteral">&#39;10p/pt&#39;</span>+z].ProjectionY(<span class="stringliteral">&#39;tmp&#39;</span>,h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(20.)+1,h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pMax))</div>
<div class="line"><span class="lineno"> 6032</span><span class="comment"># attempt to make pt/px distribution with 1 GeV and 10 GeV MC</span></div>
<div class="line"><span class="lineno"> 6033</span>                h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].Add(tmp)</div>
<div class="line"><span class="lineno"> 6034</span><span class="comment"># px</span></div>
<div class="line"><span class="lineno"> 6035</span>                h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>]=h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z].ProjectionY(i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>,h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pMin),h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(20.))</div>
<div class="line"><span class="lineno"> 6036</span>                tmp = h[i+<span class="stringliteral">&#39;10pz/Abspx&#39;</span>+z].ProjectionY(<span class="stringliteral">&#39;tmp&#39;</span>,h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(20)+1,h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pMax))</div>
<div class="line"><span class="lineno"> 6037</span>                h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].Add(tmp)</div>
<div class="line"><span class="lineno"> 6038</span><span class="comment"># p,pz</span></div>
<div class="line"><span class="lineno"> 6039</span>                h[i+<span class="stringliteral">&#39;totp/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>]=h[i+<span class="stringliteral">&#39;10p/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].Clone(i+<span class="stringliteral">&#39;totp/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>)</div>
<div class="line"><span class="lineno"> 6040</span>                h[i+<span class="stringliteral">&#39;totpz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>]=h[i+<span class="stringliteral">&#39;10pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].Clone(i+<span class="stringliteral">&#39;totpz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>)</div>
<div class="line"><span class="lineno"> 6041</span>                <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(h[i+<span class="stringliteral">&#39;totp/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pMin),h[i+<span class="stringliteral">&#39;totp/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(20.)+1):</div>
<div class="line"><span class="lineno"> 6042</span>                    h[i+<span class="stringliteral">&#39;totp/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].SetBinContent(k,h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].GetBinContent(k))</div>
<div class="line"><span class="lineno"> 6043</span>                    h[i+<span class="stringliteral">&#39;totpz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].SetBinContent(k,h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].GetBinContent(k))</div>
<div class="line"><span class="lineno"> 6044</span><span class="comment"># interval</span></div>
<div class="line"><span class="lineno"> 6045</span>                <span class="keywordflow">for</span> pInterval <span class="keywordflow">in</span> ptInterval:</div>
<div class="line"><span class="lineno"> 6046</span>                    interval = <span class="stringliteral">&#39;_y&#39;</span>+str(pInterval[0])+<span class="stringliteral">&#39;-&#39;</span>+str(pInterval[1])</div>
<div class="line"><span class="lineno"> 6047</span>                    <span class="keywordflow">if</span> pInterval[0]&lt;20:</div>
<div class="line"><span class="lineno"> 6048</span>                        h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+interval]   =h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z].ProjectionY(i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+interval      ,h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[0]),h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(20.))</div>
<div class="line"><span class="lineno"> 6049</span>                        tmp = h[i+<span class="stringliteral">&#39;10p/pt&#39;</span>+z].ProjectionY(<span class="stringliteral">&#39;tmp&#39;</span>,h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(20.)+1,h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[1]))</div>
<div class="line"><span class="lineno"> 6050</span><span class="comment"># attempt to make pt/px distribution with 1 GeV and 10 GeV MC</span></div>
<div class="line"><span class="lineno"> 6051</span>                        h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+interval].Add(tmp)</div>
<div class="line"><span class="lineno"> 6052</span>                        h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+interval]=h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z].ProjectionY(i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+interval,h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[0]),h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(20.))</div>
<div class="line"><span class="lineno"> 6053</span>                        tmp = h[i+<span class="stringliteral">&#39;10pz/Abspx&#39;</span>+z].ProjectionY(<span class="stringliteral">&#39;tmp&#39;</span>,h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(20.)+1,h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[1]))</div>
<div class="line"><span class="lineno"> 6054</span>                        h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+interval].Add(tmp)</div>
<div class="line"><span class="lineno"> 6055</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 6056</span>                        h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+interval]   =h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z].ProjectionY(i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+interval      ,h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[0]),h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[1]))</div>
<div class="line"><span class="lineno"> 6057</span>                        h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+interval]=h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z].ProjectionY(i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+interval,h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[0]),h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[1]))</div>
<div class="line"><span class="lineno"> 6058</span>                    h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+interval].SetTitle(<span class="stringliteral">&#39;#it{p}_{T} for &#39;</span>+str(pInterval[0])+<span class="stringliteral">&#39; &lt; #it{p} &lt; &#39;</span>+str(pInterval[1]))</div>
<div class="line"><span class="lineno"> 6059</span>                    h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+interval].SetTitle(<span class="stringliteral">&#39;|#it{p}_{X}| for &#39;</span>+str(pInterval[0])+<span class="stringliteral">&#39; &lt; #it{p} &lt; &#39;</span>+str(pInterval[1]))</div>
<div class="line"><span class="lineno"> 6060</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 6061</span>                h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>]   =h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z].ProjectionY(i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>      ,h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pMin),h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].GetNbinsX())</div>
<div class="line"><span class="lineno"> 6062</span>                h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>]=h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z].ProjectionY(i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>,h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pMin),h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].GetNbinsX())</div>
<div class="line"><span class="lineno"> 6063</span>                <span class="keywordflow">for</span> pInterval <span class="keywordflow">in</span> ptInterval:</div>
<div class="line"><span class="lineno"> 6064</span>                    interval = <span class="stringliteral">&#39;_y&#39;</span>+str(pInterval[0])+<span class="stringliteral">&#39;-&#39;</span>+str(pInterval[1])</div>
<div class="line"><span class="lineno"> 6065</span>                    h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+interval]   =h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z].ProjectionY(i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+interval      ,h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[0]),h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[1]))</div>
<div class="line"><span class="lineno"> 6066</span>                    h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+interval]=h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z].ProjectionY(i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+interval,h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[0]),h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(pInterval[1]))</div>
<div class="line"><span class="lineno"> 6067</span>                    h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+interval].SetTitle(<span class="stringliteral">&#39;#it{p}_{T} for &#39;</span>+str(pInterval[0])+<span class="stringliteral">&#39; &lt; #it{p}/(GeV/c) &lt; &#39;</span>+str(pInterval[1]))</div>
<div class="line"><span class="lineno"> 6068</span>                    h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+interval].SetTitle(<span class="stringliteral">&#39;|#it{p}_{X}| for &#39;</span>+str(pInterval[0])+<span class="stringliteral">&#39; &lt; #it{p} &lt; &#39;</span>+str(pInterval[1]))</div>
<div class="line"><span class="lineno"> 6069</span><span class="comment"># for integral distribution combine 1 and 10 GeV first with tot histos made above.</span></div>
<div class="line"><span class="lineno"> 6070</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6071</span>        <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> opt:</div>
<div class="line"><span class="lineno"> 6072</span>            i = i1</div>
<div class="line"><span class="lineno"> 6073</span>            source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6074</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6075</span>                i = <span class="stringliteral">&#39;MC10&#39;</span></div>
<div class="line"><span class="lineno"> 6076</span>                source = i1.split(<span class="stringliteral">&#39;MC10&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6077</span>            <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6078</span>                i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6079</span>                source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6080</span>            z = x+source</div>
<div class="line"><span class="lineno"> 6081</span>            <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>,<span class="stringliteral">&#39;pz/Abspx&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6082</span>                <span class="keywordflow">if</span>   i == <span class="stringliteral">&quot;MC&quot;</span>:     hname = i+<span class="stringliteral">&#39;tot&#39;</span>+a+z+<span class="stringliteral">&#39;_x&#39;</span></div>
<div class="line"><span class="lineno"> 6083</span>                <span class="keywordflow">elif</span> i == <span class="stringliteral">&quot;MC10&quot;</span>: <span class="keywordflow">continue</span>   <span class="comment"># taken care by adding 1 and 10 -&gt; tot</span></div>
<div class="line"><span class="lineno"> 6084</span>                <span class="keywordflow">else</span>:               hname = i+a+z+<span class="stringliteral">&#39;_x&#39;</span></div>
<div class="line"><span class="lineno"> 6085</span>                h[hname+<span class="stringliteral">&#39;original&#39;</span>]=h[hname].Clone(hname+<span class="stringliteral">&#39;original&#39;</span>)</div>
<div class="line"><span class="lineno"> 6086</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> withOverFlow:</div>
<div class="line"><span class="lineno"> 6087</span>                    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(h[hname].FindBin(pMax),h[hname].GetNbinsX()+2):</div>
<div class="line"><span class="lineno"> 6088</span>                        h[hname].SetBinContent(n,0.)</div>
<div class="line"><span class="lineno"> 6089</span>                        h[hname].SetBinError(n,0.)</div>
<div class="line"><span class="lineno"> 6090</span>                ut.makeIntegralDistrib(h,hname,withOverFlow)</div>
<div class="line"><span class="lineno"> 6091</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+hname].GetXaxis().SetRangeUser(pMin,pMax)</div>
<div class="line"><span class="lineno"> 6092</span>                <span class="keywordflow">if</span> i == <span class="stringliteral">&quot;MC&quot;</span>:  </div>
<div class="line"><span class="lineno"> 6093</span>                    h[<span class="stringliteral">&#39;I-&#39;</span>+i+a+z+<span class="stringliteral">&#39;_x&#39;</span>]=h[<span class="stringliteral">&#39;I-&#39;</span>+hname].Clone(<span class="stringliteral">&#39;I-&#39;</span>+i+a+z+<span class="stringliteral">&#39;_x&#39;</span>)</div>
<div class="line"><span class="lineno"> 6094</span>                ut.makeIntegralDistrib(h,i+a+z+<span class="stringliteral">&#39;_y&#39;</span>,withOverFlow)</div>
<div class="line"><span class="lineno"> 6095</span>            <span class="keywordflow">if</span> i != <span class="stringliteral">&quot;MC10&quot;</span>:</div>
<div class="line"><span class="lineno"> 6096</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].SetTitle(<span class="stringliteral">&#39; ;x [GeV/c]; #SigmaN/PoT with #it{p}&gt;x&#39;</span>)</div>
<div class="line"><span class="lineno"> 6097</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].Scale(1./POTdata)</div>
<div class="line"><span class="lineno"> 6098</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].SetTitle(<span class="stringliteral">&#39; ;x [GeV/c]; #SigmaN/PoT with #it{p}&gt;x&#39;</span>)</div>
<div class="line"><span class="lineno"> 6099</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].Scale(1./POTdata)</div>
<div class="line"><span class="lineno"> 6100</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].SetTitle(<span class="stringliteral">&#39; ;x [GeV/c]; #SigmaN/PoT with #it{p}_{X}&gt;x&#39;</span>)</div>
<div class="line"><span class="lineno"> 6101</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].Scale(1./POTdata)</div>
<div class="line"><span class="lineno"> 6102</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].SetTitle(<span class="stringliteral">&#39; ;x [GeV/c]; #SigmaN/PoT with #it{p}_{T}&gt;x&#39;</span>)</div>
<div class="line"><span class="lineno"> 6103</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].Scale(1./POTdata)</div>
<div class="line"><span class="lineno"> 6104</span> </div>
<div class="line"><span class="lineno"> 6105</span>            bz = <span class="stringliteral">&quot;%iGeV/c&quot;</span>%(h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].GetBinWidth(1))</div>
<div class="line"><span class="lineno"> 6106</span>            h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].SetTitle(<span class="stringliteral">&#39;#it{p} ;#it{p} [GeV/c]; N/&#39;</span>+bz+<span class="stringliteral">&#39;/PoT&#39;</span>)</div>
<div class="line"><span class="lineno"> 6107</span>            h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].Scale(1./POTdata)</div>
<div class="line"><span class="lineno"> 6108</span> </div>
<div class="line"><span class="lineno"> 6109</span>            bz = <span class="stringliteral">&quot;%iGeV/c&quot;</span>%(h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].GetBinWidth(1))</div>
<div class="line"><span class="lineno"> 6110</span>            h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].SetTitle(<span class="stringliteral">&#39;#it{p}_{z} ;#it{p}_{z} [GeV/c]; N/&#39;</span>+bz+<span class="stringliteral">&#39;/PoT&#39;</span>)</div>
<div class="line"><span class="lineno"> 6111</span>            h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_x&#39;</span>].Scale(1./POTdata)</div>
<div class="line"><span class="lineno"> 6112</span> </div>
<div class="line"><span class="lineno"> 6113</span>            bz = <span class="stringliteral">&quot;%iMeV/c&quot;</span>%(1000*h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].GetBinWidth(1))</div>
<div class="line"><span class="lineno"> 6114</span>            h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].SetTitle(<span class="stringliteral">&#39;#it{p}_{x} ;#it{p}_{x} [GeV/c]; N/&#39;</span>+bz+<span class="stringliteral">&#39;/PoT&#39;</span>)</div>
<div class="line"><span class="lineno"> 6115</span>            h[i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].Scale(1./POTdata)</div>
<div class="line"><span class="lineno"> 6116</span> </div>
<div class="line"><span class="lineno"> 6117</span>            bz = <span class="stringliteral">&quot;%iMeV/c&quot;</span>%(1000*h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].GetBinWidth(1))</div>
<div class="line"><span class="lineno"> 6118</span>            h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].SetTitle(<span class="stringliteral">&#39;#it{p}_{T} ;#it{p}_{T} [GeV/c]; N/&#39;</span>+bz+<span class="stringliteral">&#39;/PoT&#39;</span>)</div>
<div class="line"><span class="lineno"> 6119</span>            h[i+<span class="stringliteral">&#39;p/pt&#39;</span>+z+<span class="stringliteral">&#39;_y&#39;</span>].Scale(1./POTdata)</div>
<div class="line"><span class="lineno"> 6120</span> </div>
<div class="line"><span class="lineno"> 6121</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;output&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,1200,800,1,1)</div>
<div class="line"><span class="lineno"> 6122</span>    <span class="keywordflow">for</span> d <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;I-&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6123</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6124</span>            t = d+<span class="stringliteral">&#39;MC-Comparison&#39;</span>+x</div>
<div class="line"><span class="lineno"> 6125</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): </div>
<div class="line"><span class="lineno"> 6126</span>                ut.bookCanvas(h,key=t,title=d+<span class="stringliteral">&#39; MC / Data &#39;</span>+x,nx=1800,ny=900,cx=4,cy=2)</div>
<div class="line"><span class="lineno"> 6127</span>                ut.bookCanvas(h,key=<span class="stringliteral">&#39;simple&#39;</span>+t,title=d+<span class="stringliteral">&#39; MC / Data &#39;</span>+x,nx=1800,ny=900,cx=4,cy=2)</div>
<div class="line"><span class="lineno"> 6128</span><span class="comment"># start with pz</span></div>
<div class="line"><span class="lineno"> 6129</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> withDisplay: <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 6130</span>            tc = 1</div>
<div class="line"><span class="lineno"> 6131</span>            rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6132</span>            rc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 6133</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6134</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)]=ROOT.TLegend(0.50,0.61,0.96,0.93)</div>
<div class="line"><span class="lineno"> 6135</span>            mx1 = ut.findMaximumAndMinimum(h[d+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>])[1]</div>
<div class="line"><span class="lineno"> 6136</span>            mx2 = ut.findMaximumAndMinimum(h[d+<span class="stringliteral">&#39;MCpz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>])[1]</div>
<div class="line"><span class="lineno"> 6137</span>            hMax = max(mx1,mx2)</div>
<div class="line"><span class="lineno"> 6138</span>            <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> optSorted:</div>
<div class="line"><span class="lineno"> 6139</span>                i = i1</div>
<div class="line"><span class="lineno"> 6140</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6141</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0:</div>
<div class="line"><span class="lineno"> 6142</span>                    <span class="keywordflow">if</span> d != <span class="stringliteral">&quot;&quot;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6143</span>                    i = <span class="stringliteral">&#39;MC10&#39;</span></div>
<div class="line"><span class="lineno"> 6144</span>                    source = i1.split(<span class="stringliteral">&#39;MC10&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6145</span>                <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6146</span>                    i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6147</span>                    source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6148</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6149</span>                histo = h[d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]</div>
<div class="line"><span class="lineno"> 6150</span>                histo.SetMaximum(hMax*5.)</div>
<div class="line"><span class="lineno"> 6151</span>                histo.SetLineWidth(1)</div>
<div class="line"><span class="lineno"> 6152</span>                histo.SetMarkerSize(1)</div>
<div class="line"><span class="lineno"> 6153</span>                histo.SetLineColor(opt[i1][1])</div>
<div class="line"><span class="lineno"> 6154</span>                histo.SetStats(0)</div>
<div class="line"><span class="lineno"> 6155</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;&#39;</span>: </div>
<div class="line"><span class="lineno"> 6156</span>                    histo.SetMinimum( histo.GetBinContent(histo.FindBin(pMax)-1)*0.01 )</div>
<div class="line"><span class="lineno"> 6157</span>                    histo.GetXaxis().SetRangeUser(pMin,pMax)</div>
<div class="line"><span class="lineno"> 6158</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;MC&#39;</span> <span class="keywordflow">and</span> d==<span class="stringliteral">&#39;&#39;</span>:    histo.GetXaxis().SetRangeUser(pMin,30.)</div>
<div class="line"><span class="lineno"> 6159</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;MC10&#39;</span>:  histo.GetXaxis().SetRangeUser(20.,pMax)</div>
<div class="line"><span class="lineno"> 6160</span>                <span class="keywordflow">if</span> d != <span class="stringliteral">&#39;&#39;</span>:     histo.GetXaxis().SetRangeUser(pMin,pMax)</div>
<div class="line"><span class="lineno"> 6161</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].AddEntry(histo,opt[i1][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6162</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6163</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6164</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6165</span><span class="comment"># go to linear projection</span></div>
<div class="line"><span class="lineno"> 6166</span>            tc = 5</div>
<div class="line"><span class="lineno"> 6167</span>            rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6168</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6169</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)]=ROOT.TLegend(0.42,0.54,0.88,0.86)</div>
<div class="line"><span class="lineno"> 6170</span>            <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> optSorted:</div>
<div class="line"><span class="lineno"> 6171</span>                i = i1</div>
<div class="line"><span class="lineno"> 6172</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6173</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6174</span>                    <span class="keywordflow">if</span> d != <span class="stringliteral">&quot;&quot;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6175</span>                    i = <span class="stringliteral">&#39;MC10&#39;</span></div>
<div class="line"><span class="lineno"> 6176</span>                    source = i1.split(<span class="stringliteral">&#39;MC10&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6177</span>                <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6178</span>                    i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6179</span>                    source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6180</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6181</span>                h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]=h[d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>].Clone(<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>)</div>
<div class="line"><span class="lineno"> 6182</span>                histo = h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]</div>
<div class="line"><span class="lineno"> 6183</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;&#39;</span>:       histo.GetXaxis().SetRangeUser(pMin,120)</div>
<div class="line"><span class="lineno"> 6184</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;MC&#39;</span> <span class="keywordflow">and</span> d==<span class="stringliteral">&#39;&#39;</span>:    histo.GetXaxis().SetRangeUser(pMin,30.)</div>
<div class="line"><span class="lineno"> 6185</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;MC10&#39;</span>:  histo.GetXaxis().SetRangeUser(20.,pMax)</div>
<div class="line"><span class="lineno"> 6186</span>                histo.SetMaximum(hMax*1.1)</div>
<div class="line"><span class="lineno"> 6187</span>                histo.SetMinimum(0.)</div>
<div class="line"><span class="lineno"> 6188</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6189</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6190</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].AddEntry(histo,opt[i1][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6191</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6192</span><span class="comment"># then px</span></div>
<div class="line"><span class="lineno"> 6193</span>            tc = 2</div>
<div class="line"><span class="lineno"> 6194</span>            rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6195</span>            rc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 6196</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6197</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)]=ROOT.TLegend(0.50,0.61,0.96,0.93)</div>
<div class="line"><span class="lineno"> 6198</span>            mx1 = ut.findMaximumAndMinimum(h[d+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_y&#39;</span>])[1]</div>
<div class="line"><span class="lineno"> 6199</span>            mx2 = ut.findMaximumAndMinimum(h[d+<span class="stringliteral">&#39;MCpz/Abspx&#39;</span>+x+<span class="stringliteral">&#39;_y&#39;</span>])[1]</div>
<div class="line"><span class="lineno"> 6200</span>            hMax = max(mx1,mx2)</div>
<div class="line"><span class="lineno"> 6201</span>            <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> optSorted:</div>
<div class="line"><span class="lineno"> 6202</span>                i = i1</div>
<div class="line"><span class="lineno"> 6203</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6204</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6205</span>                <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6206</span>                    i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6207</span>                    source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6208</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6209</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6210</span>                histo = h[d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]</div>
<div class="line"><span class="lineno"> 6211</span>                histo.SetMaximum(hMax*5.)</div>
<div class="line"><span class="lineno"> 6212</span>                histo.SetLineWidth(1)</div>
<div class="line"><span class="lineno"> 6213</span>                histo.SetMarkerSize(1)</div>
<div class="line"><span class="lineno"> 6214</span>                histo.SetLineColor(opt[i1][1])</div>
<div class="line"><span class="lineno"> 6215</span>                histo.SetStats(0)</div>
<div class="line"><span class="lineno"> 6216</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;&#39;</span>: </div>
<div class="line"><span class="lineno"> 6217</span>                    histo.SetMinimum( histo.GetBinContent(histo.FindBin(ptMax))*0.01 )</div>
<div class="line"><span class="lineno"> 6218</span>                    histo.GetXaxis().SetRangeUser(0.,ptMax)</div>
<div class="line"><span class="lineno"> 6219</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6220</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6221</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].AddEntry(histo,opt[i1][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6222</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6223</span><span class="comment"># linear</span></div>
<div class="line"><span class="lineno"> 6224</span>            tc = 6</div>
<div class="line"><span class="lineno"> 6225</span>            rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6226</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6227</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)]=ROOT.TLegend(0.42,0.54,0.88,0.86)</div>
<div class="line"><span class="lineno"> 6228</span>            <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> optSorted:</div>
<div class="line"><span class="lineno"> 6229</span>                i = i1</div>
<div class="line"><span class="lineno"> 6230</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6231</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6232</span>                <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6233</span>                    i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6234</span>                    source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6235</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6236</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6237</span>                h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]=h[d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>].Clone(<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>)</div>
<div class="line"><span class="lineno"> 6238</span>                histo = h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]</div>
<div class="line"><span class="lineno"> 6239</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;&#39;</span>:       histo.GetXaxis().SetRangeUser(0.,2.)</div>
<div class="line"><span class="lineno"> 6240</span>                histo.SetMaximum(hMax*1.1)</div>
<div class="line"><span class="lineno"> 6241</span>                histo.SetMinimum(0.)</div>
<div class="line"><span class="lineno"> 6242</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6243</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6244</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].AddEntry(histo,opt[i1][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6245</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6246</span><span class="comment"># now P</span></div>
<div class="line"><span class="lineno"> 6247</span>            tc = 3</div>
<div class="line"><span class="lineno"> 6248</span>            rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6249</span>            rc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 6250</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6251</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)]=ROOT.TLegend(0.50,0.61,0.96,0.93)</div>
<div class="line"><span class="lineno"> 6252</span>            mx1 = ut.findMaximumAndMinimum(h[d+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>])[1]</div>
<div class="line"><span class="lineno"> 6253</span>            mx2 = ut.findMaximumAndMinimum(h[d+<span class="stringliteral">&#39;MCp/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>])[1]</div>
<div class="line"><span class="lineno"> 6254</span>            hMax = max(mx1,mx2)</div>
<div class="line"><span class="lineno"> 6255</span>            <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> optSorted:</div>
<div class="line"><span class="lineno"> 6256</span>                i = i1</div>
<div class="line"><span class="lineno"> 6257</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6258</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6259</span>                    <span class="keywordflow">if</span> d != <span class="stringliteral">&quot;&quot;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6260</span>                    i = <span class="stringliteral">&#39;MC10&#39;</span></div>
<div class="line"><span class="lineno"> 6261</span>                    source = i1.split(<span class="stringliteral">&#39;MC10&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6262</span>                <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6263</span>                    i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6264</span>                    source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6265</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6266</span>                histo = h[d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]</div>
<div class="line"><span class="lineno"> 6267</span>                histo.SetMaximum(hMax*5.)</div>
<div class="line"><span class="lineno"> 6268</span>                histo.SetLineWidth(1)</div>
<div class="line"><span class="lineno"> 6269</span>                histo.SetMarkerSize(1)</div>
<div class="line"><span class="lineno"> 6270</span>                histo.SetLineColor(opt[i1][1])</div>
<div class="line"><span class="lineno"> 6271</span>                histo.SetStats(0)</div>
<div class="line"><span class="lineno"> 6272</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;&#39;</span>: </div>
<div class="line"><span class="lineno"> 6273</span>                    histo.SetMinimum( histo.GetBinContent(histo.FindBin(pMax)-1)*0.01 )</div>
<div class="line"><span class="lineno"> 6274</span>                    histo.GetXaxis().SetRangeUser(pMin,pMax)</div>
<div class="line"><span class="lineno"> 6275</span>                <span class="keywordflow">if</span> d != <span class="stringliteral">&#39;&#39;</span>: histo.GetXaxis().SetRangeUser(pMin,pMax)</div>
<div class="line"><span class="lineno"> 6276</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;MC&#39;</span> <span class="keywordflow">and</span> d==<span class="stringliteral">&#39;&#39;</span>:  histo.GetXaxis().SetRangeUser(pMin,30.)</div>
<div class="line"><span class="lineno"> 6277</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;MC10&#39;</span>:  histo.GetXaxis().SetRangeUser(20.,pMax)</div>
<div class="line"><span class="lineno"> 6278</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].AddEntry(histo,opt[i1][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6279</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6280</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6281</span>                h[<span class="stringliteral">&#39;output&#39;</span>].cd().SetLogy(1)</div>
<div class="line"><span class="lineno"> 6282</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6283</span>                rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6284</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6285</span>            rc = h[<span class="stringliteral">&#39;output&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 6286</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6287</span>            myPrint(h[<span class="stringliteral">&#39;output&#39;</span>],label+d+x+<span class="stringliteral">&#39;_P&#39;</span>)</div>
<div class="line"><span class="lineno"> 6288</span><span class="comment"># linear</span></div>
<div class="line"><span class="lineno"> 6289</span>            tc = 7</div>
<div class="line"><span class="lineno"> 6290</span>            rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6291</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6292</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)]=ROOT.TLegend(0.42,0.54,0.88,0.86)</div>
<div class="line"><span class="lineno"> 6293</span>            <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> optSorted:</div>
<div class="line"><span class="lineno"> 6294</span>                i = i1</div>
<div class="line"><span class="lineno"> 6295</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6296</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6297</span>                    <span class="keywordflow">if</span> d != <span class="stringliteral">&quot;&quot;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6298</span>                    i = <span class="stringliteral">&#39;MC10&#39;</span></div>
<div class="line"><span class="lineno"> 6299</span>                    source = i1.split(<span class="stringliteral">&#39;MC10&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6300</span>                <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6301</span>                    i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6302</span>                    source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6303</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6304</span>                h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]=h[d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>].Clone(<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>)</div>
<div class="line"><span class="lineno"> 6305</span>                histo = h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]</div>
<div class="line"><span class="lineno"> 6306</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;&#39;</span>:       histo.GetXaxis().SetRangeUser(pMin,120)</div>
<div class="line"><span class="lineno"> 6307</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;MC&#39;</span> <span class="keywordflow">and</span> d==<span class="stringliteral">&#39;&#39;</span>:  histo.GetXaxis().SetRangeUser(pMin,30.)</div>
<div class="line"><span class="lineno"> 6308</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;MC10&#39;</span>:  histo.GetXaxis().SetRangeUser(20.,pMax)</div>
<div class="line"><span class="lineno"> 6309</span>                histo.SetMaximum(hMax*1.1)</div>
<div class="line"><span class="lineno"> 6310</span>                histo.SetMinimum(0.)</div>
<div class="line"><span class="lineno"> 6311</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6312</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6313</span>                h[<span class="stringliteral">&#39;output&#39;</span>].cd().SetLogy(0)</div>
<div class="line"><span class="lineno"> 6314</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6315</span>                rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6316</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].AddEntry(histo,opt[i1][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6317</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6318</span>            rc = h[<span class="stringliteral">&#39;output&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 6319</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6320</span>            myPrint(h[<span class="stringliteral">&#39;output&#39;</span>],label+d+x+<span class="stringliteral">&#39;_linP&#39;</span>)</div>
<div class="line"><span class="lineno"> 6321</span><span class="comment"># and Pt</span></div>
<div class="line"><span class="lineno"> 6322</span>            tc = 4</div>
<div class="line"><span class="lineno"> 6323</span>            rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6324</span>            rc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 6325</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6326</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)]=ROOT.TLegend(0.50,0.61,0.96,0.93)</div>
<div class="line"><span class="lineno"> 6327</span>            mx1 = ut.findMaximumAndMinimum(h[d+<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_y&#39;</span>])[1]</div>
<div class="line"><span class="lineno"> 6328</span>            mx2 = ut.findMaximumAndMinimum(h[d+<span class="stringliteral">&#39;MCp/pt&#39;</span>+x+<span class="stringliteral">&#39;_y&#39;</span>])[1]</div>
<div class="line"><span class="lineno"> 6329</span>            hMax = max(mx1,mx2)</div>
<div class="line"><span class="lineno"> 6330</span>            <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> optSorted:</div>
<div class="line"><span class="lineno"> 6331</span>                i = i1</div>
<div class="line"><span class="lineno"> 6332</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6333</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6334</span>                <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6335</span>                    i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6336</span>                    source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6337</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span>: <span class="keywordflow">continue</span> <span class="comment"># Pt/Px distributions from 1GeV and 10GeV are merged into one</span></div>
<div class="line"><span class="lineno"> 6338</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6339</span>                histo = h[d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]</div>
<div class="line"><span class="lineno"> 6340</span>                histo.SetMaximum(hMax*5.)</div>
<div class="line"><span class="lineno"> 6341</span>                histo.SetLineWidth(1)</div>
<div class="line"><span class="lineno"> 6342</span>                histo.SetMarkerSize(1)</div>
<div class="line"><span class="lineno"> 6343</span>                histo.SetLineColor(opt[i1][1])</div>
<div class="line"><span class="lineno"> 6344</span>                histo.SetStats(0)</div>
<div class="line"><span class="lineno"> 6345</span>                <span class="keywordflow">if</span> i ==<span class="stringliteral">&#39;&#39;</span>: </div>
<div class="line"><span class="lineno"> 6346</span>                    histo.SetMinimum( histo.GetBinContent(histo.FindBin(ptMax))*0.01 )</div>
<div class="line"><span class="lineno"> 6347</span>                    histo.GetXaxis().SetRangeUser(0.,ptMax)</div>
<div class="line"><span class="lineno"> 6348</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6349</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6350</span>                h[<span class="stringliteral">&#39;output&#39;</span>].cd().SetLogy(1)</div>
<div class="line"><span class="lineno"> 6351</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6352</span>                rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6353</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].AddEntry(histo,opt[i1][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6354</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6355</span>            rc = h[<span class="stringliteral">&#39;output&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 6356</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6357</span>            myPrint(h[<span class="stringliteral">&#39;output&#39;</span>],label+d+x+<span class="stringliteral">&#39;_Pt&#39;</span>)</div>
<div class="line"><span class="lineno"> 6358</span><span class="comment"># linear</span></div>
<div class="line"><span class="lineno"> 6359</span>            tc = 8</div>
<div class="line"><span class="lineno"> 6360</span>            rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6361</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6362</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)]=ROOT.TLegend(0.42,0.54,0.88,0.86)</div>
<div class="line"><span class="lineno"> 6363</span>            <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> optSorted:</div>
<div class="line"><span class="lineno"> 6364</span>                i = i1</div>
<div class="line"><span class="lineno"> 6365</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6366</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6367</span>                <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6368</span>                    i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6369</span>                    source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6370</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6371</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6372</span>                h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]=h[d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>].Clone(<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>)</div>
<div class="line"><span class="lineno"> 6373</span>                histo = h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]</div>
<div class="line"><span class="lineno"> 6374</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;&#39;</span>:       histo.GetXaxis().SetRangeUser(0.,2.)</div>
<div class="line"><span class="lineno"> 6375</span>                histo.SetMaximum(hMax*1.1)</div>
<div class="line"><span class="lineno"> 6376</span>                histo.SetMinimum(0.)</div>
<div class="line"><span class="lineno"> 6377</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6378</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6379</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].AddEntry(histo,opt[i1][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6380</span>                h[<span class="stringliteral">&#39;output&#39;</span>].cd().SetLogy(0)</div>
<div class="line"><span class="lineno"> 6381</span>                histo.Draw(opt[i1][0])</div>
<div class="line"><span class="lineno"> 6382</span>                rc = h[t].cd(tc)</div>
<div class="line"><span class="lineno"> 6383</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6384</span>            h[t].Update()</div>
<div class="line"><span class="lineno"> 6385</span>            myPrint(h[t],label+d+x)</div>
<div class="line"><span class="lineno"> 6386</span>            rc = h[<span class="stringliteral">&#39;output&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 6387</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6388</span>            myPrint(rc,label+d+x+<span class="stringliteral">&#39;_linPt&#39;</span>)</div>
<div class="line"><span class="lineno"> 6389</span> </div>
<div class="line"><span class="lineno"> 6390</span><span class="comment"># simplified version</span></div>
<div class="line"><span class="lineno"> 6391</span>            tc = 1</div>
<div class="line"><span class="lineno"> 6392</span>            ts = <span class="stringliteral">&#39;simple&#39;</span>+t</div>
<div class="line"><span class="lineno"> 6393</span>            rc = h[ts].cd(tc)</div>
<div class="line"><span class="lineno"> 6394</span>            rc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 6395</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6396</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)]=ROOT.TLegend(0.50,0.68,0.88,0.88)</div>
<div class="line"><span class="lineno"> 6397</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>,<span class="stringliteral">&#39;MC10&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6398</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span> <span class="keywordflow">and</span> d != <span class="stringliteral">&quot;&quot;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6399</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6400</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6401</span>                histo = h[d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]</div>
<div class="line"><span class="lineno"> 6402</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].AddEntry(histo,opt[i][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6403</span>                histo.SetMinimum(1E-10)</div>
<div class="line"><span class="lineno"> 6404</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6405</span>                histo.Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6406</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6407</span>            tc = 2</div>
<div class="line"><span class="lineno"> 6408</span>            rc = h[ts].cd(tc)</div>
<div class="line"><span class="lineno"> 6409</span>            rc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 6410</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6411</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)]=ROOT.TLegend(0.50,0.68,0.88,0.88)</div>
<div class="line"><span class="lineno"> 6412</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6413</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6414</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6415</span>                histo = h[d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]</div>
<div class="line"><span class="lineno"> 6416</span>                histo.SetMinimum(1E-10)</div>
<div class="line"><span class="lineno"> 6417</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6418</span>                histo.Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6419</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].AddEntry(h[d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>],opt[i][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6420</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6421</span>            tc = 3</div>
<div class="line"><span class="lineno"> 6422</span>            ts = <span class="stringliteral">&#39;simple&#39;</span>+t</div>
<div class="line"><span class="lineno"> 6423</span>            rc = h[ts].cd(tc)</div>
<div class="line"><span class="lineno"> 6424</span>            rc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 6425</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6426</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)]=ROOT.TLegend(0.50,0.68,0.88,0.88)</div>
<div class="line"><span class="lineno"> 6427</span>            hMax = max(mx1,mx2)</div>
<div class="line"><span class="lineno"> 6428</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>,<span class="stringliteral">&#39;MC10&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6429</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span> <span class="keywordflow">and</span> d != <span class="stringliteral">&quot;&quot;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6430</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6431</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6432</span>                histo = h[d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]</div>
<div class="line"><span class="lineno"> 6433</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].AddEntry(histo,opt[i][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6434</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6435</span>                histo.SetMinimum(1E-10)</div>
<div class="line"><span class="lineno"> 6436</span>                histo.Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6437</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6438</span>            tx = h[<span class="stringliteral">&#39;dummy&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 6439</span>            tx.SetLogy(1)</div>
<div class="line"><span class="lineno"> 6440</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>,<span class="stringliteral">&#39;MC10&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6441</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span> <span class="keywordflow">and</span> d != <span class="stringliteral">&quot;&quot;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6442</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6443</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6444</span>                histo = h[d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]</div>
<div class="line"><span class="lineno"> 6445</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6446</span>                histo.Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6447</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6448</span>            myPrint(h[<span class="stringliteral">&#39;dummy&#39;</span>],label+<span class="stringliteral">&#39;-simple-P&#39;</span>+d+x)</div>
<div class="line"><span class="lineno"> 6449</span>            tc = 4</div>
<div class="line"><span class="lineno"> 6450</span>            rc = h[ts].cd(tc)</div>
<div class="line"><span class="lineno"> 6451</span>            rc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 6452</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6453</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)]=ROOT.TLegend(0.50,0.68,0.88,0.88)</div>
<div class="line"><span class="lineno"> 6454</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6455</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6456</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6457</span>                histo = h[d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]</div>
<div class="line"><span class="lineno"> 6458</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6459</span>                histo.SetMinimum(1E-10)</div>
<div class="line"><span class="lineno"> 6460</span>                histo.Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6461</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].AddEntry(histo,opt[i][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6462</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6463</span>            tx = h[<span class="stringliteral">&#39;dummy&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 6464</span>            tx.SetLogy(1)</div>
<div class="line"><span class="lineno"> 6465</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6466</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span> <span class="keywordflow">and</span> d != <span class="stringliteral">&quot;&quot;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6467</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6468</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6469</span>                histo = h[d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]</div>
<div class="line"><span class="lineno"> 6470</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6471</span>                histo.Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6472</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6473</span>            myPrint(h[<span class="stringliteral">&#39;dummy&#39;</span>],label+<span class="stringliteral">&#39;-simple-Pt&#39;</span>+d+x)</div>
<div class="line"><span class="lineno"> 6474</span>            tc = 5</div>
<div class="line"><span class="lineno"> 6475</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6476</span>            rc = h[ts].cd(tc)</div>
<div class="line"><span class="lineno"> 6477</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)]=ROOT.TLegend(0.50,0.68,0.88,0.88)</div>
<div class="line"><span class="lineno"> 6478</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>,<span class="stringliteral">&#39;MC10&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6479</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span> <span class="keywordflow">and</span> d != <span class="stringliteral">&quot;&quot;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6480</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6481</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6482</span>                histo = h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]</div>
<div class="line"><span class="lineno"> 6483</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6484</span>                histo.Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6485</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].AddEntry(histo,opt[i][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6486</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6487</span>            tc = 6</div>
<div class="line"><span class="lineno"> 6488</span>            rc = h[ts].cd(tc)</div>
<div class="line"><span class="lineno"> 6489</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6490</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)]=ROOT.TLegend(0.50,0.68,0.88,0.88)</div>
<div class="line"><span class="lineno"> 6491</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6492</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6493</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6494</span>                histo = h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;pz/Abspx&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]</div>
<div class="line"><span class="lineno"> 6495</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6496</span>                histo.Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6497</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].AddEntry(histo,opt[i][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6498</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6499</span>            tc = 7</div>
<div class="line"><span class="lineno"> 6500</span>            rc = h[ts].cd(tc)</div>
<div class="line"><span class="lineno"> 6501</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6502</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)]=ROOT.TLegend(0.50,0.68,0.88,0.88)</div>
<div class="line"><span class="lineno"> 6503</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>,<span class="stringliteral">&#39;MC10&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6504</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span> <span class="keywordflow">and</span> d != <span class="stringliteral">&quot;&quot;</span>:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6505</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6506</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6507</span>                histo = h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span>]</div>
<div class="line"><span class="lineno"> 6508</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6509</span>                histo.Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6510</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].AddEntry(histo,opt[i][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6511</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6512</span>            tc = 8</div>
<div class="line"><span class="lineno"> 6513</span>            rc.SetLeftMargin(0.2)</div>
<div class="line"><span class="lineno"> 6514</span>            rc = h[ts].cd(tc)</div>
<div class="line"><span class="lineno"> 6515</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)]=ROOT.TLegend(0.50,0.68,0.88,0.88)</div>
<div class="line"><span class="lineno"> 6516</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6517</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6518</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6519</span>                histo = h[<span class="stringliteral">&#39;lin&#39;</span>+d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_y&#39;</span>]</div>
<div class="line"><span class="lineno"> 6520</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6521</span>                histo.Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6522</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].AddEntry(histo,opt[i][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6523</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+ts+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6524</span>            h[ts].Update()</div>
<div class="line"><span class="lineno"> 6525</span>            myPrint(h[ts],label+<span class="stringliteral">&#39;-simple-&#39;</span>+d+x)</div>
<div class="line"><span class="lineno"> 6526</span>    <span class="keywordflow">for</span> Aproj <span class="keywordflow">in</span> [<span class="stringliteral">&#39;p/pt&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6527</span>        withAllTracks=<span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 6528</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6529</span><span class="comment"># old printout</span></div>
<div class="line"><span class="lineno"> 6530</span>            <span class="keywordflow">if</span> Aproj == <span class="stringliteral">&#39;p/pt&#39;</span>:</div>
<div class="line"><span class="lineno"> 6531</span>                <span class="keywordflow">if</span> x != <span class="stringliteral">&#39;&#39;</span>: <span class="keywordflow">print</span> <span class="stringliteral">&quot;=== muon tagged ====&quot;</span></div>
<div class="line"><span class="lineno"> 6532</span>                <span class="keywordflow">else</span>: <span class="keywordflow">print</span>       <span class="stringliteral">&quot;=== all tracks  ====&quot;</span></div>
<div class="line"><span class="lineno"> 6533</span>                <span class="keywordflow">for</span> P <span class="keywordflow">in</span> [5.,10.,50.,100.,150.,200.,300.]:</div>
<div class="line"><span class="lineno"> 6534</span>                    nbin = h[Aproj+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(P)</div>
<div class="line"><span class="lineno"> 6535</span>                    <span class="keywordflow">print</span> <span class="stringliteral">&quot;data/MC P&gt;%5i GeV: %5.2F&quot;</span>%(int(P),h[<span class="stringliteral">&#39;I-&#39;</span>+Aproj+x+<span class="stringliteral">&#39;_x&#39;</span>].GetBinContent(nbin-1)/h[<span class="stringliteral">&#39;I-MC&#39;</span>+Aproj+x+<span class="stringliteral">&#39;_x&#39;</span>].GetBinContent(nbin-1))</div>
<div class="line"><span class="lineno"> 6536</span>                n5 = h[Aproj+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(5.)</div>
<div class="line"><span class="lineno"> 6537</span>                n300 = h[Aproj+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(300.)</div>
<div class="line"><span class="lineno"> 6538</span>                n450 = h[Aproj+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(450.)</div>
<div class="line"><span class="lineno"> 6539</span>                n480 = h[Aproj+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(480.)</div>
<div class="line"><span class="lineno"> 6540</span>                n500 = h[Aproj+x+<span class="stringliteral">&#39;_x&#39;</span>].FindBin(500.)</div>
<div class="line"><span class="lineno"> 6541</span>                ghostRateMC   = h[<span class="stringliteral">&#39;MCtot&#39;</span>+Aproj+x+<span class="stringliteral">&#39;_xoriginal&#39;</span>].Integral(n450,n500-1)/20.*295./h[<span class="stringliteral">&#39;MCtot&#39;</span>+Aproj+x+<span class="stringliteral">&#39;_xoriginal&#39;</span>].Integral(n5,n300)</div>
<div class="line"><span class="lineno"> 6542</span>                ghostRateData = h[Aproj+x+<span class="stringliteral">&#39;_xoriginal&#39;</span>].Integral(n450,n500-1)/20.*295./h[Aproj+x+<span class="stringliteral">&#39;_xoriginal&#39;</span>].Integral(n5,n300)</div>
<div class="line"><span class="lineno"> 6543</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;ghostRate MC: %5.2FperMille  ghostRate Data: %5.2FperMille&quot;</span>%(ghostRateMC*1000,ghostRateData*1000)</div>
<div class="line"><span class="lineno"> 6544</span><span class="comment"># as in the note, n500 includes overflow</span></div>
<div class="line"><span class="lineno"> 6545</span>                ratioGhostsMC   =  h[<span class="stringliteral">&#39;MCtot&#39;</span>+Aproj+x+<span class="stringliteral">&#39;_xoriginal&#39;</span>].Integral(n450,n500-1)/h[<span class="stringliteral">&#39;MCtot&#39;</span>+Aproj+x+<span class="stringliteral">&#39;_xoriginal&#39;</span>].Integral(n450,n500)</div>
<div class="line"><span class="lineno"> 6546</span>                ratioGhostsData =          h[Aproj+x+<span class="stringliteral">&#39;_xoriginal&#39;</span>].Integral(n450,n500-1)/h[Aproj+x+<span class="stringliteral">&#39;_xoriginal&#39;</span>].Integral(n450,n500)</div>
<div class="line"><span class="lineno"> 6547</span>                ratioGhostsDataMC =  h[Aproj+x+<span class="stringliteral">&#39;_xoriginal&#39;</span>].Integral(n450,n500-1)/h[<span class="stringliteral">&#39;MCtot&#39;</span>+Aproj+x+<span class="stringliteral">&#39;_xoriginal&#39;</span>].Integral(n450,n500-1)</div>
<div class="line"><span class="lineno"> 6548</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;tracks [450-500]/[&gt;450] = MC: %5.2F, data: %5.2F. Absolute data/MC=%5.2F&quot;</span>%(ratioGhostsMC,ratioGhostsData,ratioGhostsDataMC)</div>
<div class="line"><span class="lineno"> 6549</span><span class="comment"># make ratio plots</span></div>
<div class="line"><span class="lineno"> 6550</span>            proj = Aproj</div>
<div class="line"><span class="lineno"> 6551</span>            <span class="keywordflow">for</span> xx <span class="keywordflow">in</span> [x+<span class="stringliteral">&#39;_x&#39;</span>,x+<span class="stringliteral">&#39;_y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6552</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx+<span class="stringliteral">&#39;Ratio&#39;</span>]         =h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx].Clone(<span class="stringliteral">&#39;I-&#39;</span>+proj+xx+<span class="stringliteral">&#39;Ratio&#39;</span>)</div>
<div class="line"><span class="lineno"> 6553</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx+<span class="stringliteral">&#39;RatioG4&#39;</span>]       =h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx].Clone(<span class="stringliteral">&#39;I-&#39;</span>+proj+xx+<span class="stringliteral">&#39;RatioG4&#39;</span>)</div>
<div class="line"><span class="lineno"> 6554</span>                h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx+<span class="stringliteral">&#39;RatioG4noCharm&#39;</span>]=h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx].Clone(<span class="stringliteral">&#39;I-&#39;</span>+proj+<span class="stringliteral">&#39;&#39;</span>+x+<span class="stringliteral">&#39;_xRatioG4noCharm&#39;</span>)</div>
<div class="line"><span class="lineno"> 6555</span>                <span class="keywordflow">for</span> mc <span class="keywordflow">in</span> [<span class="stringliteral">&#39;I-MC&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6556</span>                    h[mc+proj+xx+<span class="stringliteral">&#39;G4&#39;</span>]   =h[mc+proj+xx].Clone(mc+proj+xx+<span class="stringliteral">&#39;G4&#39;</span>)</div>
<div class="line"><span class="lineno"> 6557</span>                    h[mc+proj+xx+<span class="stringliteral">&#39;G4&#39;</span>].Add(h[mc+proj+xx.replace(<span class="stringliteral">&#39;_&#39;</span>,<span class="stringliteral">&#39;Hadronic inelastic_&#39;</span>)],-1.)</div>
<div class="line"><span class="lineno"> 6558</span>                    h[mc+proj+xx+<span class="stringliteral">&#39;G4noCharm&#39;</span>]=h[mc+proj+xx].Clone(<span class="stringliteral">&#39;I-MC&#39;</span>+proj+<span class="stringliteral">&#39;&#39;</span>+x+<span class="stringliteral">&#39;_xG4noCharm&#39;</span>)</div>
<div class="line"><span class="lineno"> 6559</span>                    h[mc+proj+xx+<span class="stringliteral">&#39;G4noCharm&#39;</span>].Add(h[mc+proj+xx.replace(<span class="stringliteral">&#39;_&#39;</span>,<span class="stringliteral">&#39;Hadronic inelastic_&#39;</span>)],-1.)</div>
<div class="line"><span class="lineno"> 6560</span>                    h[mc+proj+xx+<span class="stringliteral">&#39;G4noCharm&#39;</span>].Add(h[mc+proj+xx.replace(<span class="stringliteral">&#39;_&#39;</span>,<span class="stringliteral">&#39;charm_&#39;</span>)],-1.)</div>
<div class="line"><span class="lineno"> 6561</span>                <span class="keywordflow">for</span> c <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;G4&#39;</span>,<span class="stringliteral">&#39;G4noCharm&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6562</span>                    ratio = h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx+<span class="stringliteral">&#39;Ratio&#39;</span>+c]</div>
<div class="line"><span class="lineno"> 6563</span>                    <span class="keywordflow">for</span> mx <span class="keywordflow">in</span> range(1,ratio.GetNbinsX()+1):</div>
<div class="line"><span class="lineno"> 6564</span>                        Nmc = h[<span class="stringliteral">&#39;I-MC&#39;</span>+proj+xx+c].GetBinContent(mx)</div>
<div class="line"><span class="lineno"> 6565</span>                        ratio.SetBinContent(mx,ratio.GetBinContent(mx)/Nmc)</div>
<div class="line"><span class="lineno"> 6566</span>                <span class="keywordflow">if</span> withAllTracks <span class="keywordflow">and</span> x == <span class="stringliteral">&#39;&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6567</span>                t = <span class="stringliteral">&#39;MC-Comparison ratios&#39;</span>+proj+xx</div>
<div class="line"><span class="lineno"> 6568</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): </div>
<div class="line"><span class="lineno"> 6569</span>                    ut.bookCanvas(h,key=t,title=<span class="stringliteral">&#39;Data / MC&#39;</span>,nx=900,ny=600,cx=1,cy=1)</div>
<div class="line"><span class="lineno"> 6570</span>                h[t].cd(1)</div>
<div class="line"><span class="lineno"> 6571</span>                h[<span class="stringliteral">&#39;leg&#39;</span>+t]=ROOT.TLegend(0.11,0.67,0.56,0.86)</div>
<div class="line"><span class="lineno"> 6572</span>                histo = h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx+<span class="stringliteral">&#39;Ratio&#39;</span>]</div>
<div class="line"><span class="lineno"> 6573</span>                histo.SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 6574</span>                histo.SetMaximum(3.)</div>
<div class="line"><span class="lineno"> 6575</span>                <span class="keywordflow">if</span> xx.find(<span class="stringliteral">&#39;_x&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6576</span>                    histo.GetXaxis().SetRangeUser(0.,ptMax)</div>
<div class="line"><span class="lineno"> 6577</span>                <span class="keywordflow">else</span>:               </div>
<div class="line"><span class="lineno"> 6578</span>                    histo.GetXaxis().SetRangeUser(pMin,pMax)</div>
<div class="line"><span class="lineno"> 6579</span>                histo.SetMinimum(0.0)</div>
<div class="line"><span class="lineno"> 6580</span>                histo.SetTitle(<span class="stringliteral">&#39;Ratio Data/MC &#39;</span>+h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx+<span class="stringliteral">&#39;Ratio&#39;</span>].GetTitle())</div>
<div class="line"><span class="lineno"> 6581</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6582</span>                histo.Draw()</div>
<div class="line"><span class="lineno"> 6583</span>                h[<span class="stringliteral">&#39;leg&#39;</span>+t].AddEntry(histo,<span class="stringliteral">&#39;Ratio Data / MC muon tagged tracks&#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6584</span>                histo = h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx+<span class="stringliteral">&#39;RatioG4&#39;</span>]</div>
<div class="line"><span class="lineno"> 6585</span>                histo.SetLineColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 6586</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6587</span>                histo.SetMaximum(3.)</div>
<div class="line"><span class="lineno"> 6588</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6589</span>                histo.Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6590</span>                h[<span class="stringliteral">&#39;leg&#39;</span>+t].AddEntry(histo,<span class="stringliteral">&#39;muon tagged tracks no G4 dimuon &#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6591</span>                histo = h[<span class="stringliteral">&#39;I-&#39;</span>+proj+xx+<span class="stringliteral">&#39;RatioG4noCharm&#39;</span>]</div>
<div class="line"><span class="lineno"> 6592</span>                histo.SetLineColor(ROOT.kCyan)</div>
<div class="line"><span class="lineno"> 6593</span>                histo.SetMaximum(3.)</div>
<div class="line"><span class="lineno"> 6594</span>                histo.Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6595</span>                h[<span class="stringliteral">&#39;leg&#39;</span>+t].AddEntry(histo,<span class="stringliteral">&#39;muon tagged tracks no G4 dimuon no charm &#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6596</span>                <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6597</span>                h[<span class="stringliteral">&#39;leg&#39;</span>+t].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6598</span>                myPrint(h[t],label+<span class="stringliteral">&#39;Ratios&#39;</span>+Aproj.replace(<span class="stringliteral">&#39;/&#39;</span>,<span class="stringliteral">&#39;&#39;</span>))</div>
<div class="line"><span class="lineno"> 6599</span><span class="comment"># now in 2D</span></div>
<div class="line"><span class="lineno"> 6600</span>            asymVersion = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 6601</span>            t = <span class="stringliteral">&#39;MC-Comparison ratios&#39;</span>+proj+<span class="stringliteral">&#39;2D&#39;</span></div>
<div class="line"><span class="lineno"> 6602</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): </div>
<div class="line"><span class="lineno"> 6603</span>                    ut.bookCanvas(h,key=t,title=<span class="stringliteral">&#39;Data / MC&#39;</span>,nx=1800,ny=900,cx=1,cy=1)</div>
<div class="line"><span class="lineno"> 6604</span>            h[t].cd(1)</div>
<div class="line"><span class="lineno"> 6605</span>            ROOT.gStyle.SetPaintTextFormat(<span class="stringliteral">&quot;5.2f&quot;</span>)</div>
<div class="line"><span class="lineno"> 6606</span><span class="comment"># first make a combination of 1GeV and 10GeV</span></div>
<div class="line"><span class="lineno"> 6607</span>            hname = <span class="stringliteral">&#39;MCtot&#39;</span>+proj+x</div>
<div class="line"><span class="lineno"> 6608</span>            h[hname]=h[<span class="stringliteral">&#39;MC&#39;</span>+proj+x].Clone(hname)</div>
<div class="line"><span class="lineno"> 6609</span>            h[hname].Reset()</div>
<div class="line"><span class="lineno"> 6610</span>            h[<span class="stringliteral">&#39;Data&#39;</span>+proj+x]=h[proj+x].Clone(<span class="stringliteral">&#39;Data&#39;</span>+proj+x)</div>
<div class="line"><span class="lineno"> 6611</span>            tmpx = h[hname].ProjectionX()</div>
<div class="line"><span class="lineno"> 6612</span>            tmpy = h[hname].ProjectionY()</div>
<div class="line"><span class="lineno"> 6613</span>            <span class="keywordflow">for</span> mx <span class="keywordflow">in</span> range(1,h[hname].GetNbinsX()+1):</div>
<div class="line"><span class="lineno"> 6614</span>                <span class="keywordflow">for</span> my <span class="keywordflow">in</span> range(1,h[hname].GetNbinsY()+1):</div>
<div class="line"><span class="lineno"> 6615</span>                    <span class="keywordflow">if</span> tmpx.GetBinCenter(mx)&lt;5.:</div>
<div class="line"><span class="lineno"> 6616</span>                        h[<span class="stringliteral">&#39;Data&#39;</span>+proj+x].SetBinContent(mx,my,0.)</div>
<div class="line"><span class="lineno"> 6617</span>                        h[<span class="stringliteral">&#39;Data&#39;</span>+proj+x].SetBinError(mx,my,0.)</div>
<div class="line"><span class="lineno"> 6618</span>                    <span class="keywordflow">elif</span> tmpx.GetBinCenter(mx)&lt;20.:</div>
<div class="line"><span class="lineno"> 6619</span>                        h[hname].SetBinContent(mx,my,h[<span class="stringliteral">&#39;MC&#39;</span>+proj+x].GetBinContent(mx,my))</div>
<div class="line"><span class="lineno"> 6620</span>                        h[hname].SetBinError(mx,my,h[<span class="stringliteral">&#39;MC&#39;</span>+proj+x].GetBinError(mx,my))</div>
<div class="line"><span class="lineno"> 6621</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 6622</span>                        h[hname].SetBinContent(mx,my,h[<span class="stringliteral">&#39;MC10&#39;</span>+proj+x].GetBinContent(mx,my))</div>
<div class="line"><span class="lineno"> 6623</span>                        h[hname].SetBinError(mx,my,h[<span class="stringliteral">&#39;MC10&#39;</span>+proj+x].GetBinError(mx,my))</div>
<div class="line"><span class="lineno"> 6624</span>            h[<span class="stringliteral">&#39;Data&#39;</span>+proj+x+<span class="stringliteral">&#39;rebin&#39;</span>] = h[proj+x].Rebin2D(25,5,<span class="stringliteral">&#39;Data&#39;</span>+proj+x+<span class="stringliteral">&#39;rebin&#39;</span>)</div>
<div class="line"><span class="lineno"> 6625</span>            h[<span class="stringliteral">&#39;MC&#39;</span>+proj+x+<span class="stringliteral">&#39;rebin&#39;</span>]    = h[hname].Rebin2D(25,5,<span class="stringliteral">&#39;MC&#39;</span>+proj+x+<span class="stringliteral">&#39;rebin&#39;</span>)</div>
<div class="line"><span class="lineno"> 6626</span>            h[proj+x+<span class="stringliteral">&#39;Ratio&#39;</span>]=h[<span class="stringliteral">&#39;MC&#39;</span>+proj+x+<span class="stringliteral">&#39;rebin&#39;</span>].Clone(proj+x+<span class="stringliteral">&#39;Ratio&#39;</span>)</div>
<div class="line"><span class="lineno"> 6627</span>            <span class="keywordflow">for</span> mx <span class="keywordflow">in</span> range(1,h[proj+x+<span class="stringliteral">&#39;Ratio&#39;</span>].GetNbinsX()+1):</div>
<div class="line"><span class="lineno"> 6628</span>                <span class="keywordflow">for</span> my <span class="keywordflow">in</span> range(1,h[proj+x+<span class="stringliteral">&#39;Ratio&#39;</span>].GetNbinsY()+1):</div>
<div class="line"><span class="lineno"> 6629</span>                    Nmc = h[<span class="stringliteral">&#39;MC&#39;</span>+proj+x+<span class="stringliteral">&#39;rebin&#39;</span>].GetBinContent(mx,my)</div>
<div class="line"><span class="lineno"> 6630</span>                    Nda = h[<span class="stringliteral">&#39;Data&#39;</span>+proj+x+<span class="stringliteral">&#39;rebin&#39;</span>].GetBinContent(mx,my)</div>
<div class="line"><span class="lineno"> 6631</span>                    eNmc = h[<span class="stringliteral">&#39;MC&#39;</span>+proj+x+<span class="stringliteral">&#39;rebin&#39;</span>].GetBinError(mx,my)</div>
<div class="line"><span class="lineno"> 6632</span>                    eNda = h[proj+x+<span class="stringliteral">&#39;Ratio&#39;</span>].GetBinError(mx,my)</div>
<div class="line"><span class="lineno"> 6633</span>                    <span class="keywordflow">if</span> Nmc&gt;10 <span class="keywordflow">and</span> Nda&gt;10:</div>
<div class="line"><span class="lineno"> 6634</span>                        <span class="keywordflow">if</span> asymVersion:</div>
<div class="line"><span class="lineno"> 6635</span>                           R = (Nda-Nmc)/(Nda+Nmc)</div>
<div class="line"><span class="lineno"> 6636</span>                           sig_data = ROOT.TMath.Sqrt(eNda**2+(Nda*daSysError)**2)</div>
<div class="line"><span class="lineno"> 6637</span>                           sig_MC   = ROOT.TMath.Sqrt(eNmc**2+(Nmc*mcSysError)**2)</div>
<div class="line"><span class="lineno"> 6638</span>                           e1 = 2*Nda/(Nda+Nmc)**2</div>
<div class="line"><span class="lineno"> 6639</span>                           e2 = 2*Nmc/(Nda+Nmc)**2</div>
<div class="line"><span class="lineno"> 6640</span>                           eR = ROOT.TMath.Sqrt( (e1*sig_MC)**2+(e2*sig_data)**2 )</div>
<div class="line"><span class="lineno"> 6641</span>                        <span class="keywordflow">else</span>: <span class="comment"># ratio  version</span></div>
<div class="line"><span class="lineno"> 6642</span>                           R = (Nda/Nmc)</div>
<div class="line"><span class="lineno"> 6643</span>                           eR = ROOT.TMath.Sqrt( (R/Nmc*eNmc)**2+(R/Nda*eNda)**2 )</div>
<div class="line"><span class="lineno"> 6644</span>                    <span class="keywordflow">else</span>:      </div>
<div class="line"><span class="lineno"> 6645</span>                        R  = 0. <span class="comment"># -1      # R = 0</span></div>
<div class="line"><span class="lineno"> 6646</span>                        eR = 0.</div>
<div class="line"><span class="lineno"> 6647</span>                    h[proj+x+<span class="stringliteral">&#39;Ratio&#39;</span>].SetBinContent(mx,my,R)</div>
<div class="line"><span class="lineno"> 6648</span>                    h[proj+x+<span class="stringliteral">&#39;Ratio&#39;</span>].SetBinError(mx,my,eR)</div>
<div class="line"><span class="lineno"> 6649</span>            histo = h[proj+x+<span class="stringliteral">&#39;Ratio&#39;</span>]</div>
<div class="line"><span class="lineno"> 6650</span>            histo.SetMinimum(-1.)</div>
<div class="line"><span class="lineno"> 6651</span>            histo.SetMaximum(+1.)</div>
<div class="line"><span class="lineno"> 6652</span>            histo.GetXaxis().SetRangeUser(pMin,pMax)</div>
<div class="line"><span class="lineno"> 6653</span>            histo.GetYaxis().SetRangeUser(0.,ptMax)</div>
<div class="line"><span class="lineno"> 6654</span>            histo.SetStats(0)</div>
<div class="line"><span class="lineno"> 6655</span>            histo.SetMarkerSize(1.2)</div>
<div class="line"><span class="lineno"> 6656</span>            <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6657</span>            histo.Draw(<span class="stringliteral">&#39;texte&#39;</span>)</div>
<div class="line"><span class="lineno"> 6658</span>            myPrint(h[t],label+<span class="stringliteral">&#39;Ratios2D&#39;</span>+proj.replace(<span class="stringliteral">&#39;/&#39;</span>,<span class="stringliteral">&#39;&#39;</span>))</div>
<div class="line"><span class="lineno"> 6659</span><span class="comment"># data</span></div>
<div class="line"><span class="lineno"> 6660</span>    t=<span class="stringliteral">&#39;pPt2d&#39;</span></div>
<div class="line"><span class="lineno"> 6661</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): </div>
<div class="line"><span class="lineno"> 6662</span>        ut.bookCanvas(h,key=t,title=<span class="stringliteral">&#39;Data&#39;</span>,nx=1200,ny=900,cx=1,cy=1)</div>
<div class="line"><span class="lineno"> 6663</span>    tc = h[t].cd()</div>
<div class="line"><span class="lineno"> 6664</span>    tc.SetLogz(1)</div>
<div class="line"><span class="lineno"> 6665</span>    histo = h[<span class="stringliteral">&#39;p/ptmu&#39;</span>]</div>
<div class="line"><span class="lineno"> 6666</span>    histo.SetMinimum(0.)</div>
<div class="line"><span class="lineno"> 6667</span>    histo.SetMaximum(5.E6)</div>
<div class="line"><span class="lineno"> 6668</span>    histo.GetXaxis().SetRangeUser(0,pMax)</div>
<div class="line"><span class="lineno"> 6669</span>    histo.GetYaxis().SetRangeUser(0,ptMax-0.1)</div>
<div class="line"><span class="lineno"> 6670</span>    histo.GetXaxis().SetTitleOffset(1.7)</div>
<div class="line"><span class="lineno"> 6671</span>    histo.GetXaxis().SetTitle(<span class="stringliteral">&#39;                     #it{p} [GeV/c]&#39;</span>)</div>
<div class="line"><span class="lineno"> 6672</span>    histo.GetYaxis().SetTitle(<span class="stringliteral">&#39;            #it{p}_{T} [GeV/c]             &#39;</span>)</div>
<div class="line"><span class="lineno"> 6673</span>    histo.GetYaxis().SetTitleOffset(1.7)</div>
<div class="line"><span class="lineno"> 6674</span>    tc.SetTheta(26.4)</div>
<div class="line"><span class="lineno"> 6675</span>    tc.SetPhi(-135.6)</div>
<div class="line"><span class="lineno"> 6676</span>    histo.SetStats(0)</div>
<div class="line"><span class="lineno"> 6677</span>    <span class="keywordflow">if</span> noTitle: histo.SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6678</span>    histo.Draw(<span class="stringliteral">&#39;lego&#39;</span>)</div>
<div class="line"><span class="lineno"> 6679</span>    myPrint(h[t],label+<span class="stringliteral">&#39;DatapPt&#39;</span>)</div>
<div class="line"><span class="lineno"> 6680</span> </div>
<div class="line"><span class="lineno"> 6681</span><span class="comment"># pt in slices of P</span></div>
<div class="line"><span class="lineno"> 6682</span>    <span class="keywordflow">for</span> t <span class="keywordflow">in</span> [<span class="stringliteral">&#39;MC-Comparison Pt&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6683</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): </div>
<div class="line"><span class="lineno"> 6684</span>            <span class="keywordflow">if</span> pMax &gt; 310: ut.bookCanvas(h,key=t,title=<span class="stringliteral">&#39; MC / Data &#39;</span>+t.split(<span class="stringliteral">&#39; &#39;</span>)[1],nx=1800,ny=900,cx=6,cy=2)</div>
<div class="line"><span class="lineno"> 6685</span>            <span class="keywordflow">else</span>:          ut.bookCanvas(h,key=t,title=<span class="stringliteral">&#39; MC / Data &#39;</span>+t.split(<span class="stringliteral">&#39; &#39;</span>)[1],nx=1800,ny=900,cx=5,cy=2)</div>
<div class="line"><span class="lineno"> 6686</span>        y = 1</div>
<div class="line"><span class="lineno"> 6687</span>        <span class="keywordflow">for</span> pInterval <span class="keywordflow">in</span> ptInterval:</div>
<div class="line"><span class="lineno"> 6688</span>            <span class="keywordflow">if</span> pInterval[1] &gt; pMax: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6689</span>            <span class="keywordflow">if</span> pInterval[1]&lt;11: x = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 6690</span>            <span class="keywordflow">else</span>: x = <span class="stringliteral">&#39;mu&#39;</span></div>
<div class="line"><span class="lineno"> 6691</span>            interval = <span class="stringliteral">&#39;_y&#39;</span>+str(pInterval[0])+<span class="stringliteral">&#39;-&#39;</span>+str(pInterval[1])</div>
<div class="line"><span class="lineno"> 6692</span>            tc = h[t].cd(y)</div>
<div class="line"><span class="lineno"> 6693</span>            rebinValue = ptIntervalRebin[y-1]</div>
<div class="line"><span class="lineno"> 6694</span>            y+=1</div>
<div class="line"><span class="lineno"> 6695</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)]=ROOT.TLegend(0.42,0.54,0.88,0.86)</div>
<div class="line"><span class="lineno"> 6696</span>            <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> optSorted:</div>
<div class="line"><span class="lineno"> 6697</span>                i = i1</div>
<div class="line"><span class="lineno"> 6698</span>                source = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 6699</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6700</span>                    i = <span class="stringliteral">&#39;MC10&#39;</span></div>
<div class="line"><span class="lineno"> 6701</span>                    source = i1.split(<span class="stringliteral">&#39;MC10&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6702</span>                <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6703</span>                    i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6704</span>                    source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6705</span>                <span class="keywordflow">if</span> i==<span class="stringliteral">&#39;MC10&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6706</span>                xx = x+source</div>
<div class="line"><span class="lineno"> 6707</span>                proj = <span class="stringliteral">&#39;p/pt&#39;</span></div>
<div class="line"><span class="lineno"> 6708</span>                <span class="keywordflow">if</span> t.find(<span class="stringliteral">&#39;Px&#39;</span>)&gt;0: proj = <span class="stringliteral">&#39;pz/Abspx&#39;</span></div>
<div class="line"><span class="lineno"> 6709</span>                hname = i+proj+xx+interval</div>
<div class="line"><span class="lineno"> 6710</span>                mx1 = ut.findMaximumAndMinimum(h[ proj+x+interval])[1]</div>
<div class="line"><span class="lineno"> 6711</span>                mx2 = ut.findMaximumAndMinimum(h[<span class="stringliteral">&#39;MC&#39;</span>+proj+x+interval])[1]</div>
<div class="line"><span class="lineno"> 6712</span>                hMaPx = max(mx1,mx2)</div>
<div class="line"><span class="lineno"> 6713</span>                <span class="keywordflow">if</span> rebinValue&gt;1: </div>
<div class="line"><span class="lineno"> 6714</span>                  h[hname].Rebin(rebinValue)</div>
<div class="line"><span class="lineno"> 6715</span>                  h[hname].Scale(1./rebinValue)</div>
<div class="line"><span class="lineno"> 6716</span>                h[hname].GetXaxis().SetRangeUser(0.,ptMax)</div>
<div class="line"><span class="lineno"> 6717</span>                h[hname].SetMaximum(hMaPx*1.1)</div>
<div class="line"><span class="lineno"> 6718</span>                h[hname].SetMinimum(0.)</div>
<div class="line"><span class="lineno"> 6719</span>                h[hname].SetStats(0)</div>
<div class="line"><span class="lineno"> 6720</span>                h[hname].SetLineWidth(1)</div>
<div class="line"><span class="lineno"> 6721</span>                h[hname].SetMarkerSize(1)</div>
<div class="line"><span class="lineno"> 6722</span>                h[hname].SetLineColor(opt[i1][1])</div>
<div class="line"><span class="lineno"> 6723</span>                h[hname].Draw(opt[i][0])</div>
<div class="line"><span class="lineno"> 6724</span>                <span class="keywordflow">if</span> i.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].AddEntry(h[hname],opt[i1][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6725</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(tc)].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6726</span>        h[t].Update()</div>
<div class="line"><span class="lineno"> 6727</span>        myPrint(h[t],label+t.replace(<span class="stringliteral">&#39;MC-Comparison &#39;</span>,<span class="stringliteral">&#39;&#39;</span>))</div>
<div class="line"><span class="lineno"> 6728</span><span class="comment"># printout rate</span></div>
<div class="line"><span class="lineno"> 6729</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;  interval           data                MC                   ratio data/MC            charm    per 1E9 PoT / GeV/c  &quot;</span></div>
<div class="line"><span class="lineno"> 6730</span>    <span class="keywordflow">for</span> pInterval <span class="keywordflow">in</span> ptInterval:</div>
<div class="line"><span class="lineno"> 6731</span>        <span class="keywordflow">if</span> pInterval[1]&lt;11: x = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 6732</span>        <span class="keywordflow">else</span>: x = <span class="stringliteral">&#39;mu&#39;</span></div>
<div class="line"><span class="lineno"> 6733</span>        interval = <span class="stringliteral">&#39;_y&#39;</span>+str(pInterval[0])+<span class="stringliteral">&#39;-&#39;</span>+str(pInterval[1])</div>
<div class="line"><span class="lineno"> 6734</span>        proj = <span class="stringliteral">&#39;p/pt&#39;</span></div>
<div class="line"><span class="lineno"> 6735</span>        hname = proj+x+interval</div>
<div class="line"><span class="lineno"> 6736</span>        err=ROOT.Double()</div>
<div class="line"><span class="lineno"> 6737</span>        data = h[hname].IntegralAndError(0,h[hname].FindBin(ptMax),err)/POTdata/(pInterval[1]-pInterval[0])*1E9</div>
<div class="line"><span class="lineno"> 6738</span>        sig_data=err/POTdata/(pInterval[1]-pInterval[0])*1E9</div>
<div class="line"><span class="lineno"> 6739</span>        sig_data = ROOT.TMath.Sqrt(sig_data**2+(data*daSysError)**2)</div>
<div class="line"><span class="lineno"> 6740</span>        mc   = h[<span class="stringliteral">&#39;MC&#39;</span>+hname].IntegralAndError(0,h[hname].FindBin(ptMax),err)/POTdata/(pInterval[1]-pInterval[0])*1E9</div>
<div class="line"><span class="lineno"> 6741</span>        sig_MC  = err/POTdata/(pInterval[1]-pInterval[0])*1E9</div>
<div class="line"><span class="lineno"> 6742</span>        sig_MC = ROOT.TMath.Sqrt(sig_MC**2+(mc*mcSysError)**2)</div>
<div class="line"><span class="lineno"> 6743</span>        mcCharm = h[<span class="stringliteral">&#39;MC&#39;</span>+hname.replace(<span class="stringliteral">&#39;_y&#39;</span>,<span class="stringliteral">&#39;charm_y&#39;</span>)].IntegralAndError(0,h[hname].FindBin(ptMax),err)/POTdata/(pInterval[1]-pInterval[0])*1E9</div>
<div class="line"><span class="lineno"> 6744</span>        ratio = data/mc</div>
<div class="line"><span class="lineno"> 6745</span>        sig_ratio = ROOT.TMath.Sqrt( (ratio/data*sig_data)**2+(ratio/mc*sig_MC)**2)</div>
<div class="line"><span class="lineno"> 6746</span>        sig_Charm=err/POTdata/(pInterval[1]-pInterval[0])*1E9</div>
<div class="line"><span class="lineno"> 6747</span>        sig_Charm=ROOT.TMath.Sqrt(sig_Charm**2+(mcCharm*mcSysError)**2)</div>
<div class="line"><span class="lineno"> 6748</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;%11s    %7.2E +/- %7.2E  %7.2E +/- %7.2E   %5.2F +/- %5.2F  %6.2E +/- %6.2E&quot;</span>%(str(pInterval[0])+<span class="stringliteral">&#39;-&#39;</span>+str(pInterval[1]),data,sig_data,mc,sig_MC,ratio,sig_ratio,mcCharm,sig_Charm)</div>
<div class="line"><span class="lineno"> 6749</span><span class="comment"># printout mean pt</span></div>
<div class="line"><span class="lineno"> 6750</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot; interval       data           MC           charm    mean PT [GeV/c]  &quot;</span></div>
<div class="line"><span class="lineno"> 6751</span>    <span class="keywordflow">for</span> pInterval <span class="keywordflow">in</span> ptInterval:</div>
<div class="line"><span class="lineno"> 6752</span>        <span class="keywordflow">if</span> pInterval[1]&lt;11: x = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 6753</span>        <span class="keywordflow">else</span>: x = <span class="stringliteral">&#39;mu&#39;</span></div>
<div class="line"><span class="lineno"> 6754</span>        interval = <span class="stringliteral">&#39;_y&#39;</span>+str(pInterval[0])+<span class="stringliteral">&#39;-&#39;</span>+str(pInterval[1])</div>
<div class="line"><span class="lineno"> 6755</span>        proj = <span class="stringliteral">&#39;p/pt&#39;</span></div>
<div class="line"><span class="lineno"> 6756</span>        hname = proj+x+interval</div>
<div class="line"><span class="lineno"> 6757</span>        data = h[hname].GetMean()</div>
<div class="line"><span class="lineno"> 6758</span>        mc   = h[<span class="stringliteral">&#39;MC&#39;</span>+hname].GetMean()</div>
<div class="line"><span class="lineno"> 6759</span>        mcCharm = h[<span class="stringliteral">&#39;MC&#39;</span>+hname.replace(<span class="stringliteral">&#39;_y&#39;</span>,<span class="stringliteral">&#39;charm_y&#39;</span>)].GetMean()</div>
<div class="line"><span class="lineno"> 6760</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;%11s    %5.2G        %5.2G         %5.2G &quot;</span>%(str(pInterval[0])+<span class="stringliteral">&#39;-&#39;</span>+str(pInterval[1]),data,mc,mcCharm)</div>
<div class="line"><span class="lineno"> 6761</span>    singlePtSlices()</div>
<div class="line"><span class="lineno"> 6762</span><span class="comment"># some code for 2 track events</span></div>
<div class="line"><span class="lineno"> 6763</span>    osign = {<span class="stringliteral">&#39;&#39;</span>:<span class="stringliteral">&#39;opposite sign&#39;</span>,<span class="stringliteral">&#39;s&#39;</span>:<span class="stringliteral">&#39;same sign&#39;</span>}</div>
<div class="line"><span class="lineno"> 6764</span>    txt = {6:<span class="stringliteral">&#39;P&gt;5GeV/c&#39;</span>,21:<span class="stringliteral">&#39;P&gt;20GeV/c&#39;</span>}</div>
<div class="line"><span class="lineno"> 6765</span>    pLimit = 400</div>
<div class="line"><span class="lineno"> 6766</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> osign:</div>
<div class="line"><span class="lineno"> 6767</span>        pad = 1</div>
<div class="line"><span class="lineno"> 6768</span>        rebin = <span class="keyword">False</span> <span class="comment">#5</span></div>
<div class="line"><span class="lineno"> 6769</span>        <span class="keywordflow">for</span> case <span class="keywordflow">in</span> txt:</div>
<div class="line"><span class="lineno"> 6770</span>            t = <span class="stringliteral">&#39;2trackOverAll&#39;</span>+osign[s]+txt[case]</div>
<div class="line"><span class="lineno"> 6771</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): ut.bookCanvas(h,key=t,title=<span class="stringliteral">&#39; momentum of muons in 2-track events &#39;</span>+osign[s],nx=800,ny=800,cx=1,cy=1)</div>
<div class="line"><span class="lineno"> 6772</span>            tc = h[t].cd(pad)</div>
<div class="line"><span class="lineno"> 6773</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(pad)+s]=ROOT.TLegend(0.42,0.54,0.88,0.86)</div>
<div class="line"><span class="lineno"> 6774</span>            hn = <span class="stringliteral">&#39;p1p2&#39;</span>+txt[case]+s</div>
<div class="line"><span class="lineno"> 6775</span>            h[hn] = h[<span class="stringliteral">&#39;p1/p2&#39;</span>+s].ProjectionX(hn,case,h[<span class="stringliteral">&#39;p1/p2&#39;</span>+s].GetYaxis().FindBin(pMax))</div>
<div class="line"><span class="lineno"> 6776</span>            h[hn].Add(h[<span class="stringliteral">&#39;p1/p2&#39;</span>+s].ProjectionY(<span class="stringliteral">&#39;p1p2y&#39;</span>+txt[case]+s,case,h[<span class="stringliteral">&#39;p1/p2&#39;</span>+s].GetXaxis().FindBin(pMax)) )</div>
<div class="line"><span class="lineno"> 6777</span>            <span class="keywordflow">if</span> rebin&gt;1: h[hn].Rebin(rebin)</div>
<div class="line"><span class="lineno"> 6778</span>            norm = h[<span class="stringliteral">&#39;p/ptmu_x&#39;</span>].Integral(case,h[<span class="stringliteral">&#39;p/ptmu_x&#39;</span>].FindBin(pMax))*POTdata</div>
<div class="line"><span class="lineno"> 6779</span>            h[hn].Scale(1./norm)</div>
<div class="line"><span class="lineno"> 6780</span>            h[hn].SetTitle(<span class="stringliteral">&#39;P in 2-track events &#39;</span>+txt[case]+<span class="stringliteral">&#39;; GeV/c;N2/Nall with P &gt; / &#39;</span>)</div>
<div class="line"><span class="lineno"> 6781</span>            h[hn].SetStats(0)</div>
<div class="line"><span class="lineno"> 6782</span>            h[hn].SetMaximum(0.5)</div>
<div class="line"><span class="lineno"> 6783</span>            h[hn].SetMinimum(2E-6)</div>
<div class="line"><span class="lineno"> 6784</span>            ut.makeIntegralDistrib(h,hn,withOverFlow)</div>
<div class="line"><span class="lineno"> 6785</span>            Ihn = <span class="stringliteral">&#39;I-&#39;</span>+hn</div>
<div class="line"><span class="lineno"> 6786</span>            h[Ihn].GetXaxis().SetRangeUser(case,pLimit)</div>
<div class="line"><span class="lineno"> 6787</span>            <span class="keywordflow">if</span> noTitle: h[Ihn].SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6788</span>            h[Ihn].Draw()</div>
<div class="line"><span class="lineno"> 6789</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(pad)+s].AddEntry(h[hn],opt[<span class="stringliteral">&#39;&#39;</span>][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6790</span>            tc.SetLogy()</div>
<div class="line"><span class="lineno"> 6791</span><span class="comment"># now MC</span></div>
<div class="line"><span class="lineno"> 6792</span>            <span class="keywordflow">if</span> case &lt; 20: mchist = <span class="stringliteral">&#39;MCp1/p2&#39;</span>+s</div>
<div class="line"><span class="lineno"> 6793</span>            <span class="keywordflow">else</span>:         mchist = <span class="stringliteral">&#39;MC10p1/p2&#39;</span>+s</div>
<div class="line"><span class="lineno"> 6794</span>            hn=<span class="stringliteral">&#39;MCp1p2&#39;</span>+txt[case]+s</div>
<div class="line"><span class="lineno"> 6795</span>            h[hn] = h[mchist].ProjectionX(hn,case,h[mchist].GetYaxis().FindBin(pMax))</div>
<div class="line"><span class="lineno"> 6796</span>            h[hn].Add(h[mchist].ProjectionY(<span class="stringliteral">&#39;MCp1p2y&#39;</span>+txt[case]+s,case,h[mchist].GetYaxis().FindBin(pMax)) )</div>
<div class="line"><span class="lineno"> 6797</span>            <span class="keywordflow">if</span> rebin&gt;1: h[hn].Rebin(rebin)</div>
<div class="line"><span class="lineno"> 6798</span>            <span class="keywordflow">if</span> case &lt; 20: norm = h[<span class="stringliteral">&#39;MCp/ptmu_x&#39;</span>].Integral(case,h[<span class="stringliteral">&#39;MCp/ptmu_x&#39;</span>].FindBin(pMax))*POTdata</div>
<div class="line"><span class="lineno"> 6799</span>            <span class="keywordflow">else</span>:         norm = h[<span class="stringliteral">&#39;MC10p/ptmu_x&#39;</span>].Integral(case,h[<span class="stringliteral">&#39;MC10p/ptmu_x&#39;</span>].FindBin(pMax))*POTdata</div>
<div class="line"><span class="lineno"> 6800</span>            h[hn].Scale(1./norm)</div>
<div class="line"><span class="lineno"> 6801</span>            h[hn].SetStats(0)</div>
<div class="line"><span class="lineno"> 6802</span>            h[hn].SetTitle(<span class="stringliteral">&#39;P in 2-track events, one track with &#39;</span>+txt[case]+<span class="stringliteral">&#39;; GeV/c&#39;</span>)</div>
<div class="line"><span class="lineno"> 6803</span>            h[hn].SetLineColor(opt[<span class="stringliteral">&#39;MC&#39;</span>][1])</div>
<div class="line"><span class="lineno"> 6804</span>            ut.makeIntegralDistrib(h,hn,withOverFlow)</div>
<div class="line"><span class="lineno"> 6805</span>            Ihn = <span class="stringliteral">&#39;I-&#39;</span>+hn</div>
<div class="line"><span class="lineno"> 6806</span>            <span class="keywordflow">if</span> noTitle: h[Ihn].SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6807</span>            h[Ihn].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6808</span>            h[Ihn].GetXaxis().SetRangeUser(case,pLimit)</div>
<div class="line"><span class="lineno"> 6809</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(pad)+s].AddEntry(h[hn],opt[<span class="stringliteral">&#39;MC&#39;</span>][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6810</span>            tc.SetLogy()</div>
<div class="line"><span class="lineno"> 6811</span>            <span class="keywordflow">for</span> i1 <span class="keywordflow">in</span> optSorted:</div>
<div class="line"><span class="lineno"> 6812</span>                <span class="keywordflow">if</span> i1.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6813</span>                <span class="keywordflow">if</span> i1.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0 <span class="keywordflow">and</span> case==21: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6814</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i1.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0 <span class="keywordflow">and</span> case==6: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6815</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> i1.find(<span class="stringliteral">&#39;MC10&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6816</span>                    i = <span class="stringliteral">&#39;MC10&#39;</span></div>
<div class="line"><span class="lineno"> 6817</span>                    source = i1.split(<span class="stringliteral">&#39;MC10&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6818</span>                <span class="keywordflow">elif</span> <span class="keywordflow">not</span> i.find(<span class="stringliteral">&#39;MC&#39;</span>)&lt;0: </div>
<div class="line"><span class="lineno"> 6819</span>                    i = <span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6820</span>                    source = i1.split(<span class="stringliteral">&#39;MC&#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 6821</span>                <span class="keywordflow">if</span> source == <span class="stringliteral">&#39;&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6822</span>                hn=<span class="stringliteral">&#39;MCp1p2&#39;</span>+source+txt[case]+s</div>
<div class="line"><span class="lineno"> 6823</span>                h[hn] = h[i+<span class="stringliteral">&#39;p1/p2&#39;</span>+s+source].ProjectionX(hn,case,h[i+<span class="stringliteral">&#39;p1/p2&#39;</span>+s+source].GetYaxis().FindBin(pMax))</div>
<div class="line"><span class="lineno"> 6824</span>                h[hn].Add(h[i+<span class="stringliteral">&#39;p1/p2&#39;</span>+s+source].ProjectionY(i+<span class="stringliteral">&#39;p1/p2y&#39;</span>+source+txt[case]+s,case,h[i+<span class="stringliteral">&#39;p1/p2&#39;</span>+s+source].GetXaxis().FindBin(pMax)))</div>
<div class="line"><span class="lineno"> 6825</span>                <span class="keywordflow">if</span> rebin&gt;1: h[hn].Rebin(5)</div>
<div class="line"><span class="lineno"> 6826</span>                h[hn].SetLineColor(opt[i1][1])</div>
<div class="line"><span class="lineno"> 6827</span>                h[hn].SetStats(0)</div>
<div class="line"><span class="lineno"> 6828</span>                h[hn].Scale(1./norm)</div>
<div class="line"><span class="lineno"> 6829</span>                ut.makeIntegralDistrib(h,hn,withOverFlow)</div>
<div class="line"><span class="lineno"> 6830</span>                Ihn = <span class="stringliteral">&#39;I-&#39;</span>+hn</div>
<div class="line"><span class="lineno"> 6831</span>                <span class="keywordflow">if</span> noTitle: h[Ihn].SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 6832</span>                h[Ihn].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6833</span>                h[Ihn].GetXaxis().SetRangeUser(case,pMax)</div>
<div class="line"><span class="lineno"> 6834</span>                h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(pad)+s].AddEntry(h[hn],opt[i1][2],<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 6835</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t+str(pad)+s].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6836</span>            pad +=1</div>
<div class="line"><span class="lineno"> 6837</span>            myPrint(h[t],label+<span class="stringliteral">&#39;2Tracks&#39;</span>+osign[s]+str(case))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a628841e32bbfade168941e2cf1225cba" name="a628841e32bbfade168941e2cf1225cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a628841e32bbfade168941e2cf1225cba">&#9670;&#160;</a></span>MCcomparisonHitmaps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.MCcomparisonHitmaps </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>MC</em> = <code>'1GeV'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>first</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l06875">6875</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6875</span><span class="keyword">def </span>MCcomparisonHitmaps(MC=&#39;1GeV&#39;,first=False):</div>
<div class="line"><span class="lineno"> 6876</span><span class="comment"># MC</span></div>
<div class="line"><span class="lineno"> 6877</span>    t=<span class="stringliteral">&#39;hitMapsX&#39;</span></div>
<div class="line"><span class="lineno"> 6878</span>    <span class="keywordflow">if</span> first:</div>
<div class="line"><span class="lineno"> 6879</span>        <span class="keyword">global</span> h</div>
<div class="line"><span class="lineno"> 6880</span>        ut.readHists(h,<span class="stringliteral">&quot;HitmapsFromFittedTracks-&quot;</span>+MC+<span class="stringliteral">&quot;-mbias.root&quot;</span>)</div>
<div class="line"><span class="lineno"> 6881</span>        plotHitMapsOld(onlyPlotting=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 6882</span>        f = ROOT.TFile(<span class="stringliteral">&#39;TCanvas-HitmapsFromFittedTracks-&#39;</span>+MC+<span class="stringliteral">&#39;-mbias.root&#39;</span>,<span class="stringliteral">&#39;recreate&#39;</span>)</div>
<div class="line"><span class="lineno"> 6883</span>        h[t].Write()</div>
<div class="line"><span class="lineno"> 6884</span>        f.Close()</div>
<div class="line"><span class="lineno"> 6885</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 6886</span>            <span class="keywordflow">for</span> p <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 6887</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(2): </div>
<div class="line"><span class="lineno"> 6888</span>                    xLayers[s][p][l][<span class="stringliteral">&#39;_x&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 6889</span>                    <span class="keywordflow">if</span> s==1: xLayers[s][p][l][<span class="stringliteral">&#39;_u&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 6890</span>                    <span class="keywordflow">if</span> s==2: xLayers[s][p][l][<span class="stringliteral">&#39;_v&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 6891</span>    <span class="comment">#ut.readHists(h,&quot;HitmapsFromFittedTracks.root&quot;)</span></div>
<div class="line"><span class="lineno"> 6892</span>    ut.readHists(h,<span class="stringliteral">&quot;histos-HitmapsFromFittedTracks-&quot;</span>+rname)</div>
<div class="line"><span class="lineno"> 6893</span>    plotHitMapsOld(onlyPlotting=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 6894</span>    h[<span class="stringliteral">&#39;fMC&#39;</span>+t]=ROOT.TFile(<span class="stringliteral">&#39;TCanvas-HitmapsFromFittedTracks-&#39;</span>+MC+<span class="stringliteral">&#39;-mbias.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 6895</span>    h[<span class="stringliteral">&#39;TMC&#39;</span>+t]=  h[<span class="stringliteral">&#39;fMC&#39;</span>+t].GetListOfKeys()[0].ReadObj()</div>
<div class="line"><span class="lineno"> 6896</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,25):</div>
<div class="line"><span class="lineno"> 6897</span>        tc = h[t].cd(n)</div>
<div class="line"><span class="lineno"> 6898</span>        tmp = h[<span class="stringliteral">&#39;TMC&#39;</span>+t].GetPad(n)</div>
<div class="line"><span class="lineno"> 6899</span>        <span class="keywordflow">for</span> obj <span class="keywordflow">in</span> tmp.GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 6900</span>            <span class="keywordflow">if</span> obj.Class().GetName().find(<span class="stringliteral">&#39;TH1&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6901</span>            NMC = obj.GetEntries()</div>
<div class="line"><span class="lineno"> 6902</span>            NDA = tc.FindObject(obj.GetName()).GetEntries()</div>
<div class="line"><span class="lineno"> 6903</span>            obj.Scale(NDA/NMC)</div>
<div class="line"><span class="lineno"> 6904</span>            newName = <span class="stringliteral">&#39;MC&#39;</span>+obj.GetName()</div>
<div class="line"><span class="lineno"> 6905</span>            h[newName]=obj.Clone(newName)</div>
<div class="line"><span class="lineno"> 6906</span>            h[newName].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 6907</span>            h[newName].Draw(<span class="stringliteral">&#39;histsame&#39;</span>)</div>
<div class="line"><span class="lineno"> 6908</span>    myPrint(h[t],<span class="stringliteral">&#39;MCcomparison-hitmaps&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aed615db10f66abb34604d55a095b2a78" name="aed615db10f66abb34604d55a095b2a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed615db10f66abb34604d55a095b2a78">&#9670;&#160;</a></span>MCJpsiProd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.MCJpsiProd </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>onlyPlotting</em> = <code>False</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01603">1603</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1603</span><span class="keyword">def </span>MCJpsiProd(onlyPlotting=False):</div>
<div class="line"><span class="lineno"> 1604</span>   beam = yBeam()</div>
<div class="line"><span class="lineno"> 1605</span>   names = {}</div>
<div class="line"><span class="lineno"> 1606</span>   <span class="keywordflow">for</span> c <span class="keywordflow">in</span> [221,223,113,331,333,443]:</div>
<div class="line"><span class="lineno"> 1607</span>    names[c] = PDG.GetParticle(c).GetName()</div>
<div class="line"><span class="lineno"> 1608</span>   <span class="keywordflow">if</span> <span class="keywordflow">not</span> onlyPlotting:</div>
<div class="line"><span class="lineno"> 1609</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> names:</div>
<div class="line"><span class="lineno"> 1610</span>     name = names[c]</div>
<div class="line"><span class="lineno"> 1611</span>     ut.bookHist(h,name+<span class="stringliteral">&#39;PandPt&#39;</span>,<span class="stringliteral">&#39;P and Pt of original &#39;</span>+name,100,0.,400.,100,0.,10.)</div>
<div class="line"><span class="lineno"> 1612</span>     ut.bookHist(h,name+<span class="stringliteral">&#39;PandPt_rec&#39;</span>,<span class="stringliteral">&#39;P and Pt of original &#39;</span>+name+<span class="stringliteral">&#39; for muons reconstructed&#39;</span>,100,0.,400.,100,0.,10.)</div>
<div class="line"><span class="lineno"> 1613</span>     ut.bookHist(h,name+<span class="stringliteral">&#39;Y&#39;</span>,<span class="stringliteral">&#39;rapidity of original &#39;</span>+name,80,-2.,6.)</div>
<div class="line"><span class="lineno"> 1614</span>     ut.bookHist(h,name+<span class="stringliteral">&#39;Y_rec&#39;</span>,<span class="stringliteral">&#39;rapidity of reconstructed &#39;</span>+name,80,-2.,6.)</div>
<div class="line"><span class="lineno"> 1615</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 1616</span>         rc=sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 1617</span>         <span class="keywordflow">for</span> m <span class="keywordflow">in</span> range(sTree.MCTrack.GetEntries()):</div>
<div class="line"><span class="lineno"> 1618</span>             p = sTree.MCTrack[m]</div>
<div class="line"><span class="lineno"> 1619</span>             <span class="keywordflow">if</span> p.GetPdgCode() <span class="keywordflow">in</span> names:</div>
<div class="line"><span class="lineno"> 1620</span>                rc=h[names[p.GetPdgCode()]+<span class="stringliteral">&#39;PandPt&#39;</span>].Fill(p.GetP(),p.GetPt())</div>
<div class="line"><span class="lineno"> 1621</span>                rc=h[names[p.GetPdgCode()]+<span class="stringliteral">&#39;Y&#39;</span>].Fill(p.GetRapidity()-beam)</div>
<div class="line"><span class="lineno"> 1622</span>                nRec = 0</div>
<div class="line"><span class="lineno"> 1623</span>                <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(sTree.FitTracks.GetEntries()):</div>
<div class="line"><span class="lineno"> 1624</span>                  mu = sTree.TrackInfos[k].McTrack()</div>
<div class="line"><span class="lineno"> 1625</span>                  <span class="keywordflow">if</span> mu&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1626</span>                  <span class="keywordflow">if</span> sTree.MCTrack[mu].GetMotherId()==m: nRec += 1</div>
<div class="line"><span class="lineno"> 1627</span>                <span class="keywordflow">if</span> nRec == 2: </div>
<div class="line"><span class="lineno"> 1628</span>                   rc=h[names[p.GetPdgCode()]+<span class="stringliteral">&#39;PandPt_rec&#39;</span>].Fill(p.GetP(),p.GetPt())</div>
<div class="line"><span class="lineno"> 1629</span>                   rc=h[names[p.GetPdgCode()]+<span class="stringliteral">&#39;Y_rec&#39;</span>].Fill(p.GetRapidity()-beam)</div>
<div class="line"><span class="lineno"> 1630</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1631</span>    ut.writeHists(h,<span class="stringliteral">&#39;histos-Jpsi&#39;</span>+rname)</div>
<div class="line"><span class="lineno"> 1632</span>   <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1633</span>    ut.readHists(h,<span class="stringliteral">&#39;JpsiKinematics-1GeV-mbias.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 1634</span>    ut.readHists(h,<span class="stringliteral">&#39;JpsiKinematics-1GeV-charm.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 1635</span>    ut.readHists(h,<span class="stringliteral">&#39;JpsiKinematics-10GeV.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 1636</span>    h[<span class="stringliteral">&#39;lowMassPandPt_rec&#39;</span>]=h[names[443]+<span class="stringliteral">&#39;PandPt_rec&#39;</span>].Clone(<span class="stringliteral">&#39;lowMassPandPt_rec&#39;</span>)</div>
<div class="line"><span class="lineno"> 1637</span>    h[<span class="stringliteral">&#39;lowMassPandPt&#39;</span>]=h[names[443]+<span class="stringliteral">&#39;PandPt&#39;</span>].Clone(<span class="stringliteral">&#39;lowMassPandPt&#39;</span>)</div>
<div class="line"><span class="lineno"> 1638</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> names:</div>
<div class="line"><span class="lineno"> 1639</span>     h[<span class="stringliteral">&#39;lowMassPandPt_rec&#39;</span>].Add(h[names[c]+<span class="stringliteral">&#39;PandPt_rec&#39;</span>])</div>
<div class="line"><span class="lineno"> 1640</span>     h[<span class="stringliteral">&#39;lowMassPandPt&#39;</span>].Add(h[names[c]+<span class="stringliteral">&#39;PandPt&#39;</span>])</div>
<div class="line"><span class="lineno"> 1641</span>    names[<span class="stringliteral">&#39;lowMass&#39;</span>]=<span class="stringliteral">&#39;lowMass&#39;</span></div>
<div class="line"><span class="lineno"> 1642</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> names:</div>
<div class="line"><span class="lineno"> 1643</span>     ut.bookCanvas(h,<span class="stringliteral">&#39;acc&#39;</span>+names[c],names[c]+<span class="stringliteral">&#39; acceptance&#39;</span>,1200,800,1,3)</div>
<div class="line"><span class="lineno"> 1644</span>     <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [names[c]+<span class="stringliteral">&#39;PandPt_rec&#39;</span>,names[c]+<span class="stringliteral">&#39;PandPt&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1645</span>       h[x].GetYaxis().SetRangeUser(0.,5.)</div>
<div class="line"><span class="lineno"> 1646</span>       h[x].SetStats(0)</div>
<div class="line"><span class="lineno"> 1647</span>       h[x].SetTitle(h[x].GetTitle()+<span class="stringliteral">&#39;;#it{p} [GeV/c];#it{p}_{T} [GeV/c]&#39;</span>)</div>
<div class="line"><span class="lineno"> 1648</span>     h[names[c]+<span class="stringliteral">&#39;recoEff&#39;</span>]=ROOT.TEfficiency(h[names[c]+<span class="stringliteral">&#39;PandPt_rec&#39;</span>],h[names[c]+<span class="stringliteral">&#39;PandPt&#39;</span>])</div>
<div class="line"><span class="lineno"> 1649</span>     ROOT.gStyle.SetPalette(ROOT.kTemperatureMap)</div>
<div class="line"><span class="lineno"> 1650</span>     tc = h[<span class="stringliteral">&#39;acc&#39;</span>+names[c]].cd(1)</div>
<div class="line"><span class="lineno"> 1651</span>     h[names[c]+<span class="stringliteral">&#39;PandPt&#39;</span>].Draw(<span class="stringliteral">&#39;colz&#39;</span>)</div>
<div class="line"><span class="lineno"> 1652</span>     tc = h[<span class="stringliteral">&#39;acc&#39;</span>+names[c]].cd(2)</div>
<div class="line"><span class="lineno"> 1653</span>     h[names[c]+<span class="stringliteral">&#39;PandPt_rec&#39;</span>].Draw(<span class="stringliteral">&#39;colz&#39;</span>)</div>
<div class="line"><span class="lineno"> 1654</span>     tc = h[<span class="stringliteral">&#39;acc&#39;</span>+names[c]].cd(3)</div>
<div class="line"><span class="lineno"> 1655</span>     h[names[c]+<span class="stringliteral">&#39;recoEff&#39;</span>].Draw(<span class="stringliteral">&#39;colz&#39;</span>)</div>
<div class="line"><span class="lineno"> 1656</span>     tc.Update()</div>
<div class="line"><span class="lineno"> 1657</span>     h[names[c]+<span class="stringliteral">&#39;recoEff&#39;</span>].GetPaintedHistogram().GetYaxis().SetRangeUser(0.,5.)</div>
<div class="line"><span class="lineno"> 1658</span>     tc.Update()</div>
<div class="line"><span class="lineno"> 1659</span>     myPrint(h[<span class="stringliteral">&#39;acc&#39;</span>+names[c]],names[c]+<span class="stringliteral">&#39;Acceptance&#39;</span>)</div>
<div class="line"><span class="lineno"> 1660</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> names:</div>
<div class="line"><span class="lineno"> 1661</span>     ut.bookCanvas(h,<span class="stringliteral">&#39;accRap&#39;</span>+names[c],names[c]+<span class="stringliteral">&#39; acceptance&#39;</span>,1200,800,1,2)</div>
<div class="line"><span class="lineno"> 1662</span>     <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [names[c]+<span class="stringliteral">&#39;Y_rec&#39;</span>,names[c]+<span class="stringliteral">&#39;Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1663</span>       h[x].SetStats(0)</div>
<div class="line"><span class="lineno"> 1664</span>       h[x].SetTitle(h[x].GetTitle()+<span class="stringliteral">&#39;;rapidity Y;&#39;</span>)</div>
<div class="line"><span class="lineno"> 1665</span>     h[names[c]+<span class="stringliteral">&#39;YrecoEff&#39;</span>]=ROOT.TEfficiency(h[names[c]+<span class="stringliteral">&#39;Y_rec&#39;</span>],h[names[c]+<span class="stringliteral">&#39;Y&#39;</span>])</div>
<div class="line"><span class="lineno"> 1666</span>     ROOT.gStyle.SetPalette(ROOT.kTemperatureMap)</div>
<div class="line"><span class="lineno"> 1667</span>     tc = h[<span class="stringliteral">&#39;accRap&#39;</span>+names[c]].cd(1)</div>
<div class="line"><span class="lineno"> 1668</span>     h[names[c]+<span class="stringliteral">&#39;Y&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1669</span>     h[names[c]+<span class="stringliteral">&#39;Y_rec&#39;</span>].SetLineColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 1670</span>     h[names[c]+<span class="stringliteral">&#39;Y_rec&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 1671</span>     tc = h[<span class="stringliteral">&#39;accRap&#39;</span>+names[c]].cd(2)</div>
<div class="line"><span class="lineno"> 1672</span>     h[names[c]+<span class="stringliteral">&#39;YrecoEff&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1673</span>     myPrint(h[<span class="stringliteral">&#39;accRap&#39;</span>+names[c]],names[c]+<span class="stringliteral">&#39;RapAcceptance&#39;</span>)</div>
<div class="line"><span class="lineno"> 1674</span> </div>
<div class="line"><span class="lineno"> 1675</span> </div>
<div class="line"><span class="lineno"> 1676</span><span class="comment"># from TrackExtrapolateTool</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af27394aff0aaef8adce9c03baf3c7db2" name="af27394aff0aaef8adce9c03baf3c7db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af27394aff0aaef8adce9c03baf3c7db2">&#9670;&#160;</a></span>mergeGoodRuns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.mergeGoodRuns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>excludeRPC</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em> = <code>'.'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fromEOS</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07330">7330</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7330</span><span class="keyword">def </span>mergeGoodRuns(excludeRPC=False,path=&#39;.&#39;,fromEOS=True):</div>
<div class="line"><span class="lineno"> 7331</span>    <span class="comment">#path = &#39;/media/truf/disk2/home/truf/ShipSoft/ship-ubuntu-1710-64&#39;</span></div>
<div class="line"><span class="lineno"> 7332</span>    noField           = [2199,2200,2201]</div>
<div class="line"><span class="lineno"> 7333</span>    intermediateField = [2383,2388,2389,2390,2392,2395,2396]</div>
<div class="line"><span class="lineno"> 7334</span>    noTracks          = [2334, 2335, 2336, 2337, 2345, 2389, 2390]</div>
<div class="line"><span class="lineno"> 7335</span>    RPCbad = [2144,2154,2183,2192,2210,2211,2217,2218,2235,2236,2237,2240,2241,2243,2291,2345,2359]</div>
<div class="line"><span class="lineno"> 7336</span>    badRuns = [2142, 2143, 2144, 2149]</div>
<div class="line"><span class="lineno"> 7337</span>    keyword = <span class="stringliteral">&#39;RUN_8000_2&#39;</span></div>
<div class="line"><span class="lineno"> 7338</span>    temp = os.listdir(path)</div>
<div class="line"><span class="lineno"> 7339</span>    cmd = <span class="stringliteral">&#39;hadd -f momDistributions.root &#39;</span></div>
<div class="line"><span class="lineno"> 7340</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> temp:</div>
<div class="line"><span class="lineno"> 7341</span>        <span class="keywordflow">if</span> x.find(keyword)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7342</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> fromEOS:</div>
<div class="line"><span class="lineno"> 7343</span>          <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isdir(path+<span class="stringliteral">&#39;/&#39;</span>+x): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7344</span>          r = int(x[x.rfind(<span class="stringliteral">&#39;/&#39;</span>)+1:].split(<span class="stringliteral">&#39;_&#39;</span>)[2])</div>
<div class="line"><span class="lineno"> 7345</span>          <span class="keywordflow">if</span> r <span class="keywordflow">in</span> badRuns <span class="keywordflow">or</span> r <span class="keywordflow">in</span> noTracks <span class="keywordflow">or</span> r <span class="keywordflow">in</span> intermediateField <span class="keywordflow">or</span> r <span class="keywordflow">in</span> noField : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7346</span>          <span class="keywordflow">if</span> excludeRPC <span class="keywordflow">and</span> (r <span class="keywordflow">in</span> RPCbad <span class="keywordflow">or</span> (r&gt;2198 <span class="keywordflow">and</span> r &lt; 2275)) : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7347</span>          test = path+<span class="stringliteral">&#39;/&#39;</span>+x+<span class="stringliteral">&#39;/momDistributions.root &#39;</span></div>
<div class="line"><span class="lineno"> 7348</span>          <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isfile(test.replace(<span class="stringliteral">&#39; &#39;</span>,<span class="stringliteral">&#39;&#39;</span>)):</div>
<div class="line"><span class="lineno"> 7349</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;no file found, skip run:&quot;</span>,x,test</div>
<div class="line"><span class="lineno"> 7350</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7351</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 7352</span>          <span class="keywordflow">if</span> x.find(<span class="stringliteral">&quot;momDistributions-RUN_8000_2&quot;</span>)!=0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7353</span>          test = x+<span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><span class="lineno"> 7354</span>        cmd += test</div>
<div class="line"><span class="lineno"> 7355</span>    os.system(cmd)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a63cfbb5646669c8bd7a313971867e679" name="a63cfbb5646669c8bd7a313971867e679"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63cfbb5646669c8bd7a313971867e679">&#9670;&#160;</a></span>mergeHistosForMomResol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.mergeHistosForMomResol </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>withFitPoints</em> = <code>False</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03972">3972</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3972</span><span class="keyword">def </span>mergeHistosForMomResol(withFitPoints=False):</div>
<div class="line"><span class="lineno"> 3973</span>    <span class="comment"># 1GeV mbias,      1.8 Billion PoT </span></div>
<div class="line"><span class="lineno"> 3974</span>    <span class="comment"># 1GeV charm,     10.2 Billion PoT,  10 files</span></div>
<div class="line"><span class="lineno"> 3975</span>    <span class="comment"># 10GeV MC,         65 Billion PoT </span></div>
<div class="line"><span class="lineno"> 3976</span>    <span class="comment"># 10GeV charm    153.3 Billion PoT </span></div>
<div class="line"><span class="lineno"> 3977</span>    versions = [<span class="stringliteral">&#39;-repro&#39;</span>,<span class="stringliteral">&quot;-0&quot;</span>]  <span class="comment"># &quot;,&quot;-multHits&quot; -noDeadChannels -withDeadChannels&quot;</span></div>
<div class="line"><span class="lineno"> 3978</span>    MCStats   = 1.806E9</div>
<div class="line"><span class="lineno"> 3979</span>    MC10Stats = 66.02E9</div>
<div class="line"><span class="lineno"> 3980</span>    sim10fact = MCStats/(MC10Stats) <span class="comment"># normalize 10GeV to 1GeV stats </span></div>
<div class="line"><span class="lineno"> 3981</span>    charmNorm  = {1:MCStats/10.21E9,10:MC10Stats/153.90E9}</div>
<div class="line"><span class="lineno"> 3982</span>    beautyNorm = {1:0.,   10:0.01218}</div>
<div class="line"><span class="lineno"> 3983</span>    sources = {<span class="stringliteral">&quot;&quot;</span>:1.,<span class="stringliteral">&quot;Hadronic inelastic&quot;</span>:100.,<span class="stringliteral">&quot;Lepton pair&quot;</span>:100.,<span class="stringliteral">&quot;Positron annihilation&quot;</span>:100.,</div>
<div class="line"><span class="lineno"> 3984</span>               <span class="stringliteral">&quot;charm&quot;</span>:1./charmNorm[10],<span class="stringliteral">&quot;beauty&quot;</span>:1./beautyNorm[10],<span class="stringliteral">&quot;Di-muon P8&quot;</span>:100.,<span class="stringliteral">&quot;invalid&quot;</span>:1.}</div>
<div class="line"><span class="lineno"> 3985</span>    <span class="keywordflow">if</span> len(hMC)==0:</div>
<div class="line"><span class="lineno"> 3986</span>        interestingHistos = []</div>
<div class="line"><span class="lineno"> 3987</span>        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;trueMom&#39;</span>,<span class="stringliteral">&#39;recoMom&#39;</span>,<span class="stringliteral">&#39;momResol&#39;</span>,<span class="stringliteral">&#39;curvResol&#39;</span>,<span class="stringliteral">&#39;Fitpoints_u1&#39;</span>,<span class="stringliteral">&#39;Fitpoints_v2&#39;</span>,<span class="stringliteral">&#39;Fitpoints_x1&#39;</span>,<span class="stringliteral">&#39;Fitpoints_x2&#39;</span>,<span class="stringliteral">&#39;Fitpoints_x3&#39;</span>,<span class="stringliteral">&#39;Fitpoints_x4&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3988</span>            <span class="keywordflow">for</span> source <span class="keywordflow">in</span> sources:  interestingHistos.append(a+source)</div>
<div class="line"><span class="lineno"> 3989</span>        <span class="keywordflow">for</span> v <span class="keywordflow">in</span> versions: </div>
<div class="line"><span class="lineno"> 3990</span>            h[v]={<span class="stringliteral">&#39;1GeV&#39;</span>:{},<span class="stringliteral">&#39;1GeVCharm&#39;</span>:{},<span class="stringliteral">&#39;10GeV&#39;</span>:{}}</div>
<div class="line"><span class="lineno"> 3991</span>            <span class="keywordflow">if</span> v.find(<span class="stringliteral">&#39;repro&#39;</span>)&lt;0:</div>
<div class="line"><span class="lineno"> 3992</span>             ut.readHists(h[v][<span class="stringliteral">&#39;1GeV&#39;</span>],       <span class="stringliteral">&#39;momDistributions-1GeV-mbias&#39;</span>+v+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 3993</span>             ut.readHists(h[v][<span class="stringliteral">&#39;1GeVCharm&#39;</span>],  <span class="stringliteral">&#39;momDistributions-1GeV-charm&#39;</span>+v+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 3994</span>             ut.readHists(h[v][<span class="stringliteral">&#39;10GeV&#39;</span>],      <span class="stringliteral">&#39;momDistributions-10GeV-mbias&#39;</span>+v+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 3995</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 3996</span>             ut.readHists(h[v][<span class="stringliteral">&#39;1GeV&#39;</span>],       <span class="stringliteral">&#39;sumHistos--simulation1GeV&#39;</span>+v+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 3997</span>             ut.readHists(h[v][<span class="stringliteral">&#39;1GeVCharm&#39;</span>],  <span class="stringliteral">&#39;sumHistos--simulation1GeV&#39;</span>+v+<span class="stringliteral">&#39;-charm.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 3998</span>             ut.readHists(h[v][<span class="stringliteral">&#39;10GeV&#39;</span>],      <span class="stringliteral">&#39;sumHistos--simulation10GeV&#39;</span>+v+<span class="stringliteral">&#39;.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 3999</span>        <span class="keywordflow">for</span> res <span class="keywordflow">in</span> versions:</div>
<div class="line"><span class="lineno"> 4000</span>            <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;trueMom&#39;</span>,<span class="stringliteral">&#39;recoMom&#39;</span>,<span class="stringliteral">&#39;Fitpoints_u1&#39;</span>,<span class="stringliteral">&#39;Fitpoints_v2&#39;</span>,<span class="stringliteral">&#39;Fitpoints_x1&#39;</span>,<span class="stringliteral">&#39;Fitpoints_x2&#39;</span>,<span class="stringliteral">&#39;Fitpoints_x3&#39;</span>,<span class="stringliteral">&#39;Fitpoints_x4&#39;</span>]:</div>
<div class="line"><span class="lineno"> 4001</span>                <span class="keywordflow">if</span> a.find(<span class="stringliteral">&#39;Fit&#39;</span>)==0 <span class="keywordflow">and</span> <span class="keywordflow">not</span> withFitPoints: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4002</span>                h[<span class="stringliteral">&#39;MC&#39;</span>+res+a] = h[res][<span class="stringliteral">&#39;1GeV&#39;</span>][a].Clone(<span class="stringliteral">&#39;MC&#39;</span>+res+a)</div>
<div class="line"><span class="lineno"> 4003</span>                h[<span class="stringliteral">&#39;MC&#39;</span>+res+a].Add(h[res][<span class="stringliteral">&#39;1GeVCharm&#39;</span>][a],charmNorm[1])</div>
<div class="line"><span class="lineno"> 4004</span>                h[<span class="stringliteral">&#39;MC10&#39;</span>+res+a] = h[res][<span class="stringliteral">&#39;10GeV&#39;</span>][a].Clone(<span class="stringliteral">&#39;MC10&#39;</span>+res+a)</div>
<div class="line"><span class="lineno"> 4005</span><span class="comment"># special treatment for 10GeV to get weights right</span></div>
<div class="line"><span class="lineno"> 4006</span>                h[<span class="stringliteral">&#39;MC10&#39;</span>+res+a].Add(h[res][<span class="stringliteral">&#39;10GeV&#39;</span>][a+<span class="stringliteral">&quot;charm&quot;</span>],-1.+charmNorm[10])</div>
<div class="line"><span class="lineno"> 4007</span>                h[<span class="stringliteral">&#39;MC10&#39;</span>+res+a].Add(h[res][<span class="stringliteral">&#39;10GeV&#39;</span>][a+<span class="stringliteral">&quot;beauty&quot;</span>],-1.+beautyNorm[10])</div>
<div class="line"><span class="lineno"> 4008</span>                h[<span class="stringliteral">&#39;MC10&#39;</span>+res+a].Scale(sim10fact)</div>
<div class="line"><span class="lineno"> 4009</span>        <span class="comment"># 2d histos, only for resolution plot, don&#39;t care about mom distribution&#39;</span></div>
<div class="line"><span class="lineno"> 4010</span>            h[<span class="stringliteral">&quot;momResol&quot;</span>+res] = h[res][<span class="stringliteral">&#39;1GeV&#39;</span>][<span class="stringliteral">&quot;momResol&quot;</span>].Clone()</div>
<div class="line"><span class="lineno"> 4011</span>            h[<span class="stringliteral">&quot;momResol&quot;</span>+res].Add(h[res][<span class="stringliteral">&#39;1GeVCharm&#39;</span>][<span class="stringliteral">&quot;momResol&quot;</span>])</div>
<div class="line"><span class="lineno"> 4012</span>            h[<span class="stringliteral">&quot;momResol&quot;</span>+res].Add(h[res][<span class="stringliteral">&#39;10GeV&#39;</span>][<span class="stringliteral">&quot;momResol&quot;</span>])</div>
<div class="line"><span class="lineno"> 4013</span>        <span class="comment"># use 1 GeV below 20GeV and 10 GeV above</span></div>
<div class="line"><span class="lineno"> 4014</span>            <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [<span class="stringliteral">&#39;trueMom&#39;</span>,<span class="stringliteral">&#39;recoMom&#39;</span>]:</div>
<div class="line"><span class="lineno"> 4015</span>                h[res+a]=h[<span class="stringliteral">&quot;MC10&quot;</span>+res+a].Clone()</div>
<div class="line"><span class="lineno"> 4016</span>                <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(h[a].GetNbinsX()):</div>
<div class="line"><span class="lineno"> 4017</span>                    <span class="keywordflow">if</span> h[res+a].GetBinCenter(n)&lt;20. : </div>
<div class="line"><span class="lineno"> 4018</span>                        h[res+a].SetBinContent(n,h[<span class="stringliteral">&quot;MC&quot;</span>+res+a].GetBinContent(n))</div>
<div class="line"><span class="lineno"> 4019</span>            h[res+<span class="stringliteral">&#39;trueMom&#39;</span>].SetLineColor(ROOT.kGreen)</div>
<div class="line"><span class="lineno"> 4020</span>            ut.makeIntegralDistrib(h,res+<span class="stringliteral">&#39;trueMom&#39;</span>)</div>
<div class="line"><span class="lineno"> 4021</span>            ut.makeIntegralDistrib(h,res+<span class="stringliteral">&#39;recoMom&#39;</span>)</div>
<div class="line"><span class="lineno"> 4022</span>            h[<span class="stringliteral">&#39;I-&#39;</span>+res+<span class="stringliteral">&#39;trueMom&#39;</span>].SetTitle(<span class="stringliteral">&#39; ;x [GeV/c]; #SigmaN/PoT with P&gt;x&#39;</span>)</div>
<div class="line"><span class="lineno"> 4023</span>            h[<span class="stringliteral">&#39;I-&#39;</span>+res+<span class="stringliteral">&#39;trueMom&#39;</span>].Scale(1./MCStats)</div>
<div class="line"><span class="lineno"> 4024</span>            h[<span class="stringliteral">&#39;I-&#39;</span>+res+<span class="stringliteral">&#39;recoMom&#39;</span>].Scale(1./MCStats)</div>
<div class="line"><span class="lineno"> 4025</span>            h[<span class="stringliteral">&#39;I-&#39;</span>+res+<span class="stringliteral">&#39;trueMom&#39;</span>].SetMinimum(5E-11)</div>
<div class="line"><span class="lineno"> 4026</span>            h[<span class="stringliteral">&#39;I-&#39;</span>+res+<span class="stringliteral">&#39;trueMom&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 4027</span>            h[<span class="stringliteral">&#39;I-&#39;</span>+res+<span class="stringliteral">&#39;trueMom&#39;</span>].GetXaxis().SetRangeUser(5.,500.)</div>
<div class="line"><span class="lineno"> 4028</span><span class="comment"># true mom, reco mom</span></div>
<div class="line"><span class="lineno"> 4029</span>    t = <span class="stringliteral">&quot;true Mom&quot;</span></div>
<div class="line"><span class="lineno"> 4030</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): ut.bookCanvas(h,t,<span class="stringliteral">&#39;true and reco momentum&#39;</span>,900,600,1,1)</div>
<div class="line"><span class="lineno"> 4031</span>    tc=h[t].cd(1)</div>
<div class="line"><span class="lineno"> 4032</span>    tc.SetLogy()</div>
<div class="line"><span class="lineno"> 4033</span>    v = <span class="stringliteral">&#39;-repro&#39;</span></div>
<div class="line"><span class="lineno"> 4034</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 4035</span>    h[<span class="stringliteral">&#39;I--0trueMom&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 4036</span>    h[<span class="stringliteral">&#39;I--0recoMom&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 4037</span>    h[<span class="stringliteral">&#39;I-&#39;</span>+v+<span class="stringliteral">&#39;recoMom&#39;</span>].SetLineColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 4038</span>    h[<span class="stringliteral">&#39;I-&#39;</span>+v+<span class="stringliteral">&#39;recoMom&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 4039</span>    h[<span class="stringliteral">&#39;leg&#39;</span>+t]=ROOT.TLegend(0.31,0.67,0.85,0.85)</div>
<div class="line"><span class="lineno"> 4040</span>    h[<span class="stringliteral">&#39;leg&#39;</span>+t].AddEntry(h[<span class="stringliteral">&#39;I--0trueMom&#39;</span>],<span class="stringliteral">&#39;true momentum &#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 4041</span>    h[<span class="stringliteral">&#39;leg&#39;</span>+t].AddEntry(h[<span class="stringliteral">&#39;I--0recoMom&#39;</span>],<span class="stringliteral">&#39;reconstructed momentum 270#mum&#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 4042</span>    h[<span class="stringliteral">&#39;leg&#39;</span>+t].AddEntry(h[<span class="stringliteral">&#39;I-&#39;</span>+v+<span class="stringliteral">&#39;recoMom&#39;</span>],<span class="stringliteral">&#39;reconstructed momentum 350#mum&#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 4043</span>    h[<span class="stringliteral">&#39;leg&#39;</span>+t].Draw()</div>
<div class="line"><span class="lineno"> 4044</span>    myPrint(h[t],<span class="stringliteral">&#39;True-Reco&#39;</span>)</div>
<div class="line"><span class="lineno"> 4045</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 4046</span>    fSqrt = ROOT.TF1(<span class="stringliteral">&#39;momResol&#39;</span>,<span class="stringliteral">&#39;sqrt([0]**2+x**2*[1]**2)&#39;</span>,2)</div>
<div class="line"><span class="lineno"> 4047</span>    fSqrt.SetParName(0,<span class="stringliteral">&#39;constant&#39;</span>)</div>
<div class="line"><span class="lineno"> 4048</span>    fSqrt.SetParName(1,<span class="stringliteral">&#39;linear&#39;</span>)</div>
<div class="line"><span class="lineno"> 4049</span>    t = <span class="stringliteral">&#39;momResolution&#39;</span></div>
<div class="line"><span class="lineno"> 4050</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): ut.bookCanvas(h,t,<span class="stringliteral">&#39;momentum Resolution&#39;</span>,900,600,1,1)</div>
<div class="line"><span class="lineno"> 4051</span>    tc=h[t].cd(1)</div>
<div class="line"><span class="lineno"> 4052</span>    <span class="keywordflow">for</span> res <span class="keywordflow">in</span> [<span class="stringliteral">&#39;-0&#39;</span>,v]:</div>
<div class="line"><span class="lineno"> 4053</span>        hname = <span class="stringliteral">&#39;momResol&#39;</span>+res</div>
<div class="line"><span class="lineno"> 4054</span>        h[hname+<span class="stringliteral">&#39;P&#39;</span>] = h[hname].ProjectionY(hname+<span class="stringliteral">&#39;P&#39;</span>)</div>
<div class="line"><span class="lineno"> 4055</span>        h[hname+<span class="stringliteral">&#39;P&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 4056</span>        h[hname+<span class="stringliteral">&#39;Perr&#39;</span>]=h[hname+<span class="stringliteral">&#39;P&#39;</span>].Clone(hname+<span class="stringliteral">&#39;Perr&#39;</span>)</div>
<div class="line"><span class="lineno"> 4057</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,h[hname+<span class="stringliteral">&#39;P&#39;</span>].GetNbinsX()+1):</div>
<div class="line"><span class="lineno"> 4058</span>            h[hname+str(n)] = h[hname].ProjectionX(hname+str(n),n,n)</div>
<div class="line"><span class="lineno"> 4059</span>            <span class="keywordflow">if</span> h[hname+str(n)].GetEntries()&lt;50: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4060</span>            <span class="keywordflow">if</span> n&gt;10: h[hname+str(n)].Rebin(5)</div>
<div class="line"><span class="lineno"> 4061</span>            fitFunction = h[hname+str(n)].GetFunction(<span class="stringliteral">&#39;gauss&#39;</span>)</div>
<div class="line"><span class="lineno"> 4062</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitFunction: fitFunction = myGauss </div>
<div class="line"><span class="lineno"> 4063</span>            fitFunction.SetParameter(0,h[hname+str(n)].GetMaximum()*0.02)</div>
<div class="line"><span class="lineno"> 4064</span>            fitFunction.SetParameter(1,0.)</div>
<div class="line"><span class="lineno"> 4065</span>            fitFunction.SetParameter(2,0.01)</div>
<div class="line"><span class="lineno"> 4066</span>            fitFunction.FixParameter(3,0.)</div>
<div class="line"><span class="lineno"> 4067</span>            fitResult = h[hname+str(n)].Fit(fitFunction,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-1.,1.)</div>
<div class="line"><span class="lineno"> 4068</span>            rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 4069</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4070</span>            mean = rc.GetParams()[1]</div>
<div class="line"><span class="lineno"> 4071</span>            rms  = rc.GetParams()[2]</div>
<div class="line"><span class="lineno"> 4072</span>            <span class="keywordflow">print</span> n,mean,rms</div>
<div class="line"><span class="lineno"> 4073</span>            h[hname+<span class="stringliteral">&#39;Perr&#39;</span>].SetBinContent(n,mean)</div>
<div class="line"><span class="lineno"> 4074</span>            h[hname+<span class="stringliteral">&#39;Perr&#39;</span>].SetBinError(n,abs(rms))</div>
<div class="line"><span class="lineno"> 4075</span>            h[hname+<span class="stringliteral">&#39;P&#39;</span>].SetBinContent(n,abs(rms))</div>
<div class="line"><span class="lineno"> 4076</span>        h[hname+<span class="stringliteral">&#39;P&#39;</span>].Fit(<span class="stringliteral">&#39;pol1&#39;</span>,<span class="stringliteral">&#39;QW&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,0.,300.)</div>
<div class="line"><span class="lineno"> 4077</span>        fitFun = h[hname+<span class="stringliteral">&#39;P&#39;</span>].GetFunction(<span class="stringliteral">&#39;pol1&#39;</span>)</div>
<div class="line"><span class="lineno"> 4078</span>        fSqrt.SetParameter(0,fitFun.GetParameter(0))</div>
<div class="line"><span class="lineno"> 4079</span>        fSqrt.SetParameter(1,fitFun.GetParameter(1))</div>
<div class="line"><span class="lineno"> 4080</span>        h[hname+<span class="stringliteral">&#39;P&#39;</span>].Fit(fSqrt,<span class="stringliteral">&#39;QW&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,0.,300.)</div>
<div class="line"><span class="lineno"> 4081</span>    h[<span class="stringliteral">&#39;leg&#39;</span>+t]=ROOT.TLegend(0.14,0.75,0.64,0.87)</div>
<div class="line"><span class="lineno"> 4082</span>    <span class="keywordflow">for</span> res <span class="keywordflow">in</span> [<span class="stringliteral">&#39;-0&#39;</span>,v]:</div>
<div class="line"><span class="lineno"> 4083</span>        hname = <span class="stringliteral">&#39;momResol&#39;</span>+res</div>
<div class="line"><span class="lineno"> 4084</span>        h[hname+<span class="stringliteral">&#39;P&#39;</span>].SetTitle(<span class="stringliteral">&#39;momentum resolution function of momentum;#it{p} [GeV/c];#sigma_{#it{p}} / #it{p}&#39;</span>)</div>
<div class="line"><span class="lineno"> 4085</span>        h[hname+<span class="stringliteral">&#39;P&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 4086</span>        h[hname+<span class="stringliteral">&#39;P&#39;</span>].SetMaximum(0.15)</div>
<div class="line"><span class="lineno"> 4087</span>        fSqrt = h[hname+<span class="stringliteral">&#39;P&#39;</span>].GetFunction(<span class="stringliteral">&#39;momResol&#39;</span>)</div>
<div class="line"><span class="lineno"> 4088</span>        p0 = <span class="stringliteral">&quot;%4.3F&quot;</span>%(100*fSqrt.GetParameter(0))</div>
<div class="line"><span class="lineno"> 4089</span>        p1 = <span class="stringliteral">&quot;%4.3F&quot;</span>%(100*fSqrt.GetParameter(1))</div>
<div class="line"><span class="lineno"> 4090</span>        <span class="keywordflow">if</span> res != <span class="stringliteral">&#39;-0&#39;</span>:</div>
<div class="line"><span class="lineno"> 4091</span>            h[<span class="stringliteral">&#39;text&#39;</span>+res] = ROOT.TLatex(21.,0.073,<span class="stringliteral">&#39;#sigma_{#it{p}}/#it{p} = (&#39;</span>+p0+<span class="stringliteral">&#39; #oplus &#39;</span>+p1+<span class="stringliteral">&#39;#times#it{p})%&#39;</span>)</div>
<div class="line"><span class="lineno"> 4092</span>            h[hname+<span class="stringliteral">&#39;P&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 4093</span>            h[hname+<span class="stringliteral">&#39;P&#39;</span>].SetLineColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 4094</span>            h[<span class="stringliteral">&#39;text&#39;</span>+res].SetTextColor(ROOT.kMagenta)</div>
<div class="line"><span class="lineno"> 4095</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t].AddEntry(h[hname+<span class="stringliteral">&#39;P&#39;</span>],<span class="stringliteral">&#39;adjusted 350#mum&#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 4096</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 4097</span>            h[<span class="stringliteral">&#39;text&#39;</span>+res] = ROOT.TLatex(120.,0.01,<span class="stringliteral">&#39;#sigma_{#it{p}}/#it{p} = (&#39;</span>+p0+<span class="stringliteral">&#39; #oplus &#39;</span>+p1+<span class="stringliteral">&#39;#times#it{p})%&#39;</span>)</div>
<div class="line"><span class="lineno"> 4098</span>            h[<span class="stringliteral">&#39;text&#39;</span>+res].SetTextColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 4099</span>            h[hname+<span class="stringliteral">&#39;P&#39;</span>].GetXaxis().SetRangeUser(0.,330)</div>
<div class="line"><span class="lineno"> 4100</span>            h[hname+<span class="stringliteral">&#39;P&#39;</span>].SetMaximum(max(h[hname+<span class="stringliteral">&#39;P&#39;</span>].GetMaximum(),h[<span class="stringliteral">&#39;momResol-0P&#39;</span>].GetMaximum()))</div>
<div class="line"><span class="lineno"> 4101</span>            h[hname+<span class="stringliteral">&#39;P&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 4102</span>            h[<span class="stringliteral">&#39;leg&#39;</span>+t].AddEntry(h[hname+<span class="stringliteral">&#39;P&#39;</span>],<span class="stringliteral">&#39;default  270#mum &#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 4103</span>        h[<span class="stringliteral">&#39;text&#39;</span>+res].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 4104</span>    h[<span class="stringliteral">&#39;leg&#39;</span>+t].Draw()</div>
<div class="line"><span class="lineno"> 4105</span>    myPrint(h[t],<span class="stringliteral">&#39;momentumResolution&#39;</span>)</div>
<div class="line"><span class="lineno"> 4106</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a45b4d8b7230cda8e86bd59fc0506c162" name="a45b4d8b7230cda8e86bd59fc0506c162"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b4d8b7230cda8e86bd59fc0506c162">&#9670;&#160;</a></span>methodD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.methodD </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02719">2719</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2719</span><span class="keyword">def </span>methodD():</div>
<div class="line"><span class="lineno"> 2720</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 2721</span>      <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>,<span class="stringliteral">&#39;_u&#39;</span>,<span class="stringliteral">&#39;_v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 2722</span>          <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 2723</span>             <span class="keywordflow">if</span> view==<span class="stringliteral">&#39;_u&#39;</span> <span class="keywordflow">and</span> s!=1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2724</span>             <span class="keywordflow">if</span> view==<span class="stringliteral">&#39;_v&#39;</span> <span class="keywordflow">and</span> s!=2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2725</span>             ut.bookHist(h,<span class="stringliteral">&#39;used-&#39;</span>+str(s)+view+str(l),<span class="stringliteral">&#39;channel used in fit&#39;</span>,200,-0.5,199.5)</div>
<div class="line"><span class="lineno"> 2726</span>             ut.bookHist(h,<span class="stringliteral">&#39;w-&#39;</span>+str(s)+view+str(l),<span class="stringliteral">&#39;sum of weight&#39;</span>,100,0.,2.)</div>
<div class="line"><span class="lineno"> 2727</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 2728</span>       rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 2729</span>       nTrack = -1</div>
<div class="line"><span class="lineno"> 2730</span>       <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> sTree.FitTracks:</div>
<div class="line"><span class="lineno"> 2731</span>           nTrack+=1</div>
<div class="line"><span class="lineno"> 2732</span>           fitStatus   = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 2733</span>           <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitStatus.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2734</span>           pMom0 = aTrack.getFittedState(0).getMomMag()</div>
<div class="line"><span class="lineno"> 2735</span>           <span class="keywordflow">if</span> pMom0 &lt; 1.: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2736</span>           trInfo = sTree.TrackInfos[nTrack]</div>
<div class="line"><span class="lineno"> 2737</span>           h[<span class="stringliteral">&#39;used-1_x0&#39;</span>].Fill(199)</div>
<div class="line"><span class="lineno"> 2738</span>           <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(trInfo.N()):</div>
<div class="line"><span class="lineno"> 2739</span>               detID = trInfo.detId(n)</div>
<div class="line"><span class="lineno"> 2740</span>               hit = ROOT.MufluxSpectrometerHit(detID,0)</div>
<div class="line"><span class="lineno"> 2741</span>               s,v,p,l,view,channelID,tdcId,mdoduleId = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 2742</span>               w = trInfo.wL(n) + trInfo.wR(n)</div>
<div class="line"><span class="lineno"> 2743</span>               h[<span class="stringliteral">&#39;used-&#39;</span>+str(s)+view+str(2*p+l)].Fill(channelID)</div>
<div class="line"><span class="lineno"> 2744</span>               h[<span class="stringliteral">&#39;w-&#39;</span>+str(s)+view+str(2*p+l)].Fill(w)</div>
<div class="line"><span class="lineno"> 2745</span>    h[<span class="stringliteral">&#39;w&#39;</span>]=h[<span class="stringliteral">&#39;w-1_x1&#39;</span>].Clone(<span class="stringliteral">&#39;w&#39;</span>)</div>
<div class="line"><span class="lineno"> 2746</span>    h[<span class="stringliteral">&#39;w&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 2747</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 2748</span>      <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>,<span class="stringliteral">&#39;_u&#39;</span>,<span class="stringliteral">&#39;_v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 2749</span>          <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 2750</span>             <span class="keywordflow">if</span> view==<span class="stringliteral">&#39;_u&#39;</span> <span class="keywordflow">and</span> s!=1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2751</span>             <span class="keywordflow">if</span> view==<span class="stringliteral">&#39;_v&#39;</span> <span class="keywordflow">and</span> s!=2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2752</span>             N = h[<span class="stringliteral">&#39;used-&#39;</span>+str(s)+view+str(l)].GetEntries()</div>
<div class="line"><span class="lineno"> 2753</span>             <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view==<span class="stringliteral">&#39;_x&#39;</span> <span class="keywordflow">and</span> l==0: N = N - h[<span class="stringliteral">&#39;used-1_x0&#39;</span>].GetBinContent(200)</div>
<div class="line"><span class="lineno"> 2754</span>             rc = h[<span class="stringliteral">&#39;w&#39;</span>].Add(h[<span class="stringliteral">&#39;w-&#39;</span>+str(s)+view+str(l)])</div>
<div class="line"><span class="lineno"> 2755</span>             <span class="keywordflow">print</span> s,view,l,N/h[<span class="stringliteral">&#39;used-1_x0&#39;</span>].GetBinContent(200)</div>
<div class="line"><span class="lineno"> 2756</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a206ca565bde32199055958ee4696cdf5" name="a206ca565bde32199055958ee4696cdf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a206ca565bde32199055958ee4696cdf5">&#9670;&#160;</a></span>minbias()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.minbias </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01539">1539</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1539</span><span class="keyword">def </span>minbias():</div>
<div class="line"><span class="lineno"> 1540</span><span class="comment"># onurs files, ~18 M POT </span></div>
<div class="line"><span class="lineno"> 1541</span>    <span class="comment">#f=ROOT.TFile.Open(os.environ[&#39;EOSSHIP&#39;]+&#39;/eos/experiment/ship/user/truf/muflux-sim/ship.conical.FixedTarget-TGeant4_merged_dig.root&#39;)</span></div>
<div class="line"><span class="lineno"> 1542</span>    ut.bookHist(h,<span class="stringliteral">&#39;mom&#39;</span>,<span class="stringliteral">&#39;momentum&#39;</span>,400,0.,400.)</div>
<div class="line"><span class="lineno"> 1543</span>    N=-1</div>
<div class="line"><span class="lineno"> 1544</span>    <span class="keywordflow">for</span> event <span class="keywordflow">in</span> sTree:</div>
<div class="line"><span class="lineno"> 1545</span>      N+=1</div>
<div class="line"><span class="lineno"> 1546</span>      n=-1</div>
<div class="line"><span class="lineno"> 1547</span>      <span class="keywordflow">for</span> track <span class="keywordflow">in</span> event.FitTracks:</div>
<div class="line"><span class="lineno"> 1548</span>           n+=1</div>
<div class="line"><span class="lineno"> 1549</span>           info = event.TrackInfos[n]</div>
<div class="line"><span class="lineno"> 1550</span>           mcID = info.McTrack()</div>
<div class="line"><span class="lineno"> 1551</span>           <span class="keywordflow">if</span> mcID&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1552</span>           pid = event.MCTrack[mcID].GetPdgCode()</div>
<div class="line"><span class="lineno"> 1553</span>           hname = <span class="stringliteral">&#39;mom&#39;</span>+str(pid)</div>
<div class="line"><span class="lineno"> 1554</span>           <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(hname): h[hname]=h[<span class="stringliteral">&#39;mom&#39;</span>].Clone(hname)</div>
<div class="line"><span class="lineno"> 1555</span>           sta = track.getFittedState(0)</div>
<div class="line"><span class="lineno"> 1556</span>           mu=<span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1557</span>           <span class="keywordflow">if</span> abs(pid)!=13: mu = check4muon(event.MCTrack[mcID],<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1558</span>           <span class="keywordflow">if</span> <span class="keywordflow">not</span> mu: rc = h[hname].Fill(sta.getMomMag())</div>
<div class="line"><span class="lineno"> 1559</span>           <span class="keywordflow">if</span> abs(pid)!=13: </div>
<div class="line"><span class="lineno"> 1560</span>              <span class="keywordflow">print</span> N,pid, event.MCTrack[mcID].GetStartZ(),event.MCTrack[event.MCTrack[mcID].GetMotherId()].GetPdgCode(),mu</div>
<div class="line"><span class="lineno"> 1561</span>              <span class="comment">#sTree.MCTrack.Dump()</span></div>
<div class="line"><span class="lineno"> 1562</span>    h[<span class="stringliteral">&#39;stats&#39;</span>]={}</div>
<div class="line"><span class="lineno"> 1563</span>    h[<span class="stringliteral">&#39;stats10&#39;</span>]={}</div>
<div class="line"><span class="lineno"> 1564</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> h:</div>
<div class="line"><span class="lineno"> 1565</span>       <span class="keywordflow">if</span> len(x)&lt;4 <span class="keywordflow">or</span> x.find(<span class="stringliteral">&#39;mom&#39;</span>)!=0 <span class="keywordflow">or</span> <span class="keywordflow">not</span> x.find(<span class="stringliteral">&#39;momRes&#39;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1566</span>       pid = int(x.replace(<span class="stringliteral">&#39;mom&#39;</span>,<span class="stringliteral">&#39;&#39;</span>))</div>
<div class="line"><span class="lineno"> 1567</span>       pname = PDG.GetParticle(pid).GetName()</div>
<div class="line"><span class="lineno"> 1568</span>       h[<span class="stringliteral">&#39;stats&#39;</span>][pname]=h[x].GetEntries()</div>
<div class="line"><span class="lineno"> 1569</span>       h[<span class="stringliteral">&#39;stats10&#39;</span>][pname]=h[x].GetEntries() - h[x].Integral(0,h[<span class="stringliteral">&#39;mom&#39;</span>].FindBin(10.))</div>
<div class="line"><span class="lineno"> 1570</span>    sorted_pnames = sorted(h[<span class="stringliteral">&#39;stats&#39;</span>].items(), key=operator.itemgetter(1))</div>
<div class="line"><span class="lineno"> 1571</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> sorted_pnames:</div>
<div class="line"><span class="lineno"> 1572</span>      <span class="keywordflow">print</span> <span class="stringliteral">&quot;%7s : %5.2F / 1M PoT&quot;</span>%(p[0],p[1]/18.)</div>
<div class="line"><span class="lineno"> 1573</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;with P&gt;10GeV&quot;</span></div>
<div class="line"><span class="lineno"> 1574</span>    sorted_pnames = sorted(h[<span class="stringliteral">&#39;stats10&#39;</span>].items(), key=operator.itemgetter(1))</div>
<div class="line"><span class="lineno"> 1575</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> sorted_pnames:</div>
<div class="line"><span class="lineno"> 1576</span>      <span class="keywordflow">print</span> <span class="stringliteral">&quot;%7s : %5.2F / 1M PoT&quot;</span>%(p[0],p[1]/18.)</div>
<div class="line"><span class="lineno"> 1577</span> </div>
<div class="line"><span class="lineno"> 1578</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adfa421ac5ddf3075c2405743975951e4" name="adfa421ac5ddf3075c2405743975951e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa421ac5ddf3075c2405743975951e4">&#9670;&#160;</a></span>momDisplay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.momDisplay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01967">1967</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1967</span><span class="keyword">def </span>momDisplay():</div>
<div class="line"><span class="lineno"> 1968</span>    ROOT.gStyle.SetPalette(ROOT.kGreenPink)</div>
<div class="line"><span class="lineno"> 1969</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;mu&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1970</span>        t = <span class="stringliteral">&#39;mom&#39;</span>+x</div>
<div class="line"><span class="lineno"> 1971</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): ut.bookCanvas(h,key=t,title=<span class="stringliteral">&#39;trackfit&#39;</span>+x,nx=1200,ny=600,cx=4,cy=2)</div>
<div class="line"><span class="lineno"> 1972</span>        rc = h[t].cd(1)</div>
<div class="line"><span class="lineno"> 1973</span>        h[<span class="stringliteral">&#39;p/pt&#39;</span>+x].SetStats(0)</div>
<div class="line"><span class="lineno"> 1974</span>        rc = h[<span class="stringliteral">&#39;p/pt&#39;</span>+x].Draw(<span class="stringliteral">&#39;colz&#39;</span>)</div>
<div class="line"><span class="lineno"> 1975</span>        rc = h[t].cd(2)</div>
<div class="line"><span class="lineno"> 1976</span>        rc.SetLogy(1)</div>
<div class="line"><span class="lineno"> 1977</span>        h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>]=h[<span class="stringliteral">&#39;p/pt&#39;</span>+x].ProjectionX()</div>
<div class="line"><span class="lineno"> 1978</span>        h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].SetName(<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>)</div>
<div class="line"><span class="lineno"> 1979</span>        h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].SetTitle(<span class="stringliteral">&#39;#it{p}[GeV/c]&#39;</span>)</div>
<div class="line"><span class="lineno"> 1980</span>        h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1981</span>        rc = h[t].cd(3)</div>
<div class="line"><span class="lineno"> 1982</span>        h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_y&#39;</span>]=h[<span class="stringliteral">&#39;p/pt&#39;</span>+x].ProjectionY()</div>
<div class="line"><span class="lineno"> 1983</span>        h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_y&#39;</span>].SetName(<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_y&#39;</span>)</div>
<div class="line"><span class="lineno"> 1984</span>        h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_y&#39;</span>].SetTitle(<span class="stringliteral">&#39;#it{p}_{T} [GeV/c]&#39;</span>)</div>
<div class="line"><span class="lineno"> 1985</span>        h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_y&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1986</span>        h[t].Update()</div>
<div class="line"><span class="lineno"> 1987</span>        stats = h[<span class="stringliteral">&#39;p/pt&#39;</span>+x+<span class="stringliteral">&#39;_x&#39;</span>].FindObject(<span class="stringliteral">&#39;stats&#39;</span>)</div>
<div class="line"><span class="lineno"> 1988</span>        stats.SetOptStat(11111111)</div>
<div class="line"><span class="lineno"> 1989</span>        rc = h[t].cd(4)</div>
<div class="line"><span class="lineno"> 1990</span>        h[<span class="stringliteral">&#39;chi2&#39;</span>+x].Draw()</div>
<div class="line"><span class="lineno"> 1991</span>        rc = h[t].cd(5)</div>
<div class="line"><span class="lineno"> 1992</span>        h[<span class="stringliteral">&#39;Nmeasurements&#39;</span>+x].Draw()</div>
<div class="line"><span class="lineno"> 1993</span>        rc = h[t].cd(6)</div>
<div class="line"><span class="lineno"> 1994</span>        h[<span class="stringliteral">&#39;xy&#39;</span>+x].Draw(<span class="stringliteral">&#39;colz&#39;</span>)</div>
<div class="line"><span class="lineno"> 1995</span>        rc = h[t].cd(7)</div>
<div class="line"><span class="lineno"> 1996</span>        h[<span class="stringliteral">&#39;pxpy&#39;</span>+x].Draw(<span class="stringliteral">&#39;colz&#39;</span>)</div>
<div class="line"><span class="lineno"> 1997</span>        rc = h[t].cd(8)</div>
<div class="line"><span class="lineno"> 1998</span>        <span class="keywordflow">if</span> x==<span class="stringliteral">&#39;&#39;</span> <span class="keywordflow">and</span> h[<span class="stringliteral">&#39;TDC2R&#39;</span>].GetEntries()&gt;0:</div>
<div class="line"><span class="lineno"> 1999</span>            h[<span class="stringliteral">&#39;TDC2R_projx&#39;</span>] = h[<span class="stringliteral">&#39;TDC2R&#39;</span>].ProjectionY()</div>
<div class="line"><span class="lineno"> 2000</span>            h[<span class="stringliteral">&#39;TDC2R_projx&#39;</span>].SetTitle(<span class="stringliteral">&#39;RT Relation r projection&#39;</span>)</div>
<div class="line"><span class="lineno"> 2001</span>            h[<span class="stringliteral">&#39;TDC2R_projx&#39;</span>].SetXTitle(<span class="stringliteral">&#39;drift distance [cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 2002</span>            h[<span class="stringliteral">&#39;TDC2R_projx&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 2003</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2004</span>            h[<span class="stringliteral">&#39;px&#39;</span>+x]=h[<span class="stringliteral">&#39;p/pt&#39;</span>+x].ProjectionX()</div>
<div class="line"><span class="lineno"> 2005</span>            h[<span class="stringliteral">&#39;px&#39;</span>+x].SetName(<span class="stringliteral">&#39;px&#39;</span>+x)</div>
<div class="line"><span class="lineno"> 2006</span>            h[<span class="stringliteral">&#39;px&#39;</span>+x].SetTitle(<span class="stringliteral">&#39;#it{p} [GeV/c]&#39;</span>)</div>
<div class="line"><span class="lineno"> 2007</span>            h[<span class="stringliteral">&#39;px&#39;</span>+x].Draw()  </div>
<div class="line"><span class="lineno"> 2008</span>        h[t].Update()</div>
<div class="line"><span class="lineno"> 2009</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8930f0e176c12bf342443b5f740fcd96" name="a8930f0e176c12bf342443b5f740fcd96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8930f0e176c12bf342443b5f740fcd96">&#9670;&#160;</a></span>monitorMasterTrigger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.monitorMasterTrigger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05402">5402</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5402</span><span class="keyword">def </span>monitorMasterTrigger():</div>
<div class="line"><span class="lineno"> 5403</span>    ut.bookHist(h,<span class="stringliteral">&#39;masterTrigger&#39;</span>,<span class="stringliteral">&#39;t of master trigger&#39;</span>,1000,200.,400.)</div>
<div class="line"><span class="lineno"> 5404</span>    ut.bookHist(h,<span class="stringliteral">&#39;delay&#39;</span>,<span class="stringliteral">&#39;delay time&#39;</span>,1000,-2000.,2000.)</div>
<div class="line"><span class="lineno"> 5405</span>    ut.bookHist(h,<span class="stringliteral">&#39;tdcCor&#39;</span>,<span class="stringliteral">&#39;corrected TDC time&#39;</span>,1000,-2000.,3000.)</div>
<div class="line"><span class="lineno"> 5406</span>    ut.bookHist(h,<span class="stringliteral">&#39;tdc&#39;</span>, <span class="stringliteral">&#39;TDC time from hit&#39;</span>,    1000,-2000.,3000.)</div>
<div class="line"><span class="lineno"> 5407</span>    ut.bookHist(h,<span class="stringliteral">&#39;tdc#4&#39;</span>,<span class="stringliteral">&#39;TDC 4&#39;</span>, 1000,-2000.,10000.)</div>
<div class="line"><span class="lineno"> 5408</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 5409</span>        rc=sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 5410</span>        <span class="keywordflow">for</span> mt <span class="keywordflow">in</span> sTree.Digi_MasterTrigger:</div>
<div class="line"><span class="lineno"> 5411</span>            rc = h[<span class="stringliteral">&#39;masterTrigger&#39;</span>].Fill(mt.GetDigi())</div>
<div class="line"><span class="lineno"> 5412</span>        <span class="keywordflow">if</span> sTree.Digi_MasterTrigger.GetEntries()==0: </div>
<div class="line"><span class="lineno"> 5413</span>            rc = h[<span class="stringliteral">&#39;masterTrigger&#39;</span>].Fill(201.)</div>
<div class="line"><span class="lineno"> 5414</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5415</span>            tdcDict = {}</div>
<div class="line"><span class="lineno"> 5416</span>            <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(sTree.Digi_Triggers.GetEntries()):</div>
<div class="line"><span class="lineno"> 5417</span>                hit = sTree.Digi_Triggers[k]</div>
<div class="line"><span class="lineno"> 5418</span>                <span class="keywordflow">if</span> tdcDict.has_key(k): </div>
<div class="line"><span class="lineno"> 5419</span>                    <span class="keywordflow">print</span> <span class="stringliteral">&quot;Error, double trigger TDC ID&quot;</span>,k</div>
<div class="line"><span class="lineno"> 5420</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.GetDigi()&lt;tdcDict[k]: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5421</span>                tdcDict[hit.GetTDC()]=hit.GetDigi()</div>
<div class="line"><span class="lineno"> 5422</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> tdcDict.has_key(4):</div>
<div class="line"><span class="lineno"> 5423</span>                h[<span class="stringliteral">&#39;masterTrigger&#39;</span>].Fill(210+4)</div>
<div class="line"><span class="lineno"> 5424</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5425</span>            <span class="keywordflow">else</span>: rc = h[<span class="stringliteral">&#39;tdc#4&#39;</span>].Fill(tdcDict[4])</div>
<div class="line"><span class="lineno"> 5426</span>            delay = sTree.Digi_MasterTrigger[0].GetDigi() - tdcDict[4]</div>
<div class="line"><span class="lineno"> 5427</span>            rc = h[<span class="stringliteral">&#39;delay&#39;</span>].Fill(delay)</div>
<div class="line"><span class="lineno"> 5428</span>            <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno"> 5429</span>                detID=hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 5430</span>                <span class="keywordflow">if</span> detID&lt;0: <span class="keywordflow">continue</span> <span class="comment"># feature for converted data in February&#39;19</span></div>
<div class="line"><span class="lineno"> 5431</span>                rc = h[<span class="stringliteral">&#39;tdc&#39;</span>].Fill(hit.GetDigi())</div>
<div class="line"><span class="lineno"> 5432</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.hasDelay():</div>
<div class="line"><span class="lineno"> 5433</span>                    tdcID = hit.GetTDC()</div>
<div class="line"><span class="lineno"> 5434</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> tdcDict.has_key(tdcID):</div>
<div class="line"><span class="lineno"> 5435</span>                        h[<span class="stringliteral">&#39;masterTrigger&#39;</span>].Fill(210+tdcID*10)</div>
<div class="line"><span class="lineno"> 5436</span>                        <span class="keywordflow">if</span> hit.hasTrigger() : <span class="keywordflow">print</span> <span class="stringliteral">&quot;this should not happen, no trigger but hasTrigger&quot;</span>,n</div>
<div class="line"><span class="lineno"> 5437</span>                        <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5438</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.hasTrigger() : <span class="keywordflow">print</span> <span class="stringliteral">&quot;this should not happen, trigger but hasTrigger false&quot;</span>,n</div>
<div class="line"><span class="lineno"> 5439</span>                    lt = tdcDict[tdcID]</div>
<div class="line"><span class="lineno"> 5440</span>                    tdcCor = hit.GetDigi() - delay - lt - 1323.0 <span class="comment"># default value used to make the correction during conversion</span></div>
<div class="line"><span class="lineno"> 5441</span>                    rc = h[<span class="stringliteral">&#39;tdcCor&#39;</span>].Fill(tdcCor)</div>
<div class="line"><span class="lineno"> 5442</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a90fea055eb311fdd36d5801b4f18540c" name="a90fea055eb311fdd36d5801b4f18540c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90fea055eb311fdd36d5801b4f18540c">&#9670;&#160;</a></span>muonOrigin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.muonOrigin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05465">5465</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5465</span><span class="keyword">def </span>muonOrigin():</div>
<div class="line"><span class="lineno"> 5466</span>    muonO= {}</div>
<div class="line"><span class="lineno"> 5467</span>    muonO2 = {}</div>
<div class="line"><span class="lineno"> 5468</span>    doubleProc = [0,0,0]</div>
<div class="line"><span class="lineno"> 5469</span>    N = sTree.GetEntries()</div>
<div class="line"><span class="lineno"> 5470</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(N):</div>
<div class="line"><span class="lineno"> 5471</span>        rc=sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 5472</span>        <span class="comment"># if sTree.FitTracks.GetEntries()==0: continue</span></div>
<div class="line"><span class="lineno"> 5473</span>        muP = 0</div>
<div class="line"><span class="lineno"> 5474</span>        processed = []</div>
<div class="line"><span class="lineno"> 5475</span>        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.MufluxSpectrometerPoint: </div>
<div class="line"><span class="lineno"> 5476</span>            i=hit.GetTrackID()</div>
<div class="line"><span class="lineno"> 5477</span>            <span class="keywordflow">if</span> i&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5478</span>            <span class="keywordflow">if</span> i <span class="keywordflow">in</span> processed: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5479</span>            processed.append(i)</div>
<div class="line"><span class="lineno"> 5480</span>            t=sTree.MCTrack[i]</div>
<div class="line"><span class="lineno"> 5481</span>            <span class="keywordflow">if</span> abs(t.GetPdgCode())!=13: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5482</span>            moID  = abs(sTree.MCTrack[t.GetMotherId()].GetPdgCode())</div>
<div class="line"><span class="lineno"> 5483</span>            pName = t.GetProcName().Data()</div>
<div class="line"><span class="lineno"> 5484</span>            <span class="keywordflow">if</span> muP!=0: </div>
<div class="line"><span class="lineno"> 5485</span>                <span class="keywordflow">if</span> pName!=muP: </div>
<div class="line"><span class="lineno"> 5486</span>                        <span class="comment"># print &quot;two muons, two processes&quot;,n,muP,pName</span></div>
<div class="line"><span class="lineno"> 5487</span>                    doubleProc[1] +=1</div>
<div class="line"><span class="lineno"> 5488</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5489</span>                muP = pName</div>
<div class="line"><span class="lineno"> 5490</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> muonO.has_key(pName):</div>
<div class="line"><span class="lineno"> 5491</span>                muonO[pName]=0</div>
<div class="line"><span class="lineno"> 5492</span>                muonO2[pName]={}</div>
<div class="line"><span class="lineno"> 5493</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> muonO2[pName].has_key(moID): muonO2[pName][moID]=0</div>
<div class="line"><span class="lineno"> 5494</span>            muonO[pName]+=1</div>
<div class="line"><span class="lineno"> 5495</span>            muonO2[pName][moID]+=1</div>
<div class="line"><span class="lineno"> 5496</span>        <span class="keywordflow">if</span> len(processed)&gt;0: doubleProc[0] +=1</div>
<div class="line"><span class="lineno"> 5497</span>    sorted_o = sorted(muonO.items(), key=operator.itemgetter(1))</div>
<div class="line"><span class="lineno"> 5498</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> sorted_o:</div>
<div class="line"><span class="lineno"> 5499</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;%30s %5.2F %%&quot;</span>%(p[0],p[1]/float(doubleProc[0])*100.)</div>
<div class="line"><span class="lineno"> 5500</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> [<span class="stringliteral">&#39;Primary particle emission&#39;</span>, <span class="stringliteral">&#39;Decay&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5501</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;for process &quot;</span>,p</div>
<div class="line"><span class="lineno"> 5502</span>        sorted_p = sorted(muonO2[p].items(), key=operator.itemgetter(1))</div>
<div class="line"><span class="lineno"> 5503</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> sorted_p:</div>
<div class="line"><span class="lineno"> 5504</span>            part = PDG.GetParticle(x[0])</div>
<div class="line"><span class="lineno"> 5505</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> part: particleName = str(x[0])</div>
<div class="line"><span class="lineno"> 5506</span>            <span class="keywordflow">else</span>: particleName = PDG.GetParticle(x[0]).GetName()</div>
<div class="line"><span class="lineno"> 5507</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;   %20s %5.2F %%&quot;</span>%(particleName,x[1]/float(doubleProc[0])*100.)</div>
<div class="line"><span class="lineno"> 5508</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;double process &quot;</span>,doubleProc</div>
<div class="line"><span class="lineno"> 5509</span>    <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 5510</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a433d36cb2637e33e514ea31fedb860b3" name="a433d36cb2637e33e514ea31fedb860b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a433d36cb2637e33e514ea31fedb860b3">&#9670;&#160;</a></span>muonTaggerClustering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.muonTaggerClustering </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PR</em> = <code>11</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04847">4847</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4847</span><span class="keyword">def </span>muonTaggerClustering(PR=11):</div>
<div class="line"><span class="lineno"> 4848</span>    hitsPerStation={}</div>
<div class="line"><span class="lineno"> 4849</span>    clustersPerStation={}</div>
<div class="line"><span class="lineno"> 4850</span>    tracks = {}</div>
<div class="line"><span class="lineno"> 4851</span>    <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&#39;RPCTrackY&#39;</span>) <span class="keywordflow">and</span> PR==1:</div>
<div class="line"><span class="lineno"> 4852</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 4853</span>            tracks[view] = []</div>
<div class="line"><span class="lineno"> 4854</span>            <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> eval(<span class="stringliteral">&#39;sTree.RPCTrack&#39;</span>+view):</div>
<div class="line"><span class="lineno"> 4855</span>                tracks[view].append([aTrack.m(),aTrack.b()])</div>
<div class="line"><span class="lineno"> 4856</span>        <span class="keywordflow">return</span> clustersPerStation,tracks</div>
<div class="line"><span class="lineno"> 4857</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,6):</div>
<div class="line"><span class="lineno"> 4858</span>        <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 4859</span>            hitsPerStation[10*s+l]=[]</div>
<div class="line"><span class="lineno"> 4860</span>            clustersPerStation[10*s+l]=[]</div>
<div class="line"><span class="lineno"> 4861</span>    <span class="keywordflow">for</span> m <span class="keywordflow">in</span> sTree.Digi_MuonTaggerHits:</div>
<div class="line"><span class="lineno"> 4862</span>        <span class="keywordflow">if</span> m.GetDetectorID() <span class="keywordflow">in</span> deadChannelsRPC4MC: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4863</span>        layer = m.GetDetectorID()/1000</div>
<div class="line"><span class="lineno"> 4864</span>        channel = m.GetDetectorID()%1000</div>
<div class="line"><span class="lineno"> 4865</span>        hitsPerStation[layer].append(channel)</div>
<div class="line"><span class="lineno"> 4866</span>    <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 4867</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,6):</div>
<div class="line"><span class="lineno"> 4868</span>            L = len(hitsPerStation[10*s+l])</div>
<div class="line"><span class="lineno"> 4869</span>            <span class="keywordflow">if</span> L&lt;1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4870</span>            temp = dict(enumerate(grouper(hitsPerStation[10*s+l],cuts[<span class="stringliteral">&#39;muTaggerCluster_grouping&#39;</span>]), 1))</div>
<div class="line"><span class="lineno"> 4871</span>            clustersPerStation[10*s+l]={}</div>
<div class="line"><span class="lineno"> 4872</span>            <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> temp:</div>
<div class="line"><span class="lineno"> 4873</span>                <span class="keywordflow">if</span> len(temp[cl])&gt;cuts[<span class="stringliteral">&#39;muTaggerCluster_max&#39;</span>]: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4874</span>                clusCentre = 0</div>
<div class="line"><span class="lineno"> 4875</span>                zCentre = 0</div>
<div class="line"><span class="lineno"> 4876</span>                <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> temp[cl]:</div>
<div class="line"><span class="lineno"> 4877</span>                    vbot,vtop = RPCPositionsBotTop[(10*s+l)*1000+hit]</div>
<div class="line"><span class="lineno"> 4878</span>                    clusCentre+=vbot[1-l]</div>
<div class="line"><span class="lineno"> 4879</span>                    zCentre+=(vbot[2]+vtop[2])/2.</div>
<div class="line"><span class="lineno"> 4880</span>                clusCentre = clusCentre/float(len(temp[cl]))</div>
<div class="line"><span class="lineno"> 4881</span>                zCentre    = zCentre/float(len(temp[cl]))</div>
<div class="line"><span class="lineno"> 4882</span>                clusCentre =  (int(clusCentre*1000) + float(s)/10.)/1000. <span class="comment"># encode station number</span></div>
<div class="line"><span class="lineno"> 4883</span>                clustersPerStation[10*s+l][cl]=[temp[cl],clusCentre,zCentre]</div>
<div class="line"><span class="lineno"> 4884</span>        <span class="keywordflow">if</span> l==0: view = <span class="stringliteral">&#39;Y&#39;</span></div>
<div class="line"><span class="lineno"> 4885</span>        <span class="keywordflow">else</span>: view = <span class="stringliteral">&#39;X&#39;</span></div>
<div class="line"><span class="lineno"> 4886</span>        tracks[view] = []</div>
<div class="line"><span class="lineno"> 4887</span>        test = []</div>
<div class="line"><span class="lineno"> 4888</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,6):</div>
<div class="line"><span class="lineno"> 4889</span>            <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> clustersPerStation[10*s+l]:</div>
<div class="line"><span class="lineno"> 4890</span>                test.append(clustersPerStation[10*s+l][cl][1])</div>
<div class="line"><span class="lineno"> 4891</span>        tmp = dict(enumerate(grouper(test,cuts[<span class="stringliteral">&#39;muTaggerCluster_sep&#39;</span>]), 1))</div>
<div class="line"><span class="lineno"> 4892</span>        trackCand = []</div>
<div class="line"><span class="lineno"> 4893</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> tmp:</div>
<div class="line"><span class="lineno"> 4894</span>            <span class="keywordflow">if</span> len(tmp[x])&gt;2: trackCand.append(tmp[x])</div>
<div class="line"><span class="lineno"> 4895</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> trackCand:</div>
<div class="line"><span class="lineno"> 4896</span>            zpositions  = []</div>
<div class="line"><span class="lineno"> 4897</span>            <span class="keywordflow">for</span> coord <span class="keywordflow">in</span> n:</div>
<div class="line"><span class="lineno"> 4898</span><span class="comment"># find z position</span></div>
<div class="line"><span class="lineno"> 4899</span>                found = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 4900</span>                <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,6):</div>
<div class="line"><span class="lineno"> 4901</span>                    <span class="keywordflow">if</span> found: <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 4902</span>                    <span class="keywordflow">for</span> cl <span class="keywordflow">in</span> clustersPerStation[10*s+l]:</div>
<div class="line"><span class="lineno"> 4903</span>                        <span class="keywordflow">if</span> clustersPerStation[10*s+l][cl][1]==coord: </div>
<div class="line"><span class="lineno"> 4904</span>                            zpositions.append(clustersPerStation[10*s+l][cl][2])</div>
<div class="line"><span class="lineno"> 4905</span>                            found = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 4906</span>                            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 4907</span>            tmp = list(zpositions)</div>
<div class="line"><span class="lineno"> 4908</span>            test = dict(enumerate(grouper(tmp,10.), 1))</div>
<div class="line"><span class="lineno"> 4909</span>            <span class="keywordflow">if</span> len(test)&gt;2:</div>
<div class="line"><span class="lineno"> 4910</span>                coefficients = numpy.polyfit(zpositions,n,1)</div>
<div class="line"><span class="lineno"> 4911</span>                tracks[view].append(coefficients)</div>
<div class="line"><span class="lineno"> 4912</span>    <span class="keywordflow">return</span> clustersPerStation,tracks</div>
<div class="line"><span class="lineno"> 4913</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b92d3cc04bded8ccbeaa0f965c59a45" name="a0b92d3cc04bded8ccbeaa0f965c59a45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b92d3cc04bded8ccbeaa0f965c59a45">&#9670;&#160;</a></span>myPrint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.myPrint </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07449">7449</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7449</span><span class="keyword">def </span>myPrint(obj,aname):</div>
<div class="line"><span class="lineno"> 7450</span>    name = aname.replace(<span class="stringliteral">&#39;/&#39;</span>,<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 7451</span>    obj.Update()</div>
<div class="line"><span class="lineno"> 7452</span>    obj.Print(name+<span class="stringliteral">&#39;.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 7453</span>    obj.Print(name+<span class="stringliteral">&#39;.pdf&#39;</span>)</div>
<div class="line"><span class="lineno"> 7454</span>    obj.Print(name+<span class="stringliteral">&#39;.png&#39;</span>)</div>
<div class="line"><span class="lineno"> 7455</span>    obj.Print(name+<span class="stringliteral">&#39;.eps&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4736e8db0e1f0877a220965f9299e5e" name="ac4736e8db0e1f0877a220965f9299e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4736e8db0e1f0877a220965f9299e5e">&#9670;&#160;</a></span>myVertex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.myVertex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PosDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xproj</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05156">5156</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5156</span><span class="keyword">def </span>myVertex(t1,t2,PosDir,xproj=False):</div>
<div class="line"><span class="lineno"> 5157</span>    <span class="comment"># closest distance between two tracks</span></div>
<div class="line"><span class="lineno"> 5158</span>            <span class="comment"># d = |pq . u x v|/|u x v|</span></div>
<div class="line"><span class="lineno"> 5159</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> xproj:</div>
<div class="line"><span class="lineno"> 5160</span>        a = ROOT.TVector3(PosDir[t1][0](0) ,PosDir[t1][0](1) ,PosDir[t1][0](2))</div>
<div class="line"><span class="lineno"> 5161</span>        u = ROOT.TVector3(PosDir[t1][1](0) ,PosDir[t1][1](1) ,PosDir[t1][1](2))</div>
<div class="line"><span class="lineno"> 5162</span>        c = ROOT.TVector3(PosDir[t2][0](0) ,PosDir[t2][0](1) ,PosDir[t2][0](2))</div>
<div class="line"><span class="lineno"> 5163</span>        v = ROOT.TVector3(PosDir[t2][1](0) ,PosDir[t2][1](1) ,PosDir[t2][1](2))</div>
<div class="line"><span class="lineno"> 5164</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5165</span>        a = ROOT.TVector3(PosDir[t1][0](0) ,0, PosDir[t1][0](2))</div>
<div class="line"><span class="lineno"> 5166</span>        u = ROOT.TVector3(PosDir[t1][1](0), 0, PosDir[t1][1](2))</div>
<div class="line"><span class="lineno"> 5167</span>        c = ROOT.TVector3(PosDir[t2][0](0) ,0, PosDir[t2][0](2))</div>
<div class="line"><span class="lineno"> 5168</span>        v = ROOT.TVector3(PosDir[t2][1](0), 0, PosDir[t2][1](2))</div>
<div class="line"><span class="lineno"> 5169</span> </div>
<div class="line"><span class="lineno"> 5170</span>    pq = a-c</div>
<div class="line"><span class="lineno"> 5171</span>    uCrossv = u.Cross(v)</div>
<div class="line"><span class="lineno"> 5172</span>    dist  = pq.Dot(uCrossv)/(uCrossv.Mag()+1E-8)</div>
<div class="line"><span class="lineno"> 5173</span>    <span class="comment"># u.a - u.c + s*|u|**2 - u.v*t    = 0</span></div>
<div class="line"><span class="lineno"> 5174</span>    <span class="comment"># v.a - v.c + s*v.u    - t*|v|**2 = 0</span></div>
<div class="line"><span class="lineno"> 5175</span>    E = u.Dot(a) - u.Dot(c) </div>
<div class="line"><span class="lineno"> 5176</span>    F = v.Dot(a) - v.Dot(c) </div>
<div class="line"><span class="lineno"> 5177</span>    A,B = u.Mag2(), -u.Dot(v) </div>
<div class="line"><span class="lineno"> 5178</span>    C,D = u.Dot(v), -v.Mag2()</div>
<div class="line"><span class="lineno"> 5179</span>    t = -(C*E-A*F)/(B*C-A*D)</div>
<div class="line"><span class="lineno"> 5180</span>    X = c.x()+v.x()*t</div>
<div class="line"><span class="lineno"> 5181</span>    Y = c.y()+v.y()*t</div>
<div class="line"><span class="lineno"> 5182</span>    Z = c.z()+v.z()*t</div>
<div class="line"><span class="lineno"> 5183</span>    <span class="keywordflow">return</span> X,Y,Z,abs(dist)</div>
<div class="line"><span class="lineno"> 5184</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af081b3c2e1d434cd1be69a3818ef0d5f" name="af081b3c2e1d434cd1be69a3818ef0d5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af081b3c2e1d434cd1be69a3818ef0d5f">&#9670;&#160;</a></span>nicePrintout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.nicePrintout </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01129">1129</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1129</span><span class="keyword">def </span>nicePrintout(hits):</div>
<div class="line"><span class="lineno"> 1130</span>    t0 = 0</div>
<div class="line"><span class="lineno"> 1131</span>    <span class="keywordflow">if</span> MCdata:</div>
<div class="line"><span class="lineno"> 1132</span>        t0 = sTree.ShipEventHeader.GetEventTime()</div>
<div class="line"><span class="lineno"> 1133</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;station layer channels (tdc MCTrackID) ...&quot;</span></div>
<div class="line"><span class="lineno"> 1134</span>    <span class="keywordflow">else</span> : <span class="keywordflow">print</span> <span class="stringliteral">&quot;station layer channels (tdc time-over-threshold) ...&quot;</span></div>
<div class="line"><span class="lineno"> 1135</span>    lateText = []</div>
<div class="line"><span class="lineno"> 1136</span>    keysToDThits=MakeKeysToDThits(cuts[<span class="stringliteral">&#39;lateArrivalsToT&#39;</span>])</div>
<div class="line"><span class="lineno"> 1137</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 1138</span>        <span class="keywordflow">for</span> v <span class="keywordflow">in</span> [0,1,2]:</div>
<div class="line"><span class="lineno"> 1139</span>            <span class="keywordflow">if</span> v==2 <span class="keywordflow">and</span> s!=2:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1140</span>            <span class="keywordflow">if</span> v==1 <span class="keywordflow">and</span> s!=1:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1141</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 1142</span>                txt = str(s) + <span class="stringliteral">&#39; &#39;</span>+viewC[v]+<span class="stringliteral">&#39; &#39;</span>+str(l)+<span class="stringliteral">&#39; : &#39;</span></div>
<div class="line"><span class="lineno"> 1143</span>                tdc = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 1144</span>                <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> hits[v][s][l]:</div>
<div class="line"><span class="lineno"> 1145</span>                    statnb,vnb,pnb,lnb,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 1146</span>                    txt+=str(channelID)+<span class="stringliteral">&#39; &#39;</span></div>
<div class="line"><span class="lineno"> 1147</span>                    <span class="keywordflow">if</span> MCdata:</div>
<div class="line"><span class="lineno"> 1148</span>                        detID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 1149</span>                        MCTrackID = sTree.MufluxSpectrometerPoint[keysToDThits[detID][0]].GetTrackID()</div>
<div class="line"><span class="lineno"> 1150</span>                        tdc+=<span class="stringliteral">&quot;%5.0F %5i &quot;</span>%(hit.GetDigi()-t0,MCTrackID)</div>
<div class="line"><span class="lineno"> 1151</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1152</span>                        tdc+=<span class="stringliteral">&quot;%5.0F %5.0F &quot;</span>%(hit.GetDigi()-t0,hit.GetTimeOverThreshold())</div>
<div class="line"><span class="lineno"> 1153</span>                    lateArrivals = len(keysToDThits[hit.GetDetectorID()])</div>
<div class="line"><span class="lineno"> 1154</span>                    <span class="keywordflow">if</span> lateArrivals&gt;1 <span class="keywordflow">and</span> <span class="keywordflow">not</span> MCdata: </div>
<div class="line"><span class="lineno"> 1155</span>                        tmp = str(s) + <span class="stringliteral">&#39; &#39;</span>+viewC[v]+<span class="stringliteral">&#39; &#39;</span>+str(l)+<span class="stringliteral">&#39; : &#39;</span>+str(channelID)+<span class="stringliteral">&#39; &#39;</span></div>
<div class="line"><span class="lineno"> 1156</span>                        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,len(keysToDThits[hit.GetDetectorID()])):</div>
<div class="line"><span class="lineno"> 1157</span>                            key = keysToDThits[hit.GetDetectorID()][n]</div>
<div class="line"><span class="lineno"> 1158</span>                            lHit = sTree.Digi_LateMufluxSpectrometerHits[key]</div>
<div class="line"><span class="lineno"> 1159</span>                            tmp+=<span class="stringliteral">&quot;%5.0F %5.0F &quot;</span>%(lHit.GetDigi()-t0,lHit.GetTimeOverThreshold())</div>
<div class="line"><span class="lineno"> 1160</span>                        lateText.append(tmp)</div>
<div class="line"><span class="lineno"> 1161</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;%-20s %s&quot;</span>%(txt,tdc)</div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;---- channels with late hits&quot;</span>,len(lateText)</div>
<div class="line"><span class="lineno"> 1163</span>    <span class="keywordflow">for</span> txt <span class="keywordflow">in</span> lateText: <span class="keywordflow">print</span> txt</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0bd34568c0abbba7ca3fda882577bbaf" name="a0bd34568c0abbba7ca3fda882577bbaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd34568c0abbba7ca3fda882577bbaf">&#9670;&#160;</a></span>originMCmuons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.originMCmuons </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01579">1579</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1579</span><span class="keyword">def </span>originMCmuons():</div>
<div class="line"><span class="lineno"> 1580</span>    ut.bookHist(h,<span class="stringliteral">&#39;origin z/r&#39;</span>,<span class="stringliteral">&#39;origin, z vs r&#39;</span>,1000,-600.,600.,100,0.,10.)</div>
<div class="line"><span class="lineno"> 1581</span>    ut.bookHist(h,<span class="stringliteral">&#39;origin z/r mu&#39;</span>,<span class="stringliteral">&#39;origin of muons, z vs r&#39;</span>,1000,-600.,600.,100,0.,10.)</div>
<div class="line"><span class="lineno"> 1582</span>    ut.bookHist(h,<span class="stringliteral">&#39;origin z/r muJpsi&#39;</span>,<span class="stringliteral">&#39;origin of muons Jpsi, z vs r&#39;</span>,1000,-600.,600.,100,0.,10.)</div>
<div class="line"><span class="lineno"> 1583</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 1584</span>        rc = sTree.GetEvent(i)</div>
<div class="line"><span class="lineno"> 1585</span>        first = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1586</span>        <span class="keywordflow">for</span> m <span class="keywordflow">in</span> sTree.MCTrack:</div>
<div class="line"><span class="lineno"> 1587</span>         r = ROOT.TMath.Sqrt(m.GetStartX()**2+m.GetStartY()**2)</div>
<div class="line"><span class="lineno"> 1588</span>         <span class="keywordflow">if</span> first:</div>
<div class="line"><span class="lineno"> 1589</span>           first = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1590</span>           rc = h[<span class="stringliteral">&#39;origin z/r&#39;</span>].Fill(m.GetStartZ(),r)</div>
<div class="line"><span class="lineno"> 1591</span>         <span class="keywordflow">if</span> abs(m.GetPdgCode())!=13:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1592</span>         rc = h[<span class="stringliteral">&#39;origin z/r mu&#39;</span>].Fill(m.GetStartZ(),r)</div>
<div class="line"><span class="lineno"> 1593</span>         <span class="keywordflow">if</span> abs(sTree.MCTrack[m.GetMotherId()].GetPdgCode())!=443:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1594</span>         rc = h[<span class="stringliteral">&#39;origin z/r muJpsi&#39;</span>].Fill(m.GetStartZ(),r)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4a0502b8694c911b6e4c529683b8561" name="aa4a0502b8694c911b6e4c529683b8561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4a0502b8694c911b6e4c529683b8561">&#9670;&#160;</a></span>overlap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.overlap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02667">2667</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2667</span><span class="keyword">def </span>overlap(a,b):</div>
<div class="line"><span class="lineno"> 2668</span>    <span class="keywordflow">return</span> [x <span class="keywordflow">for</span> x <span class="keywordflow">in</span> a <span class="keywordflow">if</span> x <span class="keywordflow">in</span> b]</div>
<div class="line"><span class="lineno"> 2669</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a50903e01434bb507939ac279babedfc6" name="a50903e01434bb507939ac279babedfc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50903e01434bb507939ac279babedfc6">&#9670;&#160;</a></span>plot2dResiduals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plot2dResiduals </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>minEntries</em> = <code>-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03280">3280</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3280</span><span class="keyword">def </span>plot2dResiduals(minEntries=-1):</div>
<div class="line"><span class="lineno"> 3281</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;biasedResiduals2dX&#39;</span>): </div>
<div class="line"><span class="lineno"> 3282</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;biasedResiduals2dX&#39;</span>,title=<span class="stringliteral">&#39;biasedResiduals function of X&#39;</span>,nx=1600,ny=1200,cx=4,cy=6)</div>
<div class="line"><span class="lineno"> 3283</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;biasedResiduals2dY&#39;</span>,title=<span class="stringliteral">&#39;biasedResiduals function of Y&#39;</span>,nx=1600,ny=1200,cx=4,cy=6)</div>
<div class="line"><span class="lineno"> 3284</span>    j=1</div>
<div class="line"><span class="lineno"> 3285</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3286</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>,<span class="stringliteral">&#39;_u&#39;</span>,<span class="stringliteral">&#39;_v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3287</span>            <span class="keywordflow">if</span> s&gt;2 <span class="keywordflow">and</span> view != <span class="stringliteral">&#39;_x&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3288</span>            <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_v&#39;</span> <span class="keywordflow">or</span> s==2 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_u&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3289</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(0,4):</div>
<div class="line"><span class="lineno"> 3290</span>                hname = <span class="stringliteral">&#39;biasResX_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3291</span>                <span class="keywordflow">if</span> h[hname].GetEntries()&lt;1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3292</span>                <span class="keywordflow">print</span> s,view,l,h[hname].GetEntries()</div>
<div class="line"><span class="lineno"> 3293</span>                <span class="keywordflow">for</span> p <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3294</span>                    hname = <span class="stringliteral">&#39;biasRes&#39;</span>+p+<span class="stringliteral">&#39;_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3295</span>                    rc = h[<span class="stringliteral">&#39;biasedResiduals2d&#39;</span>+p].cd(j)</div>
<div class="line"><span class="lineno"> 3296</span>                    <span class="keywordflow">if</span> minEntries &gt;0: h[hname].SetMinimum(minEntries)</div>
<div class="line"><span class="lineno"> 3297</span>                    h[hname].Draw(<span class="stringliteral">&#39;box&#39;</span>)</div>
<div class="line"><span class="lineno"> 3298</span>                j+=1</div>
<div class="line"><span class="lineno"> 3299</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a82b43d5475ae0908306438674e0a2d22" name="a82b43d5475ae0908306438674e0a2d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82b43d5475ae0908306438674e0a2d22">&#9670;&#160;</a></span>plotBiasedResiduals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotBiasedResiduals </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nEvent</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nTot</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PR</em> = <code>11</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>onlyPlotting</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>minP</em> = <code>3.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02871">2871</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2871</span><span class="keyword">def </span>plotBiasedResiduals(nEvent=-1,nTot=1000,PR=11,onlyPlotting=False,minP=3.):</div>
<div class="line"><span class="lineno"> 2872</span>    timerStats = {<span class="stringliteral">&#39;fit&#39;</span>:0,<span class="stringliteral">&#39;analysis&#39;</span>:0,<span class="stringliteral">&#39;prepareTrack&#39;</span>:0,<span class="stringliteral">&#39;extrapTrack&#39;</span>:0,<span class="stringliteral">&#39;fillRes&#39;</span>:0}</div>
<div class="line"><span class="lineno"> 2873</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> onlyPlotting:</div>
<div class="line"><span class="lineno"> 2874</span>        h[<span class="stringliteral">&#39;biasResDist&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 2875</span>        h[<span class="stringliteral">&#39;biasResDist2&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 2876</span>        h[<span class="stringliteral">&#39;biasResDistLR&#39;</span>]=h[<span class="stringliteral">&#39;biasResDist&#39;</span>].Clone(<span class="stringliteral">&#39;biasResDistLR&#39;</span>)</div>
<div class="line"><span class="lineno"> 2877</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;hitMapsX&#39;</span>): plotHitMaps()</div>
<div class="line"><span class="lineno"> 2878</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> xLayers:</div>
<div class="line"><span class="lineno"> 2879</span>            <span class="keywordflow">for</span> p <span class="keywordflow">in</span> xLayers[s]:</div>
<div class="line"><span class="lineno"> 2880</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> xLayers[s][p]:</div>
<div class="line"><span class="lineno"> 2881</span>                    <span class="keywordflow">for</span> view <span class="keywordflow">in</span> xLayers[s][p][l]:</div>
<div class="line"><span class="lineno"> 2882</span>                        h[xLayers[s][p][l][view].GetName()].Reset()</div>
<div class="line"><span class="lineno"> 2883</span>                        hkey = str(s)+view+str(2*p+l)</div>
<div class="line"><span class="lineno"> 2884</span>                        h[<span class="stringliteral">&#39;biasResDist_&#39;</span>+hkey].Reset()</div>
<div class="line"><span class="lineno"> 2885</span>                        h[<span class="stringliteral">&#39;biasResDistLR_&#39;</span>+hkey]=h[<span class="stringliteral">&#39;biasResDist_&#39;</span>+hkey].Clone(<span class="stringliteral">&#39;biasResDistLR_&#39;</span>+hkey)</div>
<div class="line"><span class="lineno"> 2886</span>                        h[<span class="stringliteral">&#39;biasResDist2Wire_&#39;</span>+hkey] = h[<span class="stringliteral">&#39;biasResDist2&#39;</span>].Clone(<span class="stringliteral">&#39;biasResDist2Wire_&#39;</span>+hkey)</div>
<div class="line"><span class="lineno"> 2887</span>                        ut.bookHist(h,<span class="stringliteral">&#39;distIfNoHit_&#39;</span>+hkey,<span class="stringliteral">&#39;shortest distance to wire if no hit&#39;</span>,100,0.,5.)</div>
<div class="line"><span class="lineno"> 2888</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(576/cuts[<span class="stringliteral">&#39;RTsegmentation&#39;</span>] ):   h[<span class="stringliteral">&#39;TDC&#39;</span>+str(n)].Reset()</div>
<div class="line"><span class="lineno"> 2889</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 2890</span>        pos = ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 2891</span>        mom = ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 2892</span>        eventRange = [0,sTree.GetEntries()]</div>
<div class="line"><span class="lineno"> 2893</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> nEvent&lt;0: eventRange = [nEvent,nEvent+nTot]</div>
<div class="line"><span class="lineno"> 2894</span>        timerStats = {<span class="stringliteral">&#39;fit&#39;</span>:0,<span class="stringliteral">&#39;analysis&#39;</span>:0,<span class="stringliteral">&#39;prepareTrack&#39;</span>:0,<span class="stringliteral">&#39;extrapTrack&#39;</span>:0,<span class="stringliteral">&#39;fillRes&#39;</span>:0}</div>
<div class="line"><span class="lineno"> 2895</span>        <span class="keywordflow">for</span> Nr <span class="keywordflow">in</span> range(eventRange[0],eventRange[1]):</div>
<div class="line"><span class="lineno"> 2896</span>            getEvent(Nr)</div>
<div class="line"><span class="lineno"> 2897</span>            h[<span class="stringliteral">&#39;T0tmp&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 2898</span>            <span class="keywordflow">if</span> Nr%10000==0:   <span class="keywordflow">print</span> <span class="stringliteral">&quot;now at event&quot;</span>,Nr,<span class="stringliteral">&#39; of &#39;</span>,sTree.GetEntries(),sTree.GetCurrentFile().GetName(),time.ctime()</div>
<div class="line"><span class="lineno"> 2899</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> findSimpleEvent(sTree): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2900</span>            timer.Start()</div>
<div class="line"><span class="lineno"> 2901</span>            trackCandidates = findTracks(PR)</div>
<div class="line"><span class="lineno"> 2902</span>            timerStats[<span class="stringliteral">&#39;fit&#39;</span>]+=timer.RealTime()</div>
<div class="line"><span class="lineno"> 2903</span>            <span class="keywordflow">if</span> len(trackCandidates)==1:</div>
<div class="line"><span class="lineno"> 2904</span>                timer.Start()</div>
<div class="line"><span class="lineno"> 2905</span>                spectrHitsSorted = ROOT.nestedList()</div>
<div class="line"><span class="lineno"> 2906</span>                muflux_Reco.sortHits(sTree.Digi_MufluxSpectrometerHits,spectrHitsSorted,<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 2907</span>                <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> trackCandidates:</div>
<div class="line"><span class="lineno"> 2908</span>                    fst = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 2909</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> fst.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2910</span>                    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2911</span>                        sta = aTrack.getFittedState(0)</div>
<div class="line"><span class="lineno"> 2912</span>                    <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno"> 2913</span>                        <span class="keywordflow">print</span> <span class="stringliteral">&quot;problem with getting state, event&quot;</span>,sTree.GetCurrentFile().GetName(),Nr</div>
<div class="line"><span class="lineno"> 2914</span>                        <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2915</span>                    <span class="keywordflow">if</span> sta.getMomMag() &lt; minP <span class="keywordflow">and</span> <span class="keywordflow">not</span> zeroField: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2916</span><span class="comment"># check for muon tag to remove ghost tracks</span></div>
<div class="line"><span class="lineno"> 2917</span>                    muonTag = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2918</span>                    RPCclusters, RPCtracks = muonTaggerClustering(PR=11)</div>
<div class="line"><span class="lineno"> 2919</span>                    <span class="keywordflow">if</span> len(RPCtracks[<span class="stringliteral">&#39;X&#39;</span>])==1 <span class="keywordflow">and</span> len(RPCtracks[<span class="stringliteral">&#39;Y&#39;</span>])==1:</div>
<div class="line"><span class="lineno"> 2920</span>                        posRPC = ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 2921</span>                        momRPC = ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 2922</span>                        rc = muflux_Reco.extrapolateToPlane(aTrack,cuts[<span class="stringliteral">&quot;zRPC1&quot;</span>], posRPC, momRPC)</div>
<div class="line"><span class="lineno"> 2923</span>                        Xpos = RPCtracks[<span class="stringliteral">&#39;X&#39;</span>][0][0]*cuts[<span class="stringliteral">&quot;zRPC1&quot;</span>]+RPCtracks[<span class="stringliteral">&#39;X&#39;</span>][0][1]</div>
<div class="line"><span class="lineno"> 2924</span>                        distX = ROOT.TMath.Abs(posRPC[0]-Xpos)</div>
<div class="line"><span class="lineno"> 2925</span>                        Ypos = RPCtracks[<span class="stringliteral">&#39;Y&#39;</span>][0][0]*cuts[<span class="stringliteral">&quot;zRPC1&quot;</span>]+RPCtracks[<span class="stringliteral">&#39;Y&#39;</span>][0][1]</div>
<div class="line"><span class="lineno"> 2926</span>                        distY = ROOT.TMath.Abs(posRPC[1]-Ypos)</div>
<div class="line"><span class="lineno"> 2927</span>                        <span class="keywordflow">if</span> abs(distX)&lt;cuts[<span class="stringliteral">&#39;muTrackMatchX&#39;</span>] <span class="keywordflow">and</span> abs(distY)&lt;cuts[<span class="stringliteral">&#39;muTrackMatchY&#39;</span>]: muonTag = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2928</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> muonTag: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2929</span><span class="comment"># check for hits in each station</span></div>
<div class="line"><span class="lineno"> 2930</span>                    stations={1:0,2:0,3:0,4:0}</div>
<div class="line"><span class="lineno"> 2931</span>                    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> aTrack.getPoints():</div>
<div class="line"><span class="lineno"> 2932</span>                        rawM = p.getRawMeasurement()</div>
<div class="line"><span class="lineno"> 2933</span>                        s = rawM.getDetId()/10000000</div>
<div class="line"><span class="lineno"> 2934</span>                        <span class="keywordflow">if</span> s &lt; 1 <span class="keywordflow">or</span> s &gt; 4: </div>
<div class="line"><span class="lineno"> 2935</span>                            <span class="keywordflow">print</span> <span class="stringliteral">&quot;error with rawM&quot;</span>, rawM.getDetId()</div>
<div class="line"><span class="lineno"> 2936</span>                        stations[s]+=1</div>
<div class="line"><span class="lineno"> 2937</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> (stations[1]&gt;1 <span class="keywordflow">and</span> stations[2]&gt;1 <span class="keywordflow">and</span> stations[3]&gt;1 <span class="keywordflow">and</span> stations[4]&gt;1) : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2938</span>                    rc = h[<span class="stringliteral">&#39;biasResTrackMom&#39;</span>].Fill(sta.getMomMag())</div>
<div class="line"><span class="lineno"> 2939</span>                    timerStats[<span class="stringliteral">&#39;prepareTrack&#39;</span>]+=timer.RealTime()</div>
<div class="line"><span class="lineno"> 2940</span>                    timer.Start()</div>
<div class="line"><span class="lineno"> 2941</span>                    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 2942</span>                        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> viewsI[s]:</div>
<div class="line"><span class="lineno"> 2943</span>                            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 2944</span>                                hitFound = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2945</span>                                <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> spectrHitsSorted[view][s][l]:</div>
<div class="line"><span class="lineno"> 2946</span>                                    ss,vv,pp,ll,vw,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 2947</span>                                    vbot,vtop = strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 2948</span>                                    z = (vbot[2]+vtop[2])/2.</div>
<div class="line"><span class="lineno"> 2949</span>                                    timer.Start()</div>
<div class="line"><span class="lineno"> 2950</span>                                <span class="comment"># rc,pos,mom = extrapolateToPlane(aTrack,z)</span></div>
<div class="line"><span class="lineno"> 2951</span>                                    trackLength = muflux_Reco.extrapolateToPlane(aTrack,z,pos,mom)</div>
<div class="line"><span class="lineno"> 2952</span>                                    timerStats[<span class="stringliteral">&#39;extrapTrack&#39;</span>]+=timer.RealTime()</div>
<div class="line"><span class="lineno"> 2953</span>                                    timer.Start()</div>
<div class="line"><span class="lineno"> 2954</span>                                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 2955</span>                                        error =  <span class="stringliteral">&quot;plotBiasedResiduals: extrapolation failed&quot;</span></div>
<div class="line"><span class="lineno"> 2956</span>                                        ut.reportError(error)</div>
<div class="line"><span class="lineno"> 2957</span>                                        <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2958</span>                                    distance = 0</div>
<div class="line"><span class="lineno"> 2959</span>                                    <span class="keywordflow">if</span> withTDC <span class="keywordflow">or</span> MCdata:</div>
<div class="line"><span class="lineno"> 2960</span>                                        distance = RT(hit,hit.GetDigi())</div>
<div class="line"><span class="lineno"> 2961</span>                                <span class="comment">#d = (vbot[0] - vtop[0])*pos[1] - (vbot[1] - vtop[1])*pos[0] + vtop[0]*vbot[1] - vbot[0]*vtop[1]</span></div>
<div class="line"><span class="lineno"> 2962</span>                                <span class="comment">#d = -d/ROOT.TMath.Sqrt( (vtop[0]-vbot[0])**2+(vtop[1]-vbot[1])**2)  # to have same sign as difference in X</span></div>
<div class="line"><span class="lineno"> 2963</span>                                    normal = mom.Cross(vtop-vbot)</div>
<div class="line"><span class="lineno"> 2964</span>                                    d = normal.Dot(pos-vbot)/normal.Mag()</div>
<div class="line"><span class="lineno"> 2965</span>                                    res = abs(d) - distance</div>
<div class="line"><span class="lineno"> 2966</span>                                    h[<span class="stringliteral">&#39;biasResDist&#39;</span>].Fill(distance,res)</div>
<div class="line"><span class="lineno"> 2967</span>                                    h[<span class="stringliteral">&#39;biasResDist2&#39;</span>].Fill(abs(d),res)</div>
<div class="line"><span class="lineno"> 2968</span>                                    <span class="keywordflow">if</span> abs(res) &lt; 0.2: hitFound = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2969</span>                                    hkey = str(ss)+vw+str(2*pp+ll)</div>
<div class="line"><span class="lineno"> 2970</span>                                    h[<span class="stringliteral">&#39;biasResDist2Wire_&#39;</span>+hkey].Fill(abs(d),res)</div>
<div class="line"><span class="lineno"> 2971</span>                                    h[<span class="stringliteral">&#39;biasResDist_&#39;</span>+hkey].Fill(distance,res)</div>
<div class="line"><span class="lineno"> 2972</span>                                    m = (vtop[0]-vbot[0])/(vtop[1]-vbot[1])</div>
<div class="line"><span class="lineno"> 2973</span>                                    b = vtop[0]-m*vtop[1]</div>
<div class="line"><span class="lineno"> 2974</span>                                    <span class="keywordflow">if</span> pos[0]&lt;m*pos[1]+b:</div>
<div class="line"><span class="lineno"> 2975</span>                                <span class="comment"># left of wire</span></div>
<div class="line"><span class="lineno"> 2976</span>                                        d = -abs(d)</div>
<div class="line"><span class="lineno"> 2977</span>                                    resR = d - distance</div>
<div class="line"><span class="lineno"> 2978</span>                                    resL = d + distance</div>
<div class="line"><span class="lineno"> 2979</span>                                    h[<span class="stringliteral">&#39;biasResDistLR&#39;</span>].Fill(distance,resR)</div>
<div class="line"><span class="lineno"> 2980</span>                                    h[<span class="stringliteral">&#39;biasResDistLR&#39;</span>].Fill(distance,resL)</div>
<div class="line"><span class="lineno"> 2981</span>                                    h[<span class="stringliteral">&#39;biasResDistLR_&#39;</span>+hkey].Fill(distance,resR)</div>
<div class="line"><span class="lineno"> 2982</span>                                    h[<span class="stringliteral">&#39;biasResDistLR_&#39;</span>+hkey].Fill(distance,resL)</div>
<div class="line"><span class="lineno"> 2983</span>                                    h[<span class="stringliteral">&#39;biasResXLA_&#39;</span>+hkey].Fill(res,pos[0])</div>
<div class="line"><span class="lineno"> 2984</span>                                    h[<span class="stringliteral">&#39;biasResYLA_&#39;</span>+hkey].Fill(res,pos[1])</div>
<div class="line"><span class="lineno"> 2985</span>                                    h[<span class="stringliteral">&#39;biasResX_&#39;</span>+hkey].Fill(resR,pos[0])</div>
<div class="line"><span class="lineno"> 2986</span>                                    h[<span class="stringliteral">&#39;biasResY_&#39;</span>+hkey].Fill(resR,pos[1])</div>
<div class="line"><span class="lineno"> 2987</span>                                    h[<span class="stringliteral">&#39;biasResXL_&#39;</span>+hkey].Fill(resR,pos[0])</div>
<div class="line"><span class="lineno"> 2988</span>                                    h[<span class="stringliteral">&#39;biasResYL_&#39;</span>+hkey].Fill(resR,pos[1])</div>
<div class="line"><span class="lineno"> 2989</span>                                    h[<span class="stringliteral">&#39;biasResX_&#39;</span>+hkey].Fill(resL,pos[0])</div>
<div class="line"><span class="lineno"> 2990</span>                                    h[<span class="stringliteral">&#39;biasResY_&#39;</span>+hkey].Fill(resL,pos[1])</div>
<div class="line"><span class="lineno"> 2991</span>                                    h[<span class="stringliteral">&#39;biasResXL_&#39;</span>+hkey].Fill(resL,pos[0])</div>
<div class="line"><span class="lineno"> 2992</span>                                    h[<span class="stringliteral">&#39;biasResYL_&#39;</span>+hkey].Fill(resL,pos[1])</div>
<div class="line"><span class="lineno"> 2993</span><span class="comment"># now for each tube</span></div>
<div class="line"><span class="lineno"> 2994</span>                                    detID = str(hit.GetDetectorID())</div>
<div class="line"><span class="lineno"> 2995</span>                                    h[<span class="stringliteral">&#39;biasResX_&#39;</span>+detID].Fill(resR,pos[0])</div>
<div class="line"><span class="lineno"> 2996</span>                                    h[<span class="stringliteral">&#39;biasResY_&#39;</span>+detID].Fill(resR,pos[1])</div>
<div class="line"><span class="lineno"> 2997</span>                                    h[<span class="stringliteral">&#39;biasResXL_&#39;</span>+detID].Fill(resR,pos[0])</div>
<div class="line"><span class="lineno"> 2998</span>                                    h[<span class="stringliteral">&#39;biasResYL_&#39;</span>+detID].Fill(resR,pos[1])</div>
<div class="line"><span class="lineno"> 2999</span>                                    h[<span class="stringliteral">&#39;biasResX_&#39;</span>+detID].Fill(resL,pos[0])</div>
<div class="line"><span class="lineno"> 3000</span>                                    h[<span class="stringliteral">&#39;biasResY_&#39;</span>+detID].Fill(resL,pos[1])</div>
<div class="line"><span class="lineno"> 3001</span>                                    h[<span class="stringliteral">&#39;biasResXL_&#39;</span>+detID].Fill(resL,pos[0])</div>
<div class="line"><span class="lineno"> 3002</span>                                    h[<span class="stringliteral">&#39;biasResYL_&#39;</span>+detID].Fill(resL,pos[1])</div>
<div class="line"><span class="lineno"> 3003</span><span class="comment"># make hit and TDC plots for hits matched to tracks, within window suitable for not using TDC</span></div>
<div class="line"><span class="lineno"> 3004</span>                                    <span class="keywordflow">if</span> abs(res) &lt; 4. :</div>
<div class="line"><span class="lineno"> 3005</span>                                        t0 = 0</div>
<div class="line"><span class="lineno"> 3006</span>                                        <span class="keywordflow">if</span> MCdata: t0 = sTree.ShipEventHeader.GetEventTime()</div>
<div class="line"><span class="lineno"> 3007</span>                                        rc = h[<span class="stringliteral">&#39;TDC&#39;</span>+str(nRT)].Fill(hit.GetDigi()-t0)</div>
<div class="line"><span class="lineno"> 3008</span>                                        rc = xLayers[ss][pp][ll][vw].Fill( channelID )</div>
<div class="line"><span class="lineno"> 3009</span>                                        rc = h[<span class="stringliteral">&#39;T0tmp&#39;</span>].Fill(hit.GetDigi()-t0)</div>
<div class="line"><span class="lineno"> 3010</span>                                <span class="keywordflow">if</span> <span class="keywordflow">not</span> hitFound:</div>
<div class="line"><span class="lineno"> 3011</span><span class="comment"># fill histogram with closest distance to a wire, find z position of present station s layer l</span></div>
<div class="line"><span class="lineno"> 3012</span>                                    v = 0</div>
<div class="line"><span class="lineno"> 3013</span>                                    <span class="keywordflow">if</span> (s==1 <span class="keywordflow">and</span> view==1) <span class="keywordflow">or</span> (s==2 <span class="keywordflow">and</span> view==0): v=1000000</div>
<div class="line"><span class="lineno"> 3014</span>                                    firstWire = s*10000000+v+2000+(l%2)*10000+(l/2)*100000+1</div>
<div class="line"><span class="lineno"> 3015</span>                                    vbot,vtop = strawPositionsBotTop[firstWire]</div>
<div class="line"><span class="lineno"> 3016</span>                                    z = (vbot[2]+vtop[2])/2.</div>
<div class="line"><span class="lineno"> 3017</span>                                    trackLength = muflux_Reco.extrapolateToPlane(aTrack,z,pos,mom)</div>
<div class="line"><span class="lineno"> 3018</span>                                    minDist = 10000.</div>
<div class="line"><span class="lineno"> 3019</span>                                    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(Nchannels[s]):</div>
<div class="line"><span class="lineno"> 3020</span>                                        vbot,vtop = strawPositionsBotTop[firstWire+n]</div>
<div class="line"><span class="lineno"> 3021</span>                                        normal = mom.Cross(vtop-vbot)</div>
<div class="line"><span class="lineno"> 3022</span>                                        d = normal.Dot(pos-vbot)/normal.Mag()</div>
<div class="line"><span class="lineno"> 3023</span>                                        <span class="keywordflow">if</span> abs(d)&lt;minDist: minDist=abs(d)</div>
<div class="line"><span class="lineno"> 3024</span>                                    h[<span class="stringliteral">&#39;distIfNoHit_&#39;</span>+hkey].Fill(minDist)</div>
<div class="line"><span class="lineno"> 3025</span>                    t0 = h[<span class="stringliteral">&#39;T0tmp&#39;</span>].GetMean()</div>
<div class="line"><span class="lineno"> 3026</span>                    rc = h[<span class="stringliteral">&#39;T0&#39;</span>].Fill(t0)</div>
<div class="line"><span class="lineno"> 3027</span>                    timerStats[<span class="stringliteral">&#39;fillRes&#39;</span>]+=timer.RealTime()</div>
<div class="line"><span class="lineno"> 3028</span>                    timer.Start()</div>
<div class="line"><span class="lineno"> 3029</span>            timerStats[<span class="stringliteral">&#39;analysis&#39;</span>]+=timer.RealTime()</div>
<div class="line"><span class="lineno"> 3030</span>            <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> trackCandidates:   aTrack.Delete()</div>
<div class="line"><span class="lineno"> 3031</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;biasedResiduals&#39;</span>): </div>
<div class="line"><span class="lineno"> 3032</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;biasedResiduals&#39;</span>,title=<span class="stringliteral">&#39;biasedResiduals&#39;</span>,nx=1600,ny=1200,cx=4,cy=6)</div>
<div class="line"><span class="lineno"> 3033</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;biasedResidualsX&#39;</span>,title=<span class="stringliteral">&#39;biasedResiduals function of X&#39;</span>,nx=1600,ny=1200,cx=4,cy=6)</div>
<div class="line"><span class="lineno"> 3034</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;biasedResidualsY&#39;</span>,title=<span class="stringliteral">&#39;biasedResiduals function of Y&#39;</span>,nx=1600,ny=1200,cx=4,cy=6)</div>
<div class="line"><span class="lineno"> 3035</span>    j=1</div>
<div class="line"><span class="lineno"> 3036</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3037</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>,<span class="stringliteral">&#39;_u&#39;</span>,<span class="stringliteral">&#39;_v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3038</span>            <span class="keywordflow">if</span> s&gt;2 <span class="keywordflow">and</span> view != <span class="stringliteral">&#39;_x&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3039</span>            <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_v&#39;</span> <span class="keywordflow">or</span> s==2 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_u&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3040</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(0,4):</div>
<div class="line"><span class="lineno"> 3041</span>                <span class="keywordflow">if</span> withTDC:     hname = <span class="stringliteral">&#39;biasResX_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3042</span>                <span class="keywordflow">else</span>:     hname = <span class="stringliteral">&#39;biasResXL_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3043</span>                hnameProjX = <span class="stringliteral">&#39;biasRes_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3044</span>                h[hnameProjX] = h[hname].ProjectionX()</div>
<div class="line"><span class="lineno"> 3045</span>                tc = h[<span class="stringliteral">&#39;biasedResiduals&#39;</span>].cd(j)</div>
<div class="line"><span class="lineno"> 3046</span>                <span class="keywordflow">if</span> h[hname].GetEntries()&lt;10:</div>
<div class="line"><span class="lineno"> 3047</span>                    h[hnameProjX].Draw() </div>
<div class="line"><span class="lineno"> 3048</span>                    j+=1</div>
<div class="line"><span class="lineno"> 3049</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3050</span>                fitResult = h[hnameProjX].Fit(<span class="stringliteral">&#39;gaus&#39;</span>,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.5,0.5)</div>
<div class="line"><span class="lineno"> 3051</span>                rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 3052</span>                fitFunction = h[hnameProjX].GetFunction(<span class="stringliteral">&#39;gauss&#39;</span>)</div>
<div class="line"><span class="lineno"> 3053</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitFunction : fitFunction = myGauss</div>
<div class="line"><span class="lineno"> 3054</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 3055</span>                    <span class="keywordflow">print</span> <span class="stringliteral">&quot;simple gaus fit failed&quot;</span></div>
<div class="line"><span class="lineno"> 3056</span>                    fitFunction.SetParameter(0,h[hnameProjX].GetEntries()*h[hnameProjX].GetBinWidth(1))</div>
<div class="line"><span class="lineno"> 3057</span>                    fitFunction.SetParameter(1,0.)</div>
<div class="line"><span class="lineno"> 3058</span>                    fitFunction.SetParameter(2,0.1)</div>
<div class="line"><span class="lineno"> 3059</span>                    fitFunction.SetParameter(3,1.)</div>
<div class="line"><span class="lineno"> 3060</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 3061</span>                    fitFunction.SetParameter(0,rc.GetParams()[0]*ROOT.TMath.Sqrt(2*ROOT.TMath.Pi())*rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 3062</span>                    fitFunction.SetParameter(1,rc.GetParams()[1])</div>
<div class="line"><span class="lineno"> 3063</span>                    fitFunction.SetParameter(2,rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 3064</span>                    fitFunction.SetParameter(3,0.)</div>
<div class="line"><span class="lineno"> 3065</span>                fitResult = h[hnameProjX].Fit(fitFunction,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.2,0.2)</div>
<div class="line"><span class="lineno"> 3066</span>                fitResult = h[hnameProjX].Fit(fitFunction,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.5,0.5)</div>
<div class="line"><span class="lineno"> 3067</span>                rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 3068</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 3069</span>                    <span class="keywordflow">print</span> hnameProjX</div>
<div class="line"><span class="lineno"> 3070</span>                    h[hnameProjX].Draw()</div>
<div class="line"><span class="lineno"> 3071</span>                    j+=1</div>
<div class="line"><span class="lineno"> 3072</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3073</span>                tc.Update()</div>
<div class="line"><span class="lineno"> 3074</span>                stats = h[hnameProjX].FindObject(<span class="stringliteral">&quot;stats&quot;</span>)</div>
<div class="line"><span class="lineno"> 3075</span>                stats.SetX1NDC(0.563258)</div>
<div class="line"><span class="lineno"> 3076</span>                stats.SetY1NDC(0.526687)</div>
<div class="line"><span class="lineno"> 3077</span>                stats.SetX2NDC(0.938728)</div>
<div class="line"><span class="lineno"> 3078</span>                stats.SetY2NDC(0.940086)</div>
<div class="line"><span class="lineno"> 3079</span>                stats.SetOptFit(111)</div>
<div class="line"><span class="lineno"> 3080</span>                stats.SetOptStat(0)</div>
<div class="line"><span class="lineno"> 3081</span>                mean = rc.GetParams()[1]</div>
<div class="line"><span class="lineno"> 3082</span>                rms  = rc.GetParams()[2]</div>
<div class="line"><span class="lineno"> 3083</span>                Emean = rc.GetErrors()[1]</div>
<div class="line"><span class="lineno"> 3084</span>                Erms  = rc.GetErrors()[2]</div>
<div class="line"><span class="lineno"> 3085</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;%i, %s, %i mean=%5.2F+/-%5.2F RMS=%5.2F+/-%5.2F [mm]&quot;</span>%(s,view,l,mean*10,Emean*10,rms*10,Erms*10)</div>
<div class="line"><span class="lineno"> 3086</span>                residuals[j-1]= h[hnameProjX].GetMean()   <span class="comment"># fitresult too unstable, mean</span></div>
<div class="line"><span class="lineno"> 3087</span>                <span class="comment"># make plot of mean as function of X,Y</span></div>
<div class="line"><span class="lineno"> 3088</span>                <span class="keywordflow">for</span> p <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3089</span>                    <span class="keywordflow">if</span> withTDC:      hname = <span class="stringliteral">&#39;biasRes&#39;</span>+p+<span class="stringliteral">&#39;_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3090</span>                    <span class="keywordflow">else</span>:      hname = <span class="stringliteral">&#39;biasRes&#39;</span>+p+<span class="stringliteral">&#39;L_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3091</span>                    hmean = hname+<span class="stringliteral">&#39;_mean&#39;</span>+p</div>
<div class="line"><span class="lineno"> 3092</span>                    h[hmean] = h[hname].ProjectionY(hname+<span class="stringliteral">&#39;_mean&#39;</span>)</div>
<div class="line"><span class="lineno"> 3093</span>                    h[hmean].Reset()</div>
<div class="line"><span class="lineno"> 3094</span>                    rc = h[<span class="stringliteral">&#39;biasedResiduals&#39;</span>+p].cd(j)  </div>
<div class="line"><span class="lineno"> 3095</span>                    <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(1,h[hname].GetNbinsY()+1):</div>
<div class="line"><span class="lineno"> 3096</span>                        sli = hname+<span class="stringliteral">&#39;_&#39;</span>+str(k) </div>
<div class="line"><span class="lineno"> 3097</span>                        h[sli] = h[hname].ProjectionX(sli,k,k)</div>
<div class="line"><span class="lineno"> 3098</span>                        <span class="keywordflow">if</span> h[sli].GetEntries()&lt;10: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3099</span>                        fitResult = h[sli].Fit(<span class="stringliteral">&#39;gaus&#39;</span>,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.5,0.5)</div>
<div class="line"><span class="lineno"> 3100</span>                        rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 3101</span>                        fitFunction = h[sli].GetFunction(<span class="stringliteral">&#39;gauss&#39;</span>)</div>
<div class="line"><span class="lineno"> 3102</span>                        <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitFunction : fitFunction = myGauss</div>
<div class="line"><span class="lineno"> 3103</span>                        <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 3104</span>                            <span class="keywordflow">print</span> <span class="stringliteral">&quot;simple gaus fit failed&quot;</span></div>
<div class="line"><span class="lineno"> 3105</span>                            fitFunction.SetParameter(0,h[sli].GetEntries()*h[sli].GetBinWidth(1))</div>
<div class="line"><span class="lineno"> 3106</span>                            fitFunction.SetParameter(1,0.)</div>
<div class="line"><span class="lineno"> 3107</span>                            fitFunction.SetParameter(2,0.1)</div>
<div class="line"><span class="lineno"> 3108</span>                            fitFunction.SetParameter(3,1.)</div>
<div class="line"><span class="lineno"> 3109</span>                        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 3110</span>                            fitFunction.SetParameter(0,rc.GetParams()[0]*ROOT.TMath.Sqrt(2*ROOT.TMath.Pi())*rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 3111</span>                            fitFunction.SetParameter(1,rc.GetParams()[1])</div>
<div class="line"><span class="lineno"> 3112</span>                            fitFunction.SetParameter(2,rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 3113</span>                            fitFunction.SetParameter(3,0.)</div>
<div class="line"><span class="lineno"> 3114</span>                        fitResult = h[sli].Fit(fitFunction,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.3,0.3)</div>
<div class="line"><span class="lineno"> 3115</span>                        rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 3116</span>                        mean,rms = 0,0</div>
<div class="line"><span class="lineno"> 3117</span>                        <span class="keywordflow">if</span> rc:</div>
<div class="line"><span class="lineno"> 3118</span>                            mean = rc.GetParams()[1]</div>
<div class="line"><span class="lineno"> 3119</span>                            rms  = rc.GetParams()[2]</div>
<div class="line"><span class="lineno"> 3120</span>                        rc = h[hmean].SetBinContent( k, mean)</div>
<div class="line"><span class="lineno"> 3121</span>                        rc = h[hmean].SetBinError(k, rms)</div>
<div class="line"><span class="lineno"> 3122</span>                    amin,amax,nmin,nmax = ut.findMaximumAndMinimum(h[hmean])</div>
<div class="line"><span class="lineno"> 3123</span>                    <span class="keywordflow">if</span> amax&lt;3. <span class="keywordflow">and</span> amin&gt;-3.:</div>
<div class="line"><span class="lineno"> 3124</span>                        h[hmean].SetMaximum(0.2)</div>
<div class="line"><span class="lineno"> 3125</span>                        h[hmean].SetMinimum(-0.2)</div>
<div class="line"><span class="lineno"> 3126</span>                    <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 3127</span>                        h[hmean].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 3128</span>                        h[hmean].SetMaximum(0.2)</div>
<div class="line"><span class="lineno"> 3129</span>                        h[hmean].SetMinimum(-0.2)</div>
<div class="line"><span class="lineno"> 3130</span>                    h[hmean].Draw()</div>
<div class="line"><span class="lineno"> 3131</span>                j+=1</div>
<div class="line"><span class="lineno"> 3132</span>    myPrint(h[<span class="stringliteral">&#39;biasedResiduals&#39;</span>], <span class="stringliteral">&#39;biasedResiduals&#39;</span>)</div>
<div class="line"><span class="lineno"> 3133</span>    myPrint(h[<span class="stringliteral">&#39;biasedResidualsX&#39;</span>],<span class="stringliteral">&#39;biasedResidualsX&#39;</span>)</div>
<div class="line"><span class="lineno"> 3134</span>    momDisplay()</div>
<div class="line"><span class="lineno"> 3135</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;timing:&quot;</span>,timerStats</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0364ba7fbf684c319cc3501a90f13c2a" name="a0364ba7fbf684c319cc3501a90f13c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0364ba7fbf684c319cc3501a90f13c2a">&#9670;&#160;</a></span>plotDTPoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotDTPoints </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>onlyPlotting</em> = <code>False</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05546">5546</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5546</span><span class="keyword">def </span>plotDTPoints(onlyPlotting=False):</div>
<div class="line"><span class="lineno"> 5547</span>    views = [<span class="stringliteral">&#39;_u1&#39;</span>,<span class="stringliteral">&#39;_v2&#39;</span>,<span class="stringliteral">&#39;_x1&#39;</span>,<span class="stringliteral">&#39;_x2&#39;</span>,<span class="stringliteral">&#39;_x3&#39;</span>,<span class="stringliteral">&#39;_x4&#39;</span>]</div>
<div class="line"><span class="lineno"> 5548</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> onlyPlotting:</div>
<div class="line"><span class="lineno"> 5549</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> views:</div>
<div class="line"><span class="lineno"> 5550</span>            ut.bookHist(h,<span class="stringliteral">&#39;points&#39;</span>+view,<span class="stringliteral">&#39;points&#39;</span>+view,100,0,400,10,-0.5,9.5)</div>
<div class="line"><span class="lineno"> 5551</span>            ut.bookHist(h,<span class="stringliteral">&#39;Fitpoints&#39;</span>+view,<span class="stringliteral">&#39;points&#39;</span>+view,100,0,400,10,-0.5,9.5)</div>
<div class="line"><span class="lineno"> 5552</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 5553</span>            rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 5554</span>            hitsPerTrack = {}</div>
<div class="line"><span class="lineno"> 5555</span>            mom = {}</div>
<div class="line"><span class="lineno"> 5556</span>            <span class="keywordflow">for</span> p <span class="keywordflow">in</span> sTree.MufluxSpectrometerPoint:</div>
<div class="line"><span class="lineno"> 5557</span>                t = p.GetTrackID()</div>
<div class="line"><span class="lineno"> 5558</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> hitsPerTrack.has_key(t):</div>
<div class="line"><span class="lineno"> 5559</span>                    <span class="keywordflow">if</span> abs(p.PdgCode())!=13:<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5560</span>                    P = ROOT.TVector3(p.GetPx(),p.GetPy(),p.GetPz())</div>
<div class="line"><span class="lineno"> 5561</span>                    <span class="keywordflow">if</span> P.Mag() &lt; 10: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5562</span>                    <span class="keywordflow">if</span> abs(p.GetX())&gt;10 <span class="keywordflow">or</span> abs(p.GetY())&gt;10 : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5563</span>                    hitsPerTrack[t] = {<span class="stringliteral">&#39;_u1&#39;</span>:0,<span class="stringliteral">&#39;_v2&#39;</span>:0,<span class="stringliteral">&#39;_x1&#39;</span>:0,<span class="stringliteral">&#39;_x2&#39;</span>:0,<span class="stringliteral">&#39;_x3&#39;</span>:0,<span class="stringliteral">&#39;_x4&#39;</span>:0}</div>
<div class="line"><span class="lineno"> 5564</span>                    mom[t] = P.Mag()</div>
<div class="line"><span class="lineno"> 5565</span>                test = ROOT.MufluxSpectrometerHit(p.GetDetectorID(),0.)</div>
<div class="line"><span class="lineno"> 5566</span>                statnb,vnb,pnb,lnb,view,channelID,tdcId,nRT = stationInfo(test)</div>
<div class="line"><span class="lineno"> 5567</span>                key = view+str(statnb)</div>
<div class="line"><span class="lineno"> 5568</span>                hitsPerTrack[t][key]+=1</div>
<div class="line"><span class="lineno"> 5569</span>            <span class="keywordflow">for</span> view <span class="keywordflow">in</span> views:</div>
<div class="line"><span class="lineno"> 5570</span>                <span class="keywordflow">for</span> t <span class="keywordflow">in</span> hitsPerTrack:</div>
<div class="line"><span class="lineno"> 5571</span>                    rc = h[<span class="stringliteral">&#39;points&#39;</span>+view].Fill(mom[t],hitsPerTrack[t][view])</div>
<div class="line"><span class="lineno"> 5572</span>            n = 0</div>
<div class="line"><span class="lineno"> 5573</span>            <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> sTree.FitTracks:</div>
<div class="line"><span class="lineno"> 5574</span>                fst = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 5575</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> fst.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5576</span>                fstate =  aTrack.getFittedState(0)</div>
<div class="line"><span class="lineno"> 5577</span>                mom = fstate.getMom()</div>
<div class="line"><span class="lineno"> 5578</span>                mStatistics = countMeasurements(n,PR=1)</div>
<div class="line"><span class="lineno"> 5579</span>                <span class="keywordflow">for</span> view <span class="keywordflow">in</span> views:</div>
<div class="line"><span class="lineno"> 5580</span>                    v = view.replace(<span class="stringliteral">&#39;_&#39;</span>,<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 5581</span>                    <span class="keywordflow">if</span> v==<span class="stringliteral">&#39;u1&#39;</span>: v=<span class="stringliteral">&#39;u&#39;</span></div>
<div class="line"><span class="lineno"> 5582</span>                    <span class="keywordflow">if</span> v==<span class="stringliteral">&#39;v2&#39;</span>: v=<span class="stringliteral">&#39;v&#39;</span></div>
<div class="line"><span class="lineno"> 5583</span>                    rc = h[<span class="stringliteral">&#39;Fitpoints&#39;</span>+view].Fill(mom.Mag(),len(mStatistics[v]))</div>
<div class="line"><span class="lineno"> 5584</span>        ut.writeHists(h,<span class="stringliteral">&#39;histos-DTPoints-&#39;</span>+rname)</div>
<div class="line"><span class="lineno"> 5585</span>    cases = {<span class="stringliteral">&#39;FitPoints&#39;</span>:<span class="stringliteral">&#39;Fitpoints&#39;</span>}</div>
<div class="line"><span class="lineno"> 5586</span>    <span class="keywordflow">if</span> MCdata: cases[<span class="stringliteral">&#39;MC-DTPoints&#39;</span>]=<span class="stringliteral">&#39;points&#39;</span></div>
<div class="line"><span class="lineno"> 5587</span>    <span class="keywordflow">for</span> t <span class="keywordflow">in</span> cases:</div>
<div class="line"><span class="lineno"> 5588</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): </div>
<div class="line"><span class="lineno"> 5589</span>            ut.bookCanvas(h,key=t,title=t,nx=1200,ny=600,cx=3,cy=2)</div>
<div class="line"><span class="lineno"> 5590</span>            ut.bookCanvas(h,key=t+<span class="stringliteral">&#39;proj&#39;</span>,title=t,nx=1200,ny=600,cx=3,cy=2)</div>
<div class="line"><span class="lineno"> 5591</span>        n = 1</div>
<div class="line"><span class="lineno"> 5592</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> views:</div>
<div class="line"><span class="lineno"> 5593</span>            mean     = <span class="stringliteral">&#39;mean&#39;</span>+cases[t]+view</div>
<div class="line"><span class="lineno"> 5594</span>            oneHit234 = <span class="stringliteral">&#39;oneHit234&#39;</span>+cases[t]+view</div>
<div class="line"><span class="lineno"> 5595</span>            twoHit34 = <span class="stringliteral">&#39;twoHit34&#39;</span>+cases[t]+view</div>
<div class="line"><span class="lineno"> 5596</span>            h[mean]    = h[cases[t]+view].ProjectionX().Clone(mean)</div>
<div class="line"><span class="lineno"> 5597</span>            h[oneHit234]= h[cases[t]+view].ProjectionX().Clone(oneHit234)</div>
<div class="line"><span class="lineno"> 5598</span>            h[twoHit34]= h[cases[t]+view].ProjectionX().Clone(twoHit34)</div>
<div class="line"><span class="lineno"> 5599</span>            h[cases[t]+view+<span class="stringliteral">&#39;proj&#39;</span>]= h[cases[t]+view].ProjectionY().Clone(cases[t]+view+<span class="stringliteral">&#39;proj&#39;</span>)</div>
<div class="line"><span class="lineno"> 5600</span>            h[oneHit234].SetMaximum(-1111)</div>
<div class="line"><span class="lineno"> 5601</span>            h[oneHit234].SetMinimum(-1111)</div>
<div class="line"><span class="lineno"> 5602</span>            h[twoHit34].SetMaximum(-1111)</div>
<div class="line"><span class="lineno"> 5603</span>            h[twoHit34].SetMinimum(-1111)</div>
<div class="line"><span class="lineno"> 5604</span>            <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(1,h[mean].GetNbinsX()):</div>
<div class="line"><span class="lineno"> 5605</span>                test = h[cases[t]+view].ProjectionY(<span class="stringliteral">&#39;test&#39;</span>,k,k) </div>
<div class="line"><span class="lineno"> 5606</span>                h[mean].SetBinContent(k,test.GetMean())</div>
<div class="line"><span class="lineno"> 5607</span>                h[mean].SetBinError(k,0)</div>
<div class="line"><span class="lineno"> 5608</span>                ratio = float(test.GetBinContent(2))/(test.GetBinContent(3)+test.GetBinContent(4)+test.GetBinContent(5)+1E-6)</div>
<div class="line"><span class="lineno"> 5609</span>                h[oneHit234].SetBinContent(k,ratio)</div>
<div class="line"><span class="lineno"> 5610</span>                h[oneHit234].SetBinError(k,0)</div>
<div class="line"><span class="lineno"> 5611</span>                ratio = float(test.GetBinContent(3))/(test.GetBinContent(4)+test.GetBinContent(5)+1E-6)</div>
<div class="line"><span class="lineno"> 5612</span>                h[twoHit34].SetBinContent(k,ratio)</div>
<div class="line"><span class="lineno"> 5613</span>                h[twoHit34].SetBinError(k,0)</div>
<div class="line"><span class="lineno"> 5614</span>            tc = h[t].cd(n)</div>
<div class="line"><span class="lineno"> 5615</span>            h[mean].SetMinimum(2.)</div>
<div class="line"><span class="lineno"> 5616</span>            h[mean].SetMaximum(4.)</div>
<div class="line"><span class="lineno"> 5617</span>            h[mean].Fit(<span class="stringliteral">&#39;pol1&#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,50,300)</div>
<div class="line"><span class="lineno"> 5618</span>            h[mean].SetStats(0)</div>
<div class="line"><span class="lineno"> 5619</span>            h[mean].Draw(<span class="stringliteral">&#39;hist&#39;</span>)</div>
<div class="line"><span class="lineno"> 5620</span>            h[mean].GetFunction(<span class="stringliteral">&#39;pol1&#39;</span>).Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 5621</span>            tc = h[t+<span class="stringliteral">&#39;proj&#39;</span>].cd(n)</div>
<div class="line"><span class="lineno"> 5622</span>            tc.SetLogy()</div>
<div class="line"><span class="lineno"> 5623</span>            h[cases[t]+view+<span class="stringliteral">&#39;proj&#39;</span>].GetXaxis().SetRangeUser(-0.5,6.5)</div>
<div class="line"><span class="lineno"> 5624</span>            h[cases[t]+view+<span class="stringliteral">&#39;proj&#39;</span>].Draw(<span class="stringliteral">&#39;hist&#39;</span>)</div>
<div class="line"><span class="lineno"> 5625</span>            n+=1</div>
<div class="line"><span class="lineno"> 5626</span>            myPrint(h[t],t+<span class="stringliteral">&#39;meanFunP&#39;</span>)</div>
<div class="line"><span class="lineno"> 5627</span>            myPrint(h[t+<span class="stringliteral">&#39;proj&#39;</span>],t+<span class="stringliteral">&#39;distribution&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d73b043b6c3dcaed7e8d5b6cd9e0d1c" name="a0d73b043b6c3dcaed7e8d5b6cd9e0d1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d73b043b6c3dcaed7e8d5b6cd9e0d1c">&#9670;&#160;</a></span>plotEffMethod2Example()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotEffMethod2Example </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07261">7261</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7261</span><span class="keyword">def </span>plotEffMethod2Example():</div>
<div class="line"><span class="lineno"> 7262</span>    efficiencyEstimates(method=2)</div>
<div class="line"><span class="lineno"> 7263</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;Residualsexample&#39;</span>,<span class="stringliteral">&#39; &#39;</span>,1200,600,1,1)</div>
<div class="line"><span class="lineno"> 7264</span>    h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].SetLogy(1)</div>
<div class="line"><span class="lineno"> 7265</span>    <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(0,4):</div>
<div class="line"><span class="lineno"> 7266</span>      <span class="keywordflow">for</span> z <span class="keywordflow">in</span> [<span class="stringliteral">&#39;x&#39;</span>,<span class="stringliteral">&#39;u&#39;</span>,<span class="stringliteral">&#39;v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 7267</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 7268</span>          <span class="keywordflow">if</span> z==<span class="stringliteral">&#39;u&#39;</span> <span class="keywordflow">and</span> s!=1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7269</span>          <span class="keywordflow">if</span> z==<span class="stringliteral">&#39;v&#39;</span> <span class="keywordflow">and</span> s!=2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7270</span>          hname = <span class="stringliteral">&#39;biasResXL_&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+z+str(l)+<span class="stringliteral">&#39;_projx&#39;</span></div>
<div class="line"><span class="lineno"> 7271</span>          h[hname].SetTitle(h[hname].GetTitle()+<span class="stringliteral">&#39;; [cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7272</span>          h[hname].Draw()</div>
<div class="line"><span class="lineno"> 7273</span>          h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 7274</span>          stats = h[hname].FindObject(<span class="stringliteral">&quot;stats&quot;</span>)</div>
<div class="line"><span class="lineno"> 7275</span>          stats.SetX1NDC(0.60)</div>
<div class="line"><span class="lineno"> 7276</span>          stats.SetY1NDC(0.60)</div>
<div class="line"><span class="lineno"> 7277</span>          stats.SetX2NDC(0.97)</div>
<div class="line"><span class="lineno"> 7278</span>          stats.SetY2NDC(0.93)</div>
<div class="line"><span class="lineno"> 7279</span>          stats.SetOptFit(111)</div>
<div class="line"><span class="lineno"> 7280</span>          h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 7281</span>          myPrint(h[<span class="stringliteral">&#39;Residualsexample&#39;</span>],hname)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a83b063360489582bc8a2ccade2996995" name="a83b063360489582bc8a2ccade2996995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b063360489582bc8a2ccade2996995">&#9670;&#160;</a></span>plotEnergyLoss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotEnergyLoss </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05693">5693</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5693</span><span class="keyword">def </span>plotEnergyLoss():</div>
<div class="line"><span class="lineno"> 5694</span>    f=ROOT.TFile(<span class="stringliteral">&#39;PinPout.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 5695</span>    PinPout = f.PinPout</div>
<div class="line"><span class="lineno"> 5696</span>    PinPout.SetStats(0)</div>
<div class="line"><span class="lineno"> 5697</span>    PinPout.SetTitle(<span class="stringliteral">&#39;incoming vs. outgoing momentum;#it{p} [GeV/c];#it{p} [GeV/c];  &#39;</span>)</div>
<div class="line"><span class="lineno"> 5698</span>    PinPout.Draw(<span class="stringliteral">&#39;box&#39;</span>)</div>
<div class="line"><span class="lineno"> 5699</span>    lx = ROOT.TLine(0.,1.,10.,1.)</div>
<div class="line"><span class="lineno"> 5700</span>    lx.DrawClone()</div>
<div class="line"><span class="lineno"> 5701</span>    ly = ROOT.TLine(5.,0.,5.,10.)</div>
<div class="line"><span class="lineno"> 5702</span>    ly.DrawClone()</div>
<div class="line"><span class="lineno"> 5703</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a957cccd89a33c3b0d11f0663420de92b" name="a957cccd89a33c3b0d11f0663420de92b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957cccd89a33c3b0d11f0663420de92b">&#9670;&#160;</a></span>plotEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotEvent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em> = <code>-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00908">908</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  908</span><span class="keyword">def </span>plotEvent(n=-1):</div>
<div class="line"><span class="lineno">  909</span>    h[<span class="stringliteral">&#39;dispTrack&#39;</span>]=[]</div>
<div class="line"><span class="lineno">  910</span>    h[<span class="stringliteral">&#39;dispTrack3D&#39;</span>]=[]</div>
<div class="line"><span class="lineno">  911</span>    h[<span class="stringliteral">&#39;dispTrackY&#39;</span>]=[]</div>
<div class="line"><span class="lineno">  912</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> n&lt;0: rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno">  913</span>    h[<span class="stringliteral">&#39;hitCollection&#39;</span>]= {<span class="stringliteral">&#39;upstream&#39;</span>:[0,ROOT.TGraph()],<span class="stringliteral">&#39;downstream&#39;</span>:[0,ROOT.TGraph()],<span class="stringliteral">&#39;muonTaggerX&#39;</span>:[0,ROOT.TGraph()],<span class="stringliteral">&#39;muonTaggerY&#39;</span>:[0,ROOT.TGraph()]}</div>
<div class="line"><span class="lineno">  914</span>    h[<span class="stringliteral">&#39;stereoHits&#39;</span>] = []</div>
<div class="line"><span class="lineno">  915</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;hitCollection&#39;</span>]: rc=h[<span class="stringliteral">&#39;hitCollection&#39;</span>][c][1].SetName(c)</div>
<div class="line"><span class="lineno">  916</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;hitCollection&#39;</span>]: rc=h[<span class="stringliteral">&#39;hitCollection&#39;</span>][c][1].Set(0)</div>
<div class="line"><span class="lineno">  917</span>    ut.bookHist(h,<span class="stringliteral">&#39;xz&#39;</span>,<span class="stringliteral">&#39;x (y) vs z; Z [cm]; X(Y) [cm]&#39;</span>,500,0.,1200.,100,-100.,100.)</div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;simpleDisplay&#39;</span>): ut.bookCanvas(h,key=<span class="stringliteral">&#39;simpleDisplay&#39;</span>,title=<span class="stringliteral">&#39;simple event display&#39;</span>,nx=1200,ny=800,cx=1,cy=0)</div>
<div class="line"><span class="lineno">  919</span>    rc = h[ <span class="stringliteral">&#39;simpleDisplay&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno">  920</span>    h[<span class="stringliteral">&#39;xz&#39;</span>].SetMarkerStyle(30)</div>
<div class="line"><span class="lineno">  921</span>    h[<span class="stringliteral">&#39;xz&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno">  922</span>    h[<span class="stringliteral">&#39;xz&#39;</span>].Draw(<span class="stringliteral">&#39;b&#39;</span>)</div>
<div class="line"><span class="lineno">  923</span>    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno">  924</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.hasTimeOverThreshold(): <span class="keywordflow">continue</span>   <span class="comment"># 16% of the hits, isn&#39;t it a bit too much?</span></div>
<div class="line"><span class="lineno">  925</span>        statnb,vnb,pnb,lnb,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno">  926</span>        <span class="comment"># print statnb,vnb,pnb,lnb,view,hit.GetDetectorID()</span></div>
<div class="line"><span class="lineno">  927</span>        vbot,vtop = strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno">  928</span>        <span class="keywordflow">if</span> view != <span class="stringliteral">&#39;_x&#39;</span>:</div>
<div class="line"><span class="lineno">  929</span>            stereoHit = ROOT.TGraph()</div>
<div class="line"><span class="lineno">  930</span>            stereoHit.SetPoint(0,vbot[2],vbot[0])</div>
<div class="line"><span class="lineno">  931</span>            stereoHit.SetPoint(1,vtop[2],vtop[0])</div>
<div class="line"><span class="lineno">  932</span>            h[<span class="stringliteral">&#39;stereoHits&#39;</span>].append(stereoHit)</div>
<div class="line"><span class="lineno">  933</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  934</span>        <span class="keywordflow">if</span> statnb&lt;3:  </div>
<div class="line"><span class="lineno">  935</span>            c = h[<span class="stringliteral">&#39;hitCollection&#39;</span>][<span class="stringliteral">&#39;upstream&#39;</span>] </div>
<div class="line"><span class="lineno">  936</span>            rc = c[1].SetPoint(c[0],vbot[2],vbot[0])</div>
<div class="line"><span class="lineno">  937</span>            c[0]+=1 </div>
<div class="line"><span class="lineno">  938</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  939</span>            c = h[<span class="stringliteral">&#39;hitCollection&#39;</span>][<span class="stringliteral">&#39;downstream&#39;</span>] </div>
<div class="line"><span class="lineno">  940</span>            rc = c[1].SetPoint(c[0],vbot[2],vbot[0])</div>
<div class="line"><span class="lineno">  941</span>            c[0]+=1</div>
<div class="line"><span class="lineno">  942</span>    c  = h[<span class="stringliteral">&#39;hitCollection&#39;</span>][<span class="stringliteral">&#39;muonTaggerX&#39;</span>] </div>
<div class="line"><span class="lineno">  943</span>    cy = h[<span class="stringliteral">&#39;hitCollection&#39;</span>][<span class="stringliteral">&#39;muonTaggerY&#39;</span>]</div>
<div class="line"><span class="lineno">  944</span>    <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&quot;Digi_MuonTaggerHits&quot;</span>):</div>
<div class="line"><span class="lineno">  945</span>        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MuonTaggerHits:</div>
<div class="line"><span class="lineno">  946</span>            channelID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno">  947</span>            statnb = channelID/10000</div>
<div class="line"><span class="lineno">  948</span>            view   = (channelID-10000*statnb)/1000</div>
<div class="line"><span class="lineno">  949</span>            channel = channelID%1000</div>
<div class="line"><span class="lineno">  950</span>            vbot,vtop = RPCPositionsBotTop[channelID]</div>
<div class="line"><span class="lineno">  951</span>            <span class="keywordflow">if</span> view == 1:</div>
<div class="line"><span class="lineno">  952</span>                x,z =  (vtop[0]+vbot[0])/2.,(vtop[2]+vbot[2])/2.</div>
<div class="line"><span class="lineno">  953</span>                rc = c[1].SetPoint(c[0],z,x)</div>
<div class="line"><span class="lineno">  954</span>                c[0]+=1</div>
<div class="line"><span class="lineno">  955</span>            <span class="keywordflow">if</span> view == 0:</div>
<div class="line"><span class="lineno">  956</span>                y,z =  (vtop[1]+vbot[1])/2.,(vtop[2]+vbot[2])/2.</div>
<div class="line"><span class="lineno">  957</span>                rc = cy[1].SetPoint(cy[0],z,y)  </div>
<div class="line"><span class="lineno">  958</span>                cy[0]+=1</div>
<div class="line"><span class="lineno">  959</span>    h[<span class="stringliteral">&#39;hitCollection&#39;</span>][<span class="stringliteral">&#39;downstream&#39;</span>][1].SetMarkerColor(ROOT.kRed)</div>
<div class="line"><span class="lineno">  960</span>    h[<span class="stringliteral">&#39;hitCollection&#39;</span>][<span class="stringliteral">&#39;upstream&#39;</span>][1].SetMarkerColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno">  961</span>    h[<span class="stringliteral">&#39;hitCollection&#39;</span>][<span class="stringliteral">&#39;muonTaggerX&#39;</span>][1].SetMarkerColor(ROOT.kGreen)</div>
<div class="line"><span class="lineno">  962</span>    h[<span class="stringliteral">&#39;hitCollection&#39;</span>][<span class="stringliteral">&#39;muonTaggerY&#39;</span>][1].SetMarkerColor(ROOT.kCyan)</div>
<div class="line"><span class="lineno">  963</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;hitCollection&#39;</span>]: rc=h[<span class="stringliteral">&#39;hitCollection&#39;</span>][c][1].SetMarkerStyle(30)</div>
<div class="line"><span class="lineno">  964</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;hitCollection&#39;</span>]:</div>
<div class="line"><span class="lineno">  965</span>        <span class="keywordflow">if</span> h[<span class="stringliteral">&#39;hitCollection&#39;</span>][c][1].GetN()&lt;1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  966</span>        rc=h[<span class="stringliteral">&#39;hitCollection&#39;</span>][c][1].Draw(<span class="stringliteral">&#39;sameP&#39;</span>)</div>
<div class="line"><span class="lineno">  967</span>        h[<span class="stringliteral">&#39;display:&#39;</span>+c]=h[<span class="stringliteral">&#39;hitCollection&#39;</span>][c][1]</div>
<div class="line"><span class="lineno">  968</span>    <span class="keywordflow">for</span> g <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;stereoHits&#39;</span>]:</div>
<div class="line"><span class="lineno">  969</span>        g.SetLineWidth(2)</div>
<div class="line"><span class="lineno">  970</span>        g.Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno">  971</span>    h[ <span class="stringliteral">&#39;simpleDisplay&#39;</span>].Update()</div>
<div class="line"><span class="lineno">  972</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2887cebdcdbd206e565d9255d5d53874" name="a2887cebdcdbd206e565d9255d5d53874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2887cebdcdbd206e565d9255d5d53874">&#9670;&#160;</a></span>plotFitPoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotFitPoints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05628">5628</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5628</span><span class="keyword">def </span>plotFitPoints():</div>
<div class="line"><span class="lineno"> 5629</span>    t = <span class="stringliteral">&#39;Fitpoints&#39;</span></div>
<div class="line"><span class="lineno"> 5630</span>    views = [<span class="stringliteral">&#39;_u1&#39;</span>,<span class="stringliteral">&#39;_v2&#39;</span>,<span class="stringliteral">&#39;_x1&#39;</span>,<span class="stringliteral">&#39;_x2&#39;</span>,<span class="stringliteral">&#39;_x3&#39;</span>,<span class="stringliteral">&#39;_x4&#39;</span>]</div>
<div class="line"><span class="lineno"> 5631</span>    interestingHistos=[]</div>
<div class="line"><span class="lineno"> 5632</span>    <span class="keywordflow">for</span> view <span class="keywordflow">in</span> views: interestingHistos.append(t+view)</div>
<div class="line"><span class="lineno"> 5633</span>    ut.readHists(hMC,<span class="stringliteral">&#39;../DTPoints-mbias.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5634</span>    ut.readHists(h,<span class="stringliteral">&#39;momDistributions.root&#39;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 5635</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(t): </div>
<div class="line"><span class="lineno"> 5636</span>        ut.bookCanvas(h,key=t,title=t,nx=1200,ny=600,cx=3,cy=2)</div>
<div class="line"><span class="lineno"> 5637</span>        ut.bookCanvas(h,key=t+<span class="stringliteral">&#39;proj&#39;</span>,title=t,nx=1200,ny=600,cx=3,cy=2)</div>
<div class="line"><span class="lineno"> 5638</span>    histos = {<span class="stringliteral">&#39;data&#39;</span>:h,<span class="stringliteral">&#39;MC&#39;</span>:hMC}</div>
<div class="line"><span class="lineno"> 5639</span>    <span class="keywordflow">for</span> data <span class="keywordflow">in</span> [<span class="stringliteral">&#39;data&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5640</span>        hx = histos[data]</div>
<div class="line"><span class="lineno"> 5641</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> views:</div>
<div class="line"><span class="lineno"> 5642</span>            mean      = data+<span class="stringliteral">&#39;mean&#39;</span>+t+view</div>
<div class="line"><span class="lineno"> 5643</span>            oneHit234 = data+<span class="stringliteral">&#39;oneHit234&#39;</span>+t+view</div>
<div class="line"><span class="lineno"> 5644</span>            twoHit34  = data+<span class="stringliteral">&#39;twoHit34&#39;</span>+t+view</div>
<div class="line"><span class="lineno"> 5645</span>            h[mean]     = hx[t+view].ProjectionX().Clone(mean)</div>
<div class="line"><span class="lineno"> 5646</span>            h[oneHit234]= hx[t+view].ProjectionX().Clone(oneHit234)</div>
<div class="line"><span class="lineno"> 5647</span>            h[twoHit34] = hx[t+view].ProjectionX().Clone(twoHit34)</div>
<div class="line"><span class="lineno"> 5648</span>            h[data+t+view+<span class="stringliteral">&#39;proj&#39;</span>]= hx[t+view].ProjectionY().Clone(data+t+view+<span class="stringliteral">&#39;proj&#39;</span>)</div>
<div class="line"><span class="lineno"> 5649</span>            h[oneHit234].SetMaximum(-1111)</div>
<div class="line"><span class="lineno"> 5650</span>            h[oneHit234].SetMinimum(-1111)</div>
<div class="line"><span class="lineno"> 5651</span>            h[twoHit34].SetMaximum(-1111)</div>
<div class="line"><span class="lineno"> 5652</span>            h[twoHit34].SetMinimum(-1111)</div>
<div class="line"><span class="lineno"> 5653</span>            <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(1,h[mean].GetNbinsX()):</div>
<div class="line"><span class="lineno"> 5654</span>                test = hx[t+view].ProjectionY(<span class="stringliteral">&#39;test&#39;</span>,k,k) </div>
<div class="line"><span class="lineno"> 5655</span>                h[mean].SetBinContent(k,test.GetMean())</div>
<div class="line"><span class="lineno"> 5656</span>                h[mean].SetBinError(k,0)</div>
<div class="line"><span class="lineno"> 5657</span>                ratio = float(test.GetBinContent(2))/(test.GetBinContent(3)+test.GetBinContent(4)+test.GetBinContent(5)+1E-6)</div>
<div class="line"><span class="lineno"> 5658</span>                h[oneHit234].SetBinContent(k,ratio)</div>
<div class="line"><span class="lineno"> 5659</span>                h[oneHit234].SetBinError(k,0)</div>
<div class="line"><span class="lineno"> 5660</span>                ratio = float(test.GetBinContent(3))/(test.GetBinContent(4)+test.GetBinContent(5)+1E-6)</div>
<div class="line"><span class="lineno"> 5661</span>                h[twoHit34].SetBinContent(k,ratio)</div>
<div class="line"><span class="lineno"> 5662</span>                h[twoHit34].SetBinError(k,0)</div>
<div class="line"><span class="lineno"> 5663</span>            h[mean].SetMinimum(2.)</div>
<div class="line"><span class="lineno"> 5664</span>            h[mean].SetMaximum(4.)</div>
<div class="line"><span class="lineno"> 5665</span>            h[mean].Fit(<span class="stringliteral">&#39;pol1&#39;</span>,<span class="stringliteral">&#39;PL&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,50,300)</div>
<div class="line"><span class="lineno"> 5666</span>            h[mean].SetStats(0)</div>
<div class="line"><span class="lineno"> 5667</span>    <span class="keywordflow">for</span> data <span class="keywordflow">in</span> [<span class="stringliteral">&#39;data&#39;</span>,<span class="stringliteral">&#39;MC&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5668</span>        hx = histos[data]</div>
<div class="line"><span class="lineno"> 5669</span>        n = 1</div>
<div class="line"><span class="lineno"> 5670</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> views:</div>
<div class="line"><span class="lineno"> 5671</span>            tc = h[t].cd(n)</div>
<div class="line"><span class="lineno"> 5672</span>            mean      = data+<span class="stringliteral">&#39;mean&#39;</span>+t+view</div>
<div class="line"><span class="lineno"> 5673</span>            <span class="keywordflow">if</span> data == <span class="stringliteral">&#39;MC&#39;</span>:</div>
<div class="line"><span class="lineno"> 5674</span>                h[mean].SetLineColor(ROOT.kGreen)</div>
<div class="line"><span class="lineno"> 5675</span>                h[mean].Draw(<span class="stringliteral">&#39;histsame&#39;</span>)</div>
<div class="line"><span class="lineno"> 5676</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 5677</span>                h[mean].SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 5678</span>                h[mean].Draw(<span class="stringliteral">&#39;hist&#39;</span>)</div>
<div class="line"><span class="lineno"> 5679</span>            h[mean].GetFunction(<span class="stringliteral">&#39;pol1&#39;</span>).Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 5680</span>            tc = h[t+<span class="stringliteral">&#39;proj&#39;</span>].cd(n)</div>
<div class="line"><span class="lineno"> 5681</span>            tc.SetLogy()</div>
<div class="line"><span class="lineno"> 5682</span>            hname = data+t+view+<span class="stringliteral">&#39;proj&#39;</span></div>
<div class="line"><span class="lineno"> 5683</span>            h[hname].GetXaxis().SetRangeUser(-0.5,6.5)</div>
<div class="line"><span class="lineno"> 5684</span>            <span class="keywordflow">if</span> data == <span class="stringliteral">&#39;MC&#39;</span>:    </div>
<div class="line"><span class="lineno"> 5685</span>                h[hname].SetLineColor(ROOT.kGreen)</div>
<div class="line"><span class="lineno"> 5686</span>                h[hname].Draw(<span class="stringliteral">&#39;histsame&#39;</span>)</div>
<div class="line"><span class="lineno"> 5687</span>            <span class="keywordflow">else</span>:    </div>
<div class="line"><span class="lineno"> 5688</span>                h[hname].SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 5689</span>                h[hname].Draw(<span class="stringliteral">&#39;hist&#39;</span>)</div>
<div class="line"><span class="lineno"> 5690</span>            n+=1</div>
<div class="line"><span class="lineno"> 5691</span>    myPrint(h[t],t+<span class="stringliteral">&#39;meanFunP&#39;</span>)</div>
<div class="line"><span class="lineno"> 5692</span>    myPrint(h[t+<span class="stringliteral">&#39;proj&#39;</span>],t+<span class="stringliteral">&#39;distribution&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a02334ccf0946fbc31a1e9aa8f2b437c3" name="a02334ccf0946fbc31a1e9aa8f2b437c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02334ccf0946fbc31a1e9aa8f2b437c3">&#9670;&#160;</a></span>plotHitMaps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotHitMaps </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>onlyPlotting</em> = <code>False</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01164">1164</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1164</span><span class="keyword">def </span>plotHitMaps(onlyPlotting=False):</div>
<div class="line"><span class="lineno"> 1165</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> onlyPlotting: muflux_Reco.fillHitMaps()</div>
<div class="line"><span class="lineno"> 1166</span>    plotHitMapsOld(onlyPlotting=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1167</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afcf86b17583f773e5963f935dfdd136d" name="afcf86b17583f773e5963f935dfdd136d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcf86b17583f773e5963f935dfdd136d">&#9670;&#160;</a></span>plotHitMapsOld()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotHitMapsOld </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>onlyPlotting</em> = <code>False</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01191">1191</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1191</span><span class="keyword">def </span>plotHitMapsOld(onlyPlotting=False):</div>
<div class="line"><span class="lineno"> 1192</span>    noisyChannels = []</div>
<div class="line"><span class="lineno"> 1193</span>    deadThreshold = 1.E-4 <span class="comment"># ~1% typical occupancy</span></div>
<div class="line"><span class="lineno"> 1194</span>    deadChannels = []</div>
<div class="line"><span class="lineno"> 1195</span>    <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&quot;FitTracks&quot;</span>):</div>
<div class="line"><span class="lineno"> 1196</span>        FitTracksBrStatus =  sTree.GetBranchStatus(<span class="stringliteral">&quot;FitTracks&quot;</span>)</div>
<div class="line"><span class="lineno"> 1197</span>        sTree.SetBranchStatus(<span class="stringliteral">&quot;FitTracks&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 1198</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> onlyPlotting:</div>
<div class="line"><span class="lineno"> 1199</span>        <span class="keywordflow">for</span> event <span class="keywordflow">in</span> sTree:</div>
<div class="line"><span class="lineno"> 1200</span>            <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> event.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno"> 1201</span>                s,v,p,l,view,channelNr,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 1202</span>                tot = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 1203</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.hasTimeOverThreshold(): tot=<span class="stringliteral">&#39;_noToT&#39;</span></div>
<div class="line"><span class="lineno"> 1204</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1205</span>                    rc = xLayers[s][p][l][view].Fill(channelNr)</div>
<div class="line"><span class="lineno"> 1206</span>                <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno"> 1207</span>                    <span class="keywordflow">print</span> <span class="stringliteral">&quot;plotHitMaps error&quot;</span>,hit.GetDetectorID(),s,v,p,l,view,channelNr,tdcId</div>
<div class="line"><span class="lineno"> 1208</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1209</span>                <span class="keywordflow">if</span> hit.GetDetectorID() <span class="keywordflow">not</span> <span class="keywordflow">in</span> noisyChannels:</div>
<div class="line"><span class="lineno"> 1210</span>                    t0 = 0</div>
<div class="line"><span class="lineno"> 1211</span>                    <span class="keywordflow">if</span> MCdata: t0 = sTree.ShipEventHeader.GetEventTime()</div>
<div class="line"><span class="lineno"> 1212</span>                    rc = h[<span class="stringliteral">&#39;TDC&#39;</span>+str(nRT)+tot].Fill(hit.GetDigi()-t0)</div>
<div class="line"><span class="lineno"> 1213</span>                channel = <span class="stringliteral">&#39;TDC&#39;</span>+str(hit.GetDetectorID())</div>
<div class="line"><span class="lineno"> 1214</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(channel+tot): h[channel+tot]=h[<span class="stringliteral">&#39;TDC&#39;</span>+str(nRT)+tot].Clone(channel)</div>
<div class="line"><span class="lineno"> 1215</span>                rc = h[channel+tot].Fill(hit.GetDigi()-t0)</div>
<div class="line"><span class="lineno"> 1216</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;hitMapsX&#39;</span>): ut.bookCanvas(h,key=<span class="stringliteral">&#39;hitMapsX&#39;</span>,title=<span class="stringliteral">&#39;Hit Maps All Layers&#39;</span>,nx=1600,ny=1200,cx=4,cy=6)</div>
<div class="line"><span class="lineno"> 1217</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;TDCMapsX&#39;</span>): ut.bookCanvas(h,key=<span class="stringliteral">&#39;TDCMapsX&#39;</span>,title=<span class="stringliteral">&#39;TDC Maps All Layers&#39;</span>,nx=1600,ny=1200,cx=5,cy=10)</div>
<div class="line"><span class="lineno"> 1218</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;TDCMapsX_noToT&#39;</span>): ut.bookCanvas(h,key=<span class="stringliteral">&#39;TDCMapsX_noToT&#39;</span>,title=<span class="stringliteral">&#39;TDC Maps All Layers noToT&#39;</span>,nx=1600,ny=1200,cx=5,cy=10)</div>
<div class="line"><span class="lineno"> 1219</span>    j  = 0</div>
<div class="line"><span class="lineno"> 1220</span>    jt = 0</div>
<div class="line"><span class="lineno"> 1221</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 1222</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>,<span class="stringliteral">&#39;_u&#39;</span>,<span class="stringliteral">&#39;_v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1223</span>            <span class="keywordflow">for</span> p <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 1224</span>                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 1225</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> xLayers[s][p][l].has_key(view):<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1226</span>                    <span class="keywordflow">if</span> s&gt;2 <span class="keywordflow">and</span> view != <span class="stringliteral">&#39;_x&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1227</span>                    <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_v&#39;</span><span class="keywordflow">or</span> s==2 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_u&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1228</span>                    j+=1</div>
<div class="line"><span class="lineno"> 1229</span>                    rc = h[<span class="stringliteral">&#39;hitMapsX&#39;</span>].cd(j)</div>
<div class="line"><span class="lineno"> 1230</span>                    xLayers[s][p][l][view].Draw()</div>
<div class="line"><span class="lineno"> 1231</span>                    mean = xLayers[s][p][l][view].GetEntries()/channels[s][p][l][view]</div>
<div class="line"><span class="lineno"> 1232</span>                    v = 0</div>
<div class="line"><span class="lineno"> 1233</span>                    <span class="keywordflow">if</span> s==2 <span class="keywordflow">and</span> view == <span class="stringliteral">&quot;_x&quot;</span>: v = 1</div>
<div class="line"><span class="lineno"> 1234</span>                    <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view == <span class="stringliteral">&quot;_u&quot;</span>: v = 1</div>
<div class="line"><span class="lineno"> 1235</span>                    myDetID = s * 10000000 + v * 1000000 + p * 100000 + l*10000</div>
<div class="line"><span class="lineno"> 1236</span>                    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2,int(xLayers[s][p][l][view].GetEntries())+1):</div>
<div class="line"><span class="lineno"> 1237</span>                        <span class="keywordflow">if</span> i+1&gt;Nchannels[s]: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1238</span>                        channel = myDetID+i-1 + 2000</div>
<div class="line"><span class="lineno"> 1239</span>                        <span class="keywordflow">if</span> xLayers[s][p][l][view].GetBinContent(i) &gt; noiseThreshold * mean:</div>
<div class="line"><span class="lineno"> 1240</span>                            <span class="keywordflow">print</span> <span class="stringliteral">&quot;noisy channel:&quot;</span>,s,p,l,view,xLayers[s][p][l][view].GetBinContent(i) , noiseThreshold , mean</div>
<div class="line"><span class="lineno"> 1241</span>                            <span class="keywordflow">if</span> <span class="keywordflow">not</span> channel <span class="keywordflow">in</span> noisyChannels: noisyChannels.append(myDetID+i-1)</div>
<div class="line"><span class="lineno"> 1242</span>                        <span class="keywordflow">if</span> xLayers[s][p][l][view].GetBinContent(i) &lt; max(1,deadThreshold * mean):</div>
<div class="line"><span class="lineno"> 1243</span>                            <span class="keywordflow">print</span> <span class="stringliteral">&quot;dead channel:&quot;</span>,s,p,l,view,i,xLayers[s][p][l][view].GetBinContent(i) , deadThreshold , mean</div>
<div class="line"><span class="lineno"> 1244</span>                            deadChannels.append(channel)</div>
<div class="line"><span class="lineno"> 1245</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1246</span>    <span class="keywordflow">for</span> nRT <span class="keywordflow">in</span> range(1,576/cuts[<span class="stringliteral">&#39;RTsegmentation&#39;</span>]+1):</div>
<div class="line"><span class="lineno"> 1247</span>        jt+=1</div>
<div class="line"><span class="lineno"> 1248</span>        tp = h[<span class="stringliteral">&#39;TDCMapsX&#39;</span>].cd(jt)</div>
<div class="line"><span class="lineno"> 1249</span>        tp.SetLogy(1)</div>
<div class="line"><span class="lineno"> 1250</span>        h[<span class="stringliteral">&#39;TDC&#39;</span>+str(nRT-1)].Draw()</div>
<div class="line"><span class="lineno"> 1251</span>        tp = h[<span class="stringliteral">&#39;TDCMapsX_noToT&#39;</span>].cd(jt)</div>
<div class="line"><span class="lineno"> 1252</span>        tp.SetLogy(1)</div>
<div class="line"><span class="lineno"> 1253</span>        h[<span class="stringliteral">&#39;TDC&#39;</span>+str(nRT-1)+<span class="stringliteral">&#39;_noToT&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1254</span> </div>
<div class="line"><span class="lineno"> 1255</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;list of noisy channels&quot;</span></div>
<div class="line"><span class="lineno"> 1256</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> noisyChannels: <span class="keywordflow">print</span> n</div>
<div class="line"><span class="lineno"> 1257</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;list of dead channels&quot;</span></div>
<div class="line"><span class="lineno"> 1258</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> deadChannels: <span class="keywordflow">print</span> n</div>
<div class="line"><span class="lineno"> 1259</span>    <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&quot;FitTracks&quot;</span>): sTree.SetBranchStatus(<span class="stringliteral">&quot;FitTracks&quot;</span>,FitTracksBrStatus)</div>
<div class="line"><span class="lineno"> 1260</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b59d41cb6a9f2031d32da22f95d4d1e" name="a1b59d41cb6a9f2031d32da22f95d4d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b59d41cb6a9f2031d32da22f95d4d1e">&#9670;&#160;</a></span>plotLinearResiduals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotLinearResiduals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03937">3937</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3937</span><span class="keyword">def </span>plotLinearResiduals():</div>
<div class="line"><span class="lineno"> 3938</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;linearResiduals2dX&#39;</span>): </div>
<div class="line"><span class="lineno"> 3939</span>        plotRPCExtrap(0,-1)</div>
<div class="line"><span class="lineno"> 3940</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;linearResiduals2dX&#39;</span>,title=<span class="stringliteral">&#39;linear track model, residuals function of X&#39;</span>,nx=1600,ny=1200,cx=4,cy=4)</div>
<div class="line"><span class="lineno"> 3941</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;linearResidualsX&#39;</span>,title=<span class="stringliteral">&#39;linear track model, residuals&#39;</span>,nx=1600,ny=1200,cx=4,cy=4)</div>
<div class="line"><span class="lineno"> 3942</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3943</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3944</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(0,4):</div>
<div class="line"><span class="lineno"> 3945</span>                hname = <span class="stringliteral">&#39;linearRes&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3946</span>                h[hname].Reset()</div>
<div class="line"><span class="lineno"> 3947</span>    <span class="keywordflow">for</span> Nr <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 3948</span>        sTree.GetEvent(Nr)</div>
<div class="line"><span class="lineno"> 3949</span>        <span class="keywordflow">if</span> Nr%10000==0:   <span class="keywordflow">print</span> <span class="stringliteral">&quot;now at event&quot;</span>,Nr,<span class="stringliteral">&#39; of &#39;</span>,sTree.GetEntries(),sTree.GetCurrentFile().GetName()</div>
<div class="line"><span class="lineno"> 3950</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> findSimpleEvent(sTree): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3951</span>        trackCandidates = findTracks(PR = 3,linearTrackModel = <span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 3952</span>    j=1</div>
<div class="line"><span class="lineno"> 3953</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3954</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>]:</div>
<div class="line"><span class="lineno"> 3955</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(0,4):</div>
<div class="line"><span class="lineno"> 3956</span>                hname = <span class="stringliteral">&#39;linearRes&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 3957</span>                rc = h[<span class="stringliteral">&#39;linearResiduals2dX&#39;</span>].cd(j)  </div>
<div class="line"><span class="lineno"> 3958</span>                h[hname].Draw(<span class="stringliteral">&#39;box&#39;</span>)</div>
<div class="line"><span class="lineno"> 3959</span>                rc = h[<span class="stringliteral">&#39;linearResidualsX&#39;</span>].cd(j)  </div>
<div class="line"><span class="lineno"> 3960</span>                proj = h[hname].ProjectionX(hname+<span class="stringliteral">&#39;_projx&#39;</span>)</div>
<div class="line"><span class="lineno"> 3961</span>                proj.Draw()</div>
<div class="line"><span class="lineno"> 3962</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %7.3F&quot;</span>%(hname, proj.GetMean())</div>
<div class="line"><span class="lineno"> 3963</span>                j+=1</div>
<div class="line"><span class="lineno"> 3964</span>    j=1</div>
<div class="line"><span class="lineno"> 3965</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 3966</span>        h[<span class="stringliteral">&#39;RPCResiduals&#39;</span>].cd(j*2-1)</div>
<div class="line"><span class="lineno"> 3967</span>        h[<span class="stringliteral">&#39;RPCResX_&#39;</span>+str(s)+<span class="stringliteral">&#39;1&#39;</span>].Draw(<span class="stringliteral">&#39;colz&#39;</span>)</div>
<div class="line"><span class="lineno"> 3968</span>        h[<span class="stringliteral">&#39;RPCResiduals&#39;</span>].cd(j*2)</div>
<div class="line"><span class="lineno"> 3969</span>        h[<span class="stringliteral">&#39;RPCResX_&#39;</span>+str(s)+<span class="stringliteral">&#39;1&#39;</span>].ProjectionX().Draw()</div>
<div class="line"><span class="lineno"> 3970</span>        j+=1</div>
<div class="line"><span class="lineno"> 3971</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a39fb210487e2ba160fb05271c3c292b5" name="a39fb210487e2ba160fb05271c3c292b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39fb210487e2ba160fb05271c3c292b5">&#9670;&#160;</a></span>plotMuonTaggerTrack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotMuonTaggerTrack </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>muTracks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01831">1831</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1831</span><span class="keyword">def </span>plotMuonTaggerTrack(muTracks):</div>
<div class="line"><span class="lineno"> 1832</span>    <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1833</span>        <span class="keywordflow">for</span> muTrack <span class="keywordflow">in</span> muTracks[view]:</div>
<div class="line"><span class="lineno"> 1834</span>            h[<span class="stringliteral">&#39;simpleDisplay&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 1835</span>            nt = len(h[<span class="stringliteral">&#39;dispTrack&#39;</span>])</div>
<div class="line"><span class="lineno"> 1836</span>            h[<span class="stringliteral">&#39;dispTrack&#39;</span>].append( ROOT.TGraph(2) )</div>
<div class="line"><span class="lineno"> 1837</span>            h[<span class="stringliteral">&#39;dispTrackY&#39;</span>].append( ROOT.TGraph(2) ) <span class="comment"># tricky, framework expects equal number of x and y projections</span></div>
<div class="line"><span class="lineno"> 1838</span>            zStart = 850.</div>
<div class="line"><span class="lineno"> 1839</span>            x = muTrack[0]*zStart+muTrack[1]</div>
<div class="line"><span class="lineno"> 1840</span>            h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].SetPoint(0,zStart,x)</div>
<div class="line"><span class="lineno"> 1841</span>            zEnd = 1180.</div>
<div class="line"><span class="lineno"> 1842</span>            x = muTrack[0]*zEnd+muTrack[1]</div>
<div class="line"><span class="lineno"> 1843</span>            h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].SetPoint(1,zEnd,x)</div>
<div class="line"><span class="lineno"> 1844</span>            <span class="keywordflow">if</span> view == <span class="stringliteral">&#39;X&#39;</span>: h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 1845</span>            <span class="keywordflow">else</span>:  </div>
<div class="line"><span class="lineno"> 1846</span>               h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 1847</span>               h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].SetLineStyle(10)</div>
<div class="line"><span class="lineno"> 1848</span>            h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].SetLineWidth(3)</div>
<div class="line"><span class="lineno"> 1849</span>            h[<span class="stringliteral">&#39;dispTrack&#39;</span>][nt].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 1850</span>    h[ <span class="stringliteral">&#39;simpleDisplay&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 1851</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa52ba111ea0c12b0c89e41d1205fa53e" name="aa52ba111ea0c12b0c89e41d1205fa53e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52ba111ea0c12b0c89e41d1205fa53e">&#9670;&#160;</a></span>plotResidualExample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotResidualExample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07172">7172</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7172</span><span class="keyword">def </span>plotResidualExample():</div>
<div class="line"><span class="lineno"> 7173</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;biasedResiduals&#39;</span>):</div>
<div class="line"><span class="lineno"> 7174</span>       ut.readHists(h,<span class="stringliteral">&#39;residuals_refit.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 7175</span>       plotBiasedResiduals(onlyPlotting=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 7176</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;Residualsexample&#39;</span>,<span class="stringliteral">&#39; &#39;</span>,1200,600,1,1)</div>
<div class="line"><span class="lineno"> 7177</span>    h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 7178</span>    h[<span class="stringliteral">&#39;theResidualPlot&#39;</span>]=h[<span class="stringliteral">&#39;biasRes_1_x1&#39;</span>].Clone(<span class="stringliteral">&#39;theResidualPlot&#39;</span>)</div>
<div class="line"><span class="lineno"> 7179</span>    h[<span class="stringliteral">&#39;theResidualPlot&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 7180</span>    <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(0,4):</div>
<div class="line"><span class="lineno"> 7181</span>      <span class="keywordflow">for</span> z <span class="keywordflow">in</span> [<span class="stringliteral">&#39;x&#39;</span>,<span class="stringliteral">&#39;u&#39;</span>,<span class="stringliteral">&#39;v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 7182</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 7183</span>          <span class="keywordflow">if</span> z==<span class="stringliteral">&#39;u&#39;</span> <span class="keywordflow">and</span> s!=1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7184</span>          <span class="keywordflow">if</span> z==<span class="stringliteral">&#39;v&#39;</span> <span class="keywordflow">and</span> s!=2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7185</span>          hname = <span class="stringliteral">&#39;biasRes_&#39;</span>+str(s)+<span class="stringliteral">&#39;_&#39;</span>+z+str(l)</div>
<div class="line"><span class="lineno"> 7186</span>          h[hname].SetTitle(h[hname].GetTitle()+<span class="stringliteral">&#39;;[cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7187</span>          h[hname].Draw()</div>
<div class="line"><span class="lineno"> 7188</span>          h[<span class="stringliteral">&#39;theResidualPlot&#39;</span>].Add(h[hname])</div>
<div class="line"><span class="lineno"> 7189</span>          myPrint(h[<span class="stringliteral">&#39;Residualsexample&#39;</span>],hname)</div>
<div class="line"><span class="lineno"> 7190</span>    hname = <span class="stringliteral">&#39;theResidualPlot&#39;</span></div>
<div class="line"><span class="lineno"> 7191</span>    h[hname].SetTitle(<span class="stringliteral">&#39;;[cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7192</span>    fitFunction = h[<span class="stringliteral">&#39;biasRes_1_x0&#39;</span>].GetFunction(<span class="stringliteral">&#39;gauss&#39;</span>).Clone()</div>
<div class="line"><span class="lineno"> 7193</span>    fitResult = h[hname].Fit(fitFunction,<span class="stringliteral">&#39;S&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.5,0.5)</div>
<div class="line"><span class="lineno"> 7194</span>    h[hname].Draw()</div>
<div class="line"><span class="lineno"> 7195</span>    h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 7196</span>    stats = h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].GetPrimitive(<span class="stringliteral">&#39;stats&#39;</span>)</div>
<div class="line"><span class="lineno"> 7197</span>    stats.SetOptFit(10111)</div>
<div class="line"><span class="lineno"> 7198</span>    stats.SetFitFormat(<span class="stringliteral">&#39;5.4g&#39;</span>)</div>
<div class="line"><span class="lineno"> 7199</span>    stats.SetX1NDC(0.6)</div>
<div class="line"><span class="lineno"> 7200</span>    stats.SetY1NDC(0.5)</div>
<div class="line"><span class="lineno"> 7201</span>    stats.SetX2NDC(0.98)</div>
<div class="line"><span class="lineno"> 7202</span>    stats.SetY2NDC(0.94)</div>
<div class="line"><span class="lineno"> 7203</span>    h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 7204</span>    myPrint(h[<span class="stringliteral">&#39;Residualsexample&#39;</span>],hname)</div>
<div class="line"><span class="lineno"> 7205</span>    hname = <span class="stringliteral">&#39;biasResDist_projy&#39;</span></div>
<div class="line"><span class="lineno"> 7206</span>    h[<span class="stringliteral">&#39;biasResDist_projy&#39;</span>].GetXaxis().SetRangeUser(-0.5,0.5)</div>
<div class="line"><span class="lineno"> 7207</span>    h[<span class="stringliteral">&#39;biasResDist_projy&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 7208</span>    h[hname].SetTitle(<span class="stringliteral">&#39;;[cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7209</span>    fitFunction = h[<span class="stringliteral">&#39;biasRes_1_x1&#39;</span>].GetFunction(<span class="stringliteral">&#39;gauss&#39;</span>)</div>
<div class="line"><span class="lineno"> 7210</span>    fitFunction.ReleaseParameter(3)</div>
<div class="line"><span class="lineno"> 7211</span>    rc = h[hname].Fit(fitFunction,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.3,0.3)</div>
<div class="line"><span class="lineno"> 7212</span>    fitResult=rc.Get()</div>
<div class="line"><span class="lineno"> 7213</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 7214</span>     myGauss2.SetParameter(n,fitResult.Parameter(n))</div>
<div class="line"><span class="lineno"> 7215</span>    myGauss2.FixParameter(4,0)</div>
<div class="line"><span class="lineno"> 7216</span>    myGauss2.FixParameter(5,0.04)</div>
<div class="line"><span class="lineno"> 7217</span>    rc = h[hname].Fit(myGauss2,<span class="stringliteral">&#39;S&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.3,0.3)</div>
<div class="line"><span class="lineno"> 7218</span>    myGauss2.ReleaseParameter(4)</div>
<div class="line"><span class="lineno"> 7219</span>    rc = h[hname].Fit(myGauss2,<span class="stringliteral">&#39;S&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.3,0.3)</div>
<div class="line"><span class="lineno"> 7220</span>    myGauss2.ReleaseParameter(5)</div>
<div class="line"><span class="lineno"> 7221</span>    rc = h[hname].Fit(myGauss2,<span class="stringliteral">&#39;S&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.3,0.3)</div>
<div class="line"><span class="lineno"> 7222</span>    fitResult=rc.Get()</div>
<div class="line"><span class="lineno"> 7223</span>    n1 = fitResult.Parameter(0)</div>
<div class="line"><span class="lineno"> 7224</span>    n2 = fitResult.Parameter(4)</div>
<div class="line"><span class="lineno"> 7225</span>    s1 = fitResult.Parameter(2)</div>
<div class="line"><span class="lineno"> 7226</span>    s2 = fitResult.Parameter(5)</div>
<div class="line"><span class="lineno"> 7227</span>    a = (s1*n1+s2*n2)/(n1+n2)</div>
<div class="line"><span class="lineno"> 7228</span>    txt = ROOT.TLatex(-0.45,h[hname].GetMaximum()*0.8,<span class="stringliteral">&quot;#sigma_{mean} = %5.0F#mum&quot;</span>%(a*10*1000))</div>
<div class="line"><span class="lineno"> 7229</span>    h[hname].SetTitle(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno"> 7230</span>    h[hname].Draw()</div>
<div class="line"><span class="lineno"> 7231</span>    txt.Draw()</div>
<div class="line"><span class="lineno"> 7232</span>    h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 7233</span>    stats = h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].GetPrimitive(<span class="stringliteral">&#39;stats&#39;</span>)</div>
<div class="line"><span class="lineno"> 7234</span>    stats.SetOptFit(10111)</div>
<div class="line"><span class="lineno"> 7235</span>    stats.SetFitFormat(<span class="stringliteral">&#39;5.4g&#39;</span>)</div>
<div class="line"><span class="lineno"> 7236</span>    stats.SetX1NDC(0.6)</div>
<div class="line"><span class="lineno"> 7237</span>    stats.SetY1NDC(0.5)</div>
<div class="line"><span class="lineno"> 7238</span>    stats.SetX2NDC(0.98)</div>
<div class="line"><span class="lineno"> 7239</span>    stats.SetY2NDC(0.94)</div>
<div class="line"><span class="lineno"> 7240</span>    myPrint(h[<span class="stringliteral">&#39;Residualsexample&#39;</span>],<span class="stringliteral">&#39;biasResDistAll&#39;</span>)</div>
<div class="line"><span class="lineno"> 7241</span><span class="comment">#</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a907895aae93e04cfe4e64272ed57da79" name="a907895aae93e04cfe4e64272ed57da79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a907895aae93e04cfe4e64272ed57da79">&#9670;&#160;</a></span>plotRPC3Example()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotRPC3Example </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07311">7311</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7311</span><span class="keyword">def </span>plotRPC3Example():</div>
<div class="line"><span class="lineno"> 7312</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;Residualsexample&#39;</span>,<span class="stringliteral">&#39; &#39;</span>,1200,600,1,1)</div>
<div class="line"><span class="lineno"> 7313</span>    h[<span class="stringliteral">&#39;RPCextTrack_21-70-100GeV&#39;</span>] = h[<span class="stringliteral">&#39;RPCextTrack_21&#39;</span>].ProjectionY(<span class="stringliteral">&#39;RPCextTrack_21-70-100GeV&#39;</span>,70,100)</div>
<div class="line"><span class="lineno"> 7314</span>    h[<span class="stringliteral">&#39;RPCextTrack_31-70-100GeV&#39;</span>] = h[<span class="stringliteral">&#39;RPCextTrack_31&#39;</span>].ProjectionY(<span class="stringliteral">&#39;RPCextTrack_31-70-100GeV&#39;</span>,70,100)</div>
<div class="line"><span class="lineno"> 7315</span>    h[<span class="stringliteral">&#39;RPCextTrack_21-5-10GeV&#39;</span>] = h[<span class="stringliteral">&#39;RPCextTrack_21&#39;</span>].ProjectionY(<span class="stringliteral">&#39;RPCextTrack_21-5-10GeV&#39;</span>,5,10)</div>
<div class="line"><span class="lineno"> 7316</span>    h[<span class="stringliteral">&#39;RPCextTrack_31-5-10GeV&#39;</span>] = h[<span class="stringliteral">&#39;RPCextTrack_31&#39;</span>].ProjectionY(<span class="stringliteral">&#39;RPCextTrack_31-5-10GeV&#39;</span>,5,10)</div>
<div class="line"><span class="lineno"> 7317</span>    h[<span class="stringliteral">&#39;RPCextTrack_21-70-100GeV&#39;</span>].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 7318</span>    h[<span class="stringliteral">&#39;RPCextTrack_21-5-10GeV&#39;</span>].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 7319</span>    h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 7320</span>    h[<span class="stringliteral">&#39;RPCextTrack_21-5-10GeV&#39;</span>].SetTitle(<span class="stringliteral">&#39;track with 5&lt;P&lt;10GeV position X at station 3 close to hit  ; x [cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7321</span>    h[<span class="stringliteral">&#39;RPCextTrack_21-5-10GeV&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 7322</span>    h[<span class="stringliteral">&#39;RPCextTrack_31-5-10GeV&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 7323</span>    myPrint(h[<span class="stringliteral">&#39;Residualsexample&#39;</span>],<span class="stringliteral">&quot;XRPClowMom&quot;</span>)</div>
<div class="line"><span class="lineno"> 7324</span>    h[<span class="stringliteral">&#39;RPCextTrack_21-70-100GeV&#39;</span>].SetTitle(<span class="stringliteral">&#39;track with 70&lt;P&lt;100GeV position X at station 3 close to hit  ; x [cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7325</span>    h[<span class="stringliteral">&#39;RPCextTrack_21-70-100GeV&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 7326</span>    h[<span class="stringliteral">&#39;RPCextTrack_31-70-100GeV&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 7327</span>    myPrint(h[<span class="stringliteral">&#39;Residualsexample&#39;</span>],<span class="stringliteral">&quot;XRPChighMom&quot;</span>)</div>
<div class="line"><span class="lineno"> 7328</span> </div>
<div class="line"><span class="lineno"> 7329</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a43b7782412df27eb46160a8c589a431b" name="a43b7782412df27eb46160a8c589a431b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b7782412df27eb46160a8c589a431b">&#9670;&#160;</a></span>plotRPCExample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotRPCExample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01319">1319</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1319</span><span class="keyword">def </span>plotRPCExample():</div>
<div class="line"><span class="lineno"> 1320</span>    h[<span class="stringliteral">&#39;X&#39;</span>] = ROOT.TFile(<span class="stringliteral">&#39;RPCHitMap.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 1321</span>    ROOT.gROOT.cd()</div>
<div class="line"><span class="lineno"> 1322</span>    h[<span class="stringliteral">&#39;rpcPlot&#39;</span>]=h[<span class="stringliteral">&#39;X&#39;</span>].Get(<span class="stringliteral">&#39;rpcPlot&#39;</span>).Clone(<span class="stringliteral">&#39;rpcPlot&#39;</span>)</div>
<div class="line"><span class="lineno"> 1323</span>    <span class="keywordflow">for</span> pad <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;rpcPlot&#39;</span>].GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 1324</span>       <span class="keywordflow">if</span> pad.GetListOfPrimitives().GetSize()==0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1325</span>       hist = pad.GetListOfPrimitives()[1]</div>
<div class="line"><span class="lineno"> 1326</span>       hist.SetStats(0)</div>
<div class="line"><span class="lineno"> 1327</span>       s = hist.GetName()[9:10]</div>
<div class="line"><span class="lineno"> 1328</span>       <span class="keywordflow">if</span> hist.GetTitle().find(<span class="stringliteral">&#39;layer 1&#39;</span>)&gt;0:</div>
<div class="line"><span class="lineno"> 1329</span>          hist.SetTitle(<span class="stringliteral">&#39;RPC hitmap station &#39;</span>+s+<span class="stringliteral">&#39;X readout; channel number N&#39;</span>)</div>
<div class="line"><span class="lineno"> 1330</span>       <span class="keywordflow">elif</span> hist.GetTitle().find(<span class="stringliteral">&#39;layer 0&#39;</span>)&gt;0:</div>
<div class="line"><span class="lineno"> 1331</span>          hist.SetTitle(<span class="stringliteral">&#39;RPC hitmap station &#39;</span>+s+<span class="stringliteral">&#39;Y readout; channel number N&#39;</span>)</div>
<div class="line"><span class="lineno"> 1332</span>          hist.GetXaxis().SetRangeUser(0,120)</div>
<div class="line"><span class="lineno"> 1333</span>       <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1334</span>          hist.SetTitle(<span class="stringliteral">&#39;Number of hits per station ; station number &#39;</span>)</div>
<div class="line"><span class="lineno"> 1335</span>       pad.Update()</div>
<div class="line"><span class="lineno"> 1336</span>    h[<span class="stringliteral">&#39;rpcPlot&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 1337</span>    h[<span class="stringliteral">&#39;rpcPlot&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1338</span>    myPrint(h[<span class="stringliteral">&#39;rpcPlot&#39;</span>],<span class="stringliteral">&#39;RPCHitMap&#39;</span>)</div>
<div class="line"><span class="lineno"> 1339</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ac0bd2c36657594eba05cfe43fa2bb4" name="a7ac0bd2c36657594eba05cfe43fa2bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ac0bd2c36657594eba05cfe43fa2bb4">&#9670;&#160;</a></span>plotRPCExtrap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotRPCExtrap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nEvent</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nTot</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PR</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>onlyPlotting</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04198">4198</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4198</span><span class="keyword">def </span>plotRPCExtrap(nEvent=-1,nTot=1000,PR=1,onlyPlotting=False):</div>
<div class="line"><span class="lineno"> 4199</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> onlyPlotting:</div>
<div class="line"><span class="lineno"> 4200</span>        eventRange = [0,sTree.GetEntries()]</div>
<div class="line"><span class="lineno"> 4201</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> nEvent&lt;0: eventRange = [nEvent,nEvent+nTot]</div>
<div class="line"><span class="lineno"> 4202</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,6):</div>
<div class="line"><span class="lineno"> 4203</span>            <span class="keywordflow">for</span> v <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 4204</span>                <span class="keywordflow">if</span> v==1: dx=20</div>
<div class="line"><span class="lineno"> 4205</span>                <span class="keywordflow">if</span> v==0: dx=20</div>
<div class="line"><span class="lineno"> 4206</span>                ut.bookHist(h,<span class="stringliteral">&#39;RPCResX_&#39;</span>+str(s)+str(v),<span class="stringliteral">&#39;RPC residual for &#39;</span>+str(s)+<span class="stringliteral">&#39; &#39;</span>+ str(v),100,-dx,dx,20,-140.,140.)</div>
<div class="line"><span class="lineno"> 4207</span>                ut.bookHist(h,<span class="stringliteral">&#39;RPCResY_&#39;</span>+str(s)+str(v),<span class="stringliteral">&#39;RPC residual for &#39;</span>+str(s)+<span class="stringliteral">&#39; &#39;</span>+ str(v),100,-dx,dx,20,-140.,140.)</div>
<div class="line"><span class="lineno"> 4208</span>                ut.bookHist(h,<span class="stringliteral">&#39;RPCextTrack_&#39;</span>+str(s)+str(v),<span class="stringliteral">&#39;mom of tracks extr to RPC k with RPC k+1 matched&#39;</span>,100,0.,100.,100,-140.,140.)</div>
<div class="line"><span class="lineno"> 4209</span>                ut.bookHist(h,<span class="stringliteral">&#39;RPCfired_&#39;</span>+str(s)+str(v),<span class="stringliteral">&#39;mom of tracks extr to RPC k and matched with RPC k+1 matched&#39;</span>,100,0.,100.)</div>
<div class="line"><span class="lineno"> 4210</span>            ut.bookHist(h,<span class="stringliteral">&#39;RPCfired_or_&#39;</span>+str(s),<span class="stringliteral">&#39;mom of tracks extr to RPC k and matched with RPC k+1 or of 0 and 1&#39;</span>,100,0.,100.)</div>
<div class="line"><span class="lineno"> 4211</span>            ut.bookHist(h,<span class="stringliteral">&#39;RPCResX&#39;</span>+str(s)+<span class="stringliteral">&#39;_p&#39;</span>,<span class="stringliteral">&#39;RPC residual for station &#39;</span>+str(s)+<span class="stringliteral">&#39; as function of track momentum&#39;</span>,100,-dx,dx,100,0.,100.)</div>
<div class="line"><span class="lineno"> 4212</span>        ut.bookHist(h,<span class="stringliteral">&#39;RPCMatchedHits&#39;</span>,<span class="stringliteral">&#39;matched RPC hits as function of track momentum&#39;</span>,10,0.5,10.5,20,-0.5,19.5,100,0.,100.)</div>
<div class="line"><span class="lineno"> 4213</span>        ut.bookHist(h,<span class="stringliteral">&#39;RPCMeanMatchedHits&#39;</span>,<span class="stringliteral">&#39;mean matched RPC hits as function of track momentum&#39;</span>,100,0.,100.)</div>
<div class="line"><span class="lineno"> 4214</span>        ut.bookHist(h,<span class="stringliteral">&#39;RPC&gt;1&#39;</span>,<span class="stringliteral">&#39;fraction of tracks with &gt; 1 RPC hits&#39;</span>,100,0.,100.)</div>
<div class="line"><span class="lineno"> 4215</span>        ut.bookHist(h,<span class="stringliteral">&#39;RPC&lt;2XY&#39;</span>,<span class="stringliteral">&#39;position of tracks with &lt; 2 RPC hits and p&gt;30GeV&#39;</span>,50,-100.,100.,50,-100.,100.)</div>
<div class="line"><span class="lineno"> 4216</span>        ut.bookHist(h,<span class="stringliteral">&#39;RPC_p&#39;</span>, <span class="stringliteral">&#39;momentum of tracks pointing to RPC&#39;</span>,100,0.,100.)</div>
<div class="line"><span class="lineno"> 4217</span>        <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(2,20):</div>
<div class="line"><span class="lineno"> 4218</span>            ut.bookHist(h, <span class="stringliteral">&#39;RPC&lt;&#39;</span>+str(k)+<span class="stringliteral">&#39;_p&#39;</span>, <span class="stringliteral">&#39;  &lt; &#39;</span>+str(k)+<span class="stringliteral">&#39; RPC hits p&#39;</span>,100,0.,100.)</div>
<div class="line"><span class="lineno"> 4219</span>        <span class="keywordflow">if</span> PR==1 <span class="keywordflow">or</span> PR==3:</div>
<div class="line"><span class="lineno"> 4220</span>            muflux_Reco.RPCextrap()</div>
<div class="line"><span class="lineno"> 4221</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 4222</span>        <span class="keywordflow">for</span> Nr <span class="keywordflow">in</span> range(eventRange[0],eventRange[1]):</div>
<div class="line"><span class="lineno"> 4223</span>            getEvent(Nr)</div>
<div class="line"><span class="lineno"> 4224</span>            <span class="keywordflow">if</span> Nr%10000==0:   <span class="keywordflow">print</span> <span class="stringliteral">&quot;now at event&quot;</span>,Nr,<span class="stringliteral">&#39; of &#39;</span>,sTree.GetEntries(),sTree.GetCurrentFile().GetName(),time.ctime()</div>
<div class="line"><span class="lineno"> 4225</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> sTree.Digi_MuonTaggerHits.GetEntries()&gt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4226</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> findSimpleEvent(sTree): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4227</span>            trackCandidates = findTracks(PR)</div>
<div class="line"><span class="lineno"> 4228</span>            first = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 4229</span>            <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> trackCandidates:</div>
<div class="line"><span class="lineno"> 4230</span>                matchedHits={1:{0:[],1:[]},2:{0:[],1:[]},3:{0:[],1:[]},4:{0:[],1:[]},5:{0:[],1:[]}}</div>
<div class="line"><span class="lineno"> 4231</span>                trackPos = {}</div>
<div class="line"><span class="lineno"> 4232</span>                st = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 4233</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> st.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4234</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> aTrack.getNumPointsWithMeasurement()&gt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4235</span>                sta = aTrack.getFittedState(0)</div>
<div class="line"><span class="lineno"> 4236</span>                <span class="keywordflow">if</span> sta.getMomMag() &lt; 1.: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4237</span>                nHit = -1</div>
<div class="line"><span class="lineno"> 4238</span>                rc,pos1,mom = extrapolateToPlane(aTrack,cuts[<span class="stringliteral">&#39;zRPC1&#39;</span>])</div>
<div class="line"><span class="lineno"> 4239</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4240</span>                inAcc=<span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 4241</span>                <span class="keywordflow">if</span> pos1[0]&gt;cuts[<span class="stringliteral">&#39;xLRPC1&#39;</span>] <span class="keywordflow">and</span> pos1[0]&lt;cuts[<span class="stringliteral">&#39;xRRPC1&#39;</span>] <span class="keywordflow">and</span> pos1[1]&gt;cuts[<span class="stringliteral">&#39;yBRPC1&#39;</span>] <span class="keywordflow">and</span> pos1[1]&lt;cuts[<span class="stringliteral">&#39;yTRPC1&#39;</span>]: </div>
<div class="line"><span class="lineno"> 4242</span>                    inAcc=<span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 4243</span>                <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MuonTaggerHits:</div>
<div class="line"><span class="lineno"> 4244</span>                    <span class="keywordflow">if</span> hit.GetDetectorID() <span class="keywordflow">in</span> deadChannelsRPC4MC: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4245</span>                    nHit+=1</div>
<div class="line"><span class="lineno"> 4246</span>                    channelID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 4247</span>                    s  = channelID/10000</div>
<div class="line"><span class="lineno"> 4248</span>                    v  = (channelID-10000*s)/1000</div>
<div class="line"><span class="lineno"> 4249</span>                    <span class="keywordflow">if</span> first:</div>
<div class="line"><span class="lineno"> 4250</span>                        layer = channelID/1000</div>
<div class="line"><span class="lineno"> 4251</span>                        rc = h[<span class="stringliteral">&#39;rpcHitmap&#39;</span>].Fill(layer)</div>
<div class="line"><span class="lineno"> 4252</span>                        channel = channelID%1000</div>
<div class="line"><span class="lineno"> 4253</span>                        rc = h[<span class="stringliteral">&#39;rpcHitmap&#39;</span>+str(layer)].Fill(channel)</div>
<div class="line"><span class="lineno"> 4254</span>                    vtop,vbot = RPCPositionsBotTop[channelID]</div>
<div class="line"><span class="lineno"> 4255</span>                    z = (vtop[2]+vbot[2])/2.</div>
<div class="line"><span class="lineno"> 4256</span>                    rc,pos,mom = extrapolateToPlane(aTrack,z)</div>
<div class="line"><span class="lineno"> 4257</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 4258</span>                        error =  <span class="stringliteral">&quot;RPCextrap: plotRPCExtrap failed&quot;</span></div>
<div class="line"><span class="lineno"> 4259</span>                        ut.reportError(error)</div>
<div class="line"><span class="lineno"> 4260</span>                        <span class="keywordflow">if</span> Debug: <span class="keywordflow">print</span> error</div>
<div class="line"><span class="lineno"> 4261</span>                        <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4262</span>                    <span class="comment"># closest distance from point to line</span></div>
<div class="line"><span class="lineno"> 4263</span>                    <span class="comment"># res = vbot[0]*pos[1] - vtop[0]*pos[1] - vbot[1]*pos[0]+ vtop[0]*vbot[1] + pos[0]*vtop[1]-vbot[0]*vtop[1]</span></div>
<div class="line"><span class="lineno"> 4264</span>                    <span class="comment"># res = -res/ROOT.TMath.Sqrt( (vtop[0]-vbot[0])**2+(vtop[1]-vbot[1])**2)</span></div>
<div class="line"><span class="lineno"> 4265</span>                    <span class="keywordflow">if</span> v==0:</div>
<div class="line"><span class="lineno"> 4266</span>                        Y = (vtop[1]+vbot[1])/2.</div>
<div class="line"><span class="lineno"> 4267</span>                        res = pos[1] - Y</div>
<div class="line"><span class="lineno"> 4268</span>                        h[<span class="stringliteral">&#39;RPCResY_&#39;</span>+str(s)+str(v)].Fill(res,Y)</div>
<div class="line"><span class="lineno"> 4269</span>                        trackPos[s*10+v]=pos[1]</div>
<div class="line"><span class="lineno"> 4270</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 4271</span>                        X = (vtop[0]+vbot[0])/2.</div>
<div class="line"><span class="lineno"> 4272</span>                        res = pos[0] - X</div>
<div class="line"><span class="lineno"> 4273</span>                        h[<span class="stringliteral">&#39;RPCResX_&#39;</span>+str(s)+str(v)].Fill(res,X)</div>
<div class="line"><span class="lineno"> 4274</span>                        h[<span class="stringliteral">&#39;RPCResX&#39;</span>+str(s)+<span class="stringliteral">&#39;_p&#39;</span>].Fill(res,sta.getMomMag())</div>
<div class="line"><span class="lineno"> 4275</span>                        trackPos[s*10+v]=pos[0]</div>
<div class="line"><span class="lineno"> 4276</span>                    <span class="keywordflow">if</span> abs(res)&lt;cuts[<span class="stringliteral">&quot;RPCmaxDistance&quot;</span>]:</div>
<div class="line"><span class="lineno"> 4277</span>                        matchedHits[s][v].append(nHit)</div>
<div class="line"><span class="lineno"> 4278</span>                <span class="comment"># record number of hits per station and view and track momentum</span></div>
<div class="line"><span class="lineno"> 4279</span>                <span class="comment"># but only for tracks in acceptance</span></div>
<div class="line"><span class="lineno"> 4280</span>                first = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 4281</span>                <span class="keywordflow">if</span> inAcc:</div>
<div class="line"><span class="lineno"> 4282</span>                    Nmatched = 0</div>
<div class="line"><span class="lineno"> 4283</span>                    p = min(99.9,sta.getMomMag())</div>
<div class="line"><span class="lineno"> 4284</span><span class="comment"># try the following:</span></div>
<div class="line"><span class="lineno"> 4285</span><span class="comment">#  require matched hit in station k+1</span></div>
<div class="line"><span class="lineno"> 4286</span><span class="comment">#  record how often hit matched in station k</span></div>
<div class="line"><span class="lineno"> 4287</span>                    <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 4288</span>                        <span class="keywordflow">if</span> len(matchedHits[k+1][0])==0 <span class="keywordflow">or</span> len(matchedHits[k+1][1])==0: <span class="keywordflow">continue</span> <span class="comment"># suppress noise TR 30Sept</span></div>
<div class="line"><span class="lineno"> 4289</span>                        rc = h[<span class="stringliteral">&#39;RPCextTrack_&#39;</span>+str(k)+str(v)].Fill(p,trackPos[(k+1)*10+v])</div>
<div class="line"><span class="lineno"> 4290</span>                        <span class="keywordflow">if</span> p&lt;8 <span class="keywordflow">and</span> abs(trackPos[(k+1)*10+v]) &lt;1: <span class="keywordflow">print</span> Nr</div>
<div class="line"><span class="lineno"> 4291</span>                        <span class="keywordflow">for</span> v <span class="keywordflow">in</span> range(0,2):</div>
<div class="line"><span class="lineno"> 4292</span>                            <span class="keywordflow">if</span> len(matchedHits[k][v])&gt;0: rc = h[<span class="stringliteral">&#39;RPCfired_&#39;</span>+str(k)+str(v)].Fill(p)</div>
<div class="line"><span class="lineno"> 4293</span>                            <span class="keywordflow">if</span> v==0:</div>
<div class="line"><span class="lineno"> 4294</span>                                <span class="keywordflow">if</span> len(matchedHits[k][v])&gt;0 <span class="keywordflow">or</span> len(matchedHits[k][v+1])&gt;0: rc = h[<span class="stringliteral">&#39;RPCfired_or_&#39;</span>+str(k)].Fill(p)</div>
<div class="line"><span class="lineno"> 4295</span>                    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> matchedHits:</div>
<div class="line"><span class="lineno"> 4296</span>                        <span class="keywordflow">for</span> v <span class="keywordflow">in</span> matchedHits[s]:</div>
<div class="line"><span class="lineno"> 4297</span>                            rc = h[<span class="stringliteral">&#39;RPCMatchedHits&#39;</span>].Fill(2*s-1+v,len(matchedHits[s][v]),p)</div>
<div class="line"><span class="lineno"> 4298</span>                            Nmatched+=len(matchedHits[s][v])</div>
<div class="line"><span class="lineno"> 4299</span>                    <span class="keywordflow">if</span> Nmatched &lt;2 <span class="keywordflow">and</span> p&gt;30: rc = h[<span class="stringliteral">&#39;RPC&lt;2XY&#39;</span>].Fill(pos1[0],pos1[1])</div>
<div class="line"><span class="lineno"> 4300</span>                    rc = h[<span class="stringliteral">&#39;RPC_p&#39;</span>].Fill(p)</div>
<div class="line"><span class="lineno"> 4301</span>                    <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(2,20):</div>
<div class="line"><span class="lineno"> 4302</span>                        <span class="keywordflow">if</span> Nmatched&lt;k: rc = h[<span class="stringliteral">&#39;RPC&lt;&#39;</span>+str(k)+<span class="stringliteral">&#39;_p&#39;</span>].Fill(p)</div>
<div class="line"><span class="lineno"> 4303</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;RPCResiduals&#39;</span>): </div>
<div class="line"><span class="lineno"> 4304</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;RPCResiduals&#39;</span>,title=<span class="stringliteral">&#39;RPCResiduals&#39;</span>,nx=1600,ny=1200,cx=2,cy=5)</div>
<div class="line"><span class="lineno"> 4305</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;RPCResidualsXY&#39;</span>,title=<span class="stringliteral">&#39;RPCResiduals function of Y/X&#39;</span>,nx=1600,ny=1200,cx=2,cy=5)</div>
<div class="line"><span class="lineno"> 4306</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;RPCResidualsP&#39;</span>,title=<span class="stringliteral">&#39;RPCResiduals function of muon momentum&#39;</span>,nx=900,ny=900,cx=1,cy=1)</div>
<div class="line"><span class="lineno"> 4307</span>    j=1</div>
<div class="line"><span class="lineno"> 4308</span>    T = ROOT.TLatex()</div>
<div class="line"><span class="lineno"> 4309</span>    T.SetTextSize(0.1)</div>
<div class="line"><span class="lineno"> 4310</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,6):</div>
<div class="line"><span class="lineno"> 4311</span>        <span class="keywordflow">for</span> v <span class="keywordflow">in</span> range(0,2):  <span class="comment"># 1 = x layer vertical strip, 0 = y layer horizontal strips</span></div>
<div class="line"><span class="lineno"> 4312</span>            <span class="keywordflow">if</span> v==1:     </div>
<div class="line"><span class="lineno"> 4313</span>                hname = <span class="stringliteral">&#39;RPCResX_&#39;</span>+str(s)+str(v)</div>
<div class="line"><span class="lineno"> 4314</span>                p=<span class="stringliteral">&#39;X&#39;</span></div>
<div class="line"><span class="lineno"> 4315</span>                jk = 2*j</div>
<div class="line"><span class="lineno"> 4316</span>            <span class="keywordflow">elif</span> v==0:   </div>
<div class="line"><span class="lineno"> 4317</span>                hname = <span class="stringliteral">&#39;RPCResY_&#39;</span>+str(s)+str(v)</div>
<div class="line"><span class="lineno"> 4318</span>                p=<span class="stringliteral">&#39;Y&#39;</span></div>
<div class="line"><span class="lineno"> 4319</span>                jk = 2*j-1</div>
<div class="line"><span class="lineno"> 4320</span>            hnameProjX = <span class="stringliteral">&#39;RPCRes_&#39;</span>+str(s)+str(v)</div>
<div class="line"><span class="lineno"> 4321</span>            <span class="keywordflow">if</span> h[hname].GetEntries()==0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4322</span>            h[hnameProjX] = h[hname].ProjectionX()</div>
<div class="line"><span class="lineno"> 4323</span>            h[hnameProjX].GetXaxis().SetTitle(<span class="stringliteral">&#39;#Delta [cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 4324</span>            myGauss.SetParameter(0,h[hnameProjX].GetMaximum())</div>
<div class="line"><span class="lineno"> 4325</span>            myGauss.SetParameter(1,0.)</div>
<div class="line"><span class="lineno"> 4326</span>            myGauss.SetParameter(2,4.)</div>
<div class="line"><span class="lineno"> 4327</span>            myGauss.SetParameter(3,1.)</div>
<div class="line"><span class="lineno"> 4328</span>            rc = h[<span class="stringliteral">&#39;RPCResiduals&#39;</span>].cd(jk)</div>
<div class="line"><span class="lineno"> 4329</span>            <span class="keywordflow">if</span> v==0: fitResult = h[hnameProjX].Fit(myGauss,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-40.,40.)</div>
<div class="line"><span class="lineno"> 4330</span>            <span class="keywordflow">else</span>:    fitResult = h[hnameProjX].Fit(myGauss,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-10.,10.)</div>
<div class="line"><span class="lineno"> 4331</span>            rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 4332</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4333</span>            myGauss2.SetParameter(0,rc.GetParams()[0])</div>
<div class="line"><span class="lineno"> 4334</span>            myGauss2.SetParameter(1,rc.GetParams()[1])</div>
<div class="line"><span class="lineno"> 4335</span>            myGauss2.SetParameter(2,abs(rc.GetParams()[2]))</div>
<div class="line"><span class="lineno"> 4336</span>            myGauss2.SetParameter(3,rc.GetParams()[3])</div>
<div class="line"><span class="lineno"> 4337</span>            myGauss2.SetParameter(4,0.)</div>
<div class="line"><span class="lineno"> 4338</span>            myGauss2.SetParameter(5,10.)</div>
<div class="line"><span class="lineno"> 4339</span>            <span class="keywordflow">if</span> v==0: fitResult = h[hnameProjX].Fit(myGauss2,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-40.,40.)</div>
<div class="line"><span class="lineno"> 4340</span>            <span class="keywordflow">else</span>:    fitResult = h[hnameProjX].Fit(myGauss2,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-10.,10.)</div>
<div class="line"><span class="lineno"> 4341</span>            rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 4342</span>            <span class="keywordflow">if</span> rc.GetParams()[3]&lt;0: myGauss2.SetParameter(3,abs(rc.GetParams()[3]))</div>
<div class="line"><span class="lineno"> 4343</span>            <span class="keywordflow">if</span> v==0: fitResult = h[hnameProjX].Fit(myGauss2,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-40.,40.)</div>
<div class="line"><span class="lineno"> 4344</span>            <span class="keywordflow">else</span>:    fitResult = h[hnameProjX].Fit(myGauss2,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-10.,10.)</div>
<div class="line"><span class="lineno"> 4345</span>            rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 4346</span>            mean = rc.GetParams()[1]</div>
<div class="line"><span class="lineno"> 4347</span>            rms1 = rc.GetParams()[2]</div>
<div class="line"><span class="lineno"> 4348</span>            rms2 = rc.GetParams()[5]</div>
<div class="line"><span class="lineno"> 4349</span>            N1 = rc.GetParams()[0]</div>
<div class="line"><span class="lineno"> 4350</span>            N2 = rc.GetParams()[4]</div>
<div class="line"><span class="lineno"> 4351</span>            avRMS = (rms1*N1+rms2*N2)/(N1+N2)</div>
<div class="line"><span class="lineno"> 4352</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;%i, %i, mean=%5.2F RMS=%5.2F&quot;</span>%(s,v,mean,avRMS)</div>
<div class="line"><span class="lineno"> 4353</span>            t = <span class="stringliteral">&quot;#sigma_{av}=%5.2Fcm&quot;</span>%(avRMS)</div>
<div class="line"><span class="lineno"> 4354</span>            rc = T.DrawLatexNDC(0.13,0.7,t)</div>
<div class="line"><span class="lineno"> 4355</span>            <span class="comment"># make plot of mean as function of X,Y</span></div>
<div class="line"><span class="lineno"> 4356</span>            rc = h[<span class="stringliteral">&#39;RPCResidualsXY&#39;</span>].cd(jk)   </div>
<div class="line"><span class="lineno"> 4357</span>            hname = <span class="stringliteral">&#39;RPCRes&#39;</span>+p+<span class="stringliteral">&#39;_&#39;</span>+str(s)+str(v)</div>
<div class="line"><span class="lineno"> 4358</span>            hmean = hname+<span class="stringliteral">&#39;_mean&#39;</span>+p</div>
<div class="line"><span class="lineno"> 4359</span>            h[hmean] = h[hname].ProjectionY(hname+<span class="stringliteral">&#39;_mean&#39;</span>)</div>
<div class="line"><span class="lineno"> 4360</span>            h[hmean].Reset()</div>
<div class="line"><span class="lineno"> 4361</span>            <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(1,h[hname].GetNbinsY()+1):</div>
<div class="line"><span class="lineno"> 4362</span>                sli = hname+<span class="stringliteral">&#39;_&#39;</span>+str(k) </div>
<div class="line"><span class="lineno"> 4363</span>                h[sli] = h[hname].ProjectionX(sli,k,k)</div>
<div class="line"><span class="lineno"> 4364</span>                <span class="keywordflow">if</span> h[sli].GetEntries()&lt;10: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4365</span>                myGauss.SetParameter(0,h[sli].GetMaximum())</div>
<div class="line"><span class="lineno"> 4366</span>                myGauss.SetParameter(1,0.)</div>
<div class="line"><span class="lineno"> 4367</span>                myGauss.SetParameter(2,4.)</div>
<div class="line"><span class="lineno"> 4368</span>                myGauss.SetParameter(3,1.)</div>
<div class="line"><span class="lineno"> 4369</span>                <span class="keywordflow">if</span> v==0: fitResult = h[sli].Fit(myGauss,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-40.,40.)</div>
<div class="line"><span class="lineno"> 4370</span>                <span class="keywordflow">else</span>:   fitResult = h[sli].Fit(myGauss,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-10.,10.)</div>
<div class="line"><span class="lineno"> 4371</span>                rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 4372</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4373</span>                params = rc.GetParams()</div>
<div class="line"><span class="lineno"> 4374</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> params: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4375</span>                mean = rc.GetParams()[1]</div>
<div class="line"><span class="lineno"> 4376</span>                rms  = abs(rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 4377</span>                rc = h[hmean].SetBinContent(k,mean)</div>
<div class="line"><span class="lineno"> 4378</span>                rc = h[hmean].SetBinError(k,rms)</div>
<div class="line"><span class="lineno"> 4379</span>            h[hmean].Draw()</div>
<div class="line"><span class="lineno"> 4380</span>        j+=1</div>
<div class="line"><span class="lineno"> 4381</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;RPCResiduals2dXY&#39;</span>): </div>
<div class="line"><span class="lineno"> 4382</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;RPCResiduals2dXY&#39;</span>,title=<span class="stringliteral">&#39;muon tagger Residuals function of X/Y&#39;</span>,nx=1600,ny=1200,cx=2,cy=5)</div>
<div class="line"><span class="lineno"> 4383</span>    j=1</div>
<div class="line"><span class="lineno"> 4384</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,6):</div>
<div class="line"><span class="lineno"> 4385</span>        <span class="keywordflow">for</span> v <span class="keywordflow">in</span> range(0,2):  <span class="comment"># 1 = x layer vertical strip, 0 = y layer horizontal strips</span></div>
<div class="line"><span class="lineno"> 4386</span>            <span class="keywordflow">if</span> v==0: </div>
<div class="line"><span class="lineno"> 4387</span>                p = <span class="stringliteral">&#39;Y&#39;</span></div>
<div class="line"><span class="lineno"> 4388</span>                jk = j*2-1</div>
<div class="line"><span class="lineno"> 4389</span>            <span class="keywordflow">if</span> v==1: </div>
<div class="line"><span class="lineno"> 4390</span>                p = <span class="stringliteral">&#39;X&#39;</span></div>
<div class="line"><span class="lineno"> 4391</span>                jk = j*2 </div>
<div class="line"><span class="lineno"> 4392</span>            rc = h[<span class="stringliteral">&#39;RPCResiduals2dXY&#39;</span>].cd(jk)  </div>
<div class="line"><span class="lineno"> 4393</span>            hname = <span class="stringliteral">&#39;RPCRes&#39;</span>+p+<span class="stringliteral">&#39;_&#39;</span>+str(s)+str(v)</div>
<div class="line"><span class="lineno"> 4394</span>            h[hname].Draw(<span class="stringliteral">&#39;box&#39;</span>)</div>
<div class="line"><span class="lineno"> 4395</span>        j+=1</div>
<div class="line"><span class="lineno"> 4396</span>    h[<span class="stringliteral">&#39;RPCResidualsP&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 4397</span>    h[<span class="stringliteral">&#39;RPCResX1_p&#39;</span>].Draw(<span class="stringliteral">&#39;colz&#39;</span>)</div>
<div class="line"><span class="lineno"> 4398</span><span class="comment">#         rc = h[&#39;RPCMatchedHits&#39;].Fill(2*s-1+v,len(matchedHits[s][v]),mom.Mag())</span></div>
<div class="line"><span class="lineno"> 4399</span>    zax = h[<span class="stringliteral">&#39;RPCMatchedHits&#39;</span>].GetZaxis() <span class="comment"># 100  momentum</span></div>
<div class="line"><span class="lineno"> 4400</span>    xax = h[<span class="stringliteral">&#39;RPCMatchedHits&#39;</span>].GetXaxis() <span class="comment"># 10  bins  station and view</span></div>
<div class="line"><span class="lineno"> 4401</span>    yax = h[<span class="stringliteral">&#39;RPCMatchedHits&#39;</span>].GetYaxis() <span class="comment"># 20  multiplicity</span></div>
<div class="line"><span class="lineno"> 4402</span>    <span class="keywordflow">for</span> ip <span class="keywordflow">in</span> range(1,zax.GetNbins()+1):</div>
<div class="line"><span class="lineno"> 4403</span>        Nmean = 0</div>
<div class="line"><span class="lineno"> 4404</span>        Nentries = 0</div>
<div class="line"><span class="lineno"> 4405</span>        Ntracks1 = 0</div>
<div class="line"><span class="lineno"> 4406</span>        <span class="keywordflow">for</span> ks <span class="keywordflow">in</span> range(1,xax.GetNbins()+1):</div>
<div class="line"><span class="lineno"> 4407</span>            Ntracks1=h[<span class="stringliteral">&#39;RPCMatchedHits&#39;</span>].GetBinContent(ks,1,ip)+h[<span class="stringliteral">&#39;RPCMatchedHits&#39;</span>].GetBinContent(ks,2,ip)</div>
<div class="line"><span class="lineno"> 4408</span>            <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,yax.GetNbins()+1):</div>
<div class="line"><span class="lineno"> 4409</span>                Nmean += h[<span class="stringliteral">&#39;RPCMatchedHits&#39;</span>].GetBinContent(ks,n,ip)*yax.GetBinCenter(n)</div>
<div class="line"><span class="lineno"> 4410</span>                Nentries+=h[<span class="stringliteral">&#39;RPCMatchedHits&#39;</span>].GetBinContent(ks,n,ip)</div>
<div class="line"><span class="lineno"> 4411</span>        Nmean = Nmean / float(Nentries+1E-10)</div>
<div class="line"><span class="lineno"> 4412</span>        rc = h[<span class="stringliteral">&#39;RPCMeanMatchedHits&#39;</span>].SetBinContent(ip,Nmean)</div>
<div class="line"><span class="lineno"> 4413</span>        fraction = (Nentries-Ntracks1)/(Nentries+1E-10)</div>
<div class="line"><span class="lineno"> 4414</span>        rc = h[<span class="stringliteral">&#39;RPC&gt;1&#39;</span>].SetBinContent(ip,fraction)</div>
<div class="line"><span class="lineno"> 4415</span>        <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(2,20):</div>
<div class="line"><span class="lineno"> 4416</span>            h[<span class="stringliteral">&#39;RPCeff_&#39;</span>+str(k)]=h[<span class="stringliteral">&#39;RPC&lt;&#39;</span>+str(k)+<span class="stringliteral">&#39;_p&#39;</span>].Clone(<span class="stringliteral">&#39;RPCeff_&#39;</span>+str(k))</div>
<div class="line"><span class="lineno"> 4417</span>            h[<span class="stringliteral">&#39;RPCeff_&#39;</span>+str(k)].Divide(h[<span class="stringliteral">&#39;RPC_p&#39;</span>])</div>
<div class="line"><span class="lineno"> 4418</span>    ut.bookCanvas(h,key=<span class="stringliteral">&#39;RPCEff&#39;</span>,title=<span class="stringliteral">&#39;RPC efficiencies&#39;</span>,nx=1600,ny=1200,cx=3,cy=4)</div>
<div class="line"><span class="lineno"> 4419</span>    const = ROOT.TF1(<span class="stringliteral">&#39;const&#39;</span>,<span class="stringliteral">&#39;pol0&#39;</span>,10,100)</div>
<div class="line"><span class="lineno"> 4420</span>    l=1</div>
<div class="line"><span class="lineno"> 4421</span>    T=ROOT.TLatex()</div>
<div class="line"><span class="lineno"> 4422</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 4423</span>        <span class="keywordflow">for</span> v <span class="keywordflow">in</span> range(3):</div>
<div class="line"><span class="lineno"> 4424</span>            <span class="keywordflow">if</span> v==2: </div>
<div class="line"><span class="lineno"> 4425</span>                hname = <span class="stringliteral">&#39;RPCfired_or_&#39;</span>+str(s)</div>
<div class="line"><span class="lineno"> 4426</span>                h[<span class="stringliteral">&#39;Eff&#39;</span>+hname]=ROOT.TEfficiency(h[hname],h[<span class="stringliteral">&#39;RPCextTrack_&#39;</span>+str(s)+str(0)+<span class="stringliteral">&#39;_projx&#39;</span>])</div>
<div class="line"><span class="lineno"> 4427</span>            <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 4428</span>                hname = <span class="stringliteral">&#39;RPCfired_&#39;</span>+str(s)+str(v)</div>
<div class="line"><span class="lineno"> 4429</span>                h[<span class="stringliteral">&#39;Eff&#39;</span>+hname]=ROOT.TEfficiency(h[hname],h[<span class="stringliteral">&#39;RPCextTrack_&#39;</span>+str(s)+str(v)+<span class="stringliteral">&#39;_projx&#39;</span>])</div>
<div class="line"><span class="lineno"> 4430</span>            pad = h[<span class="stringliteral">&#39;RPCEff&#39;</span>].cd(l)</div>
<div class="line"><span class="lineno"> 4431</span>            l+=1</div>
<div class="line"><span class="lineno"> 4432</span>            rc = h[<span class="stringliteral">&#39;Eff&#39;</span>+hname].Fit(const)</div>
<div class="line"><span class="lineno"> 4433</span>            h[<span class="stringliteral">&#39;Eff&#39;</span>+hname].Draw(<span class="stringliteral">&#39;AP&#39;</span>)</div>
<div class="line"><span class="lineno"> 4434</span>            pad.Update()</div>
<div class="line"><span class="lineno"> 4435</span>            graph = h[<span class="stringliteral">&#39;Eff&#39;</span>+hname].GetPaintedGraph()</div>
<div class="line"><span class="lineno"> 4436</span>            graph.SetMinimum(0.9)</div>
<div class="line"><span class="lineno"> 4437</span>            graph.SetMaximum(1.01)</div>
<div class="line"><span class="lineno"> 4438</span>            pad.Update()</div>
<div class="line"><span class="lineno"> 4439</span>            fun = h[<span class="stringliteral">&#39;Eff&#39;</span>+hname].GetListOfFunctions()[0]</div>
<div class="line"><span class="lineno"> 4440</span>            eff = fun.GetParameter(0)</div>
<div class="line"><span class="lineno"> 4441</span>            err = fun.GetParError(0)</div>
<div class="line"><span class="lineno"> 4442</span>            T.SetTextSize(0.1)</div>
<div class="line"><span class="lineno"> 4443</span>            rc = T.DrawLatexNDC(0.3,0.2,<span class="stringliteral">&#39;eff = (%5.2F\pm%5.2F)%s&#39;</span>%(eff*100,err*100,<span class="stringliteral">&#39;%&#39;</span>))</div>
<div class="line"><span class="lineno"> 4444</span>            txt = <span class="stringliteral">&quot;station &quot;</span>+str(s)+<span class="stringliteral">&quot; X&quot;</span></div>
<div class="line"><span class="lineno"> 4445</span>            <span class="keywordflow">if</span> v==0: txt = <span class="stringliteral">&quot;station &quot;</span>+str(s)+<span class="stringliteral">&quot; Y&quot;</span></div>
<div class="line"><span class="lineno"> 4446</span>            <span class="keywordflow">if</span> v==2: txt = <span class="stringliteral">&quot;station &quot;</span>+str(s)+<span class="stringliteral">&quot; X or Y&quot;</span></div>
<div class="line"><span class="lineno"> 4447</span>            T.SetTextSize(0.08)</div>
<div class="line"><span class="lineno"> 4448</span>            rc = T.DrawLatexNDC(0.2,0.8,txt)</div>
<div class="line"><span class="lineno"> 4449</span>    myPrint(h[<span class="stringliteral">&#39;RPCEff&#39;</span>],<span class="stringliteral">&quot;rpchiteff&quot;</span>)</div>
<div class="line"><span class="lineno"> 4450</span>    h[<span class="stringliteral">&#39;RPCResiduals&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 4451</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;RPCResiduals&#39;</span>].GetListOfPrimitives():  </div>
<div class="line"><span class="lineno"> 4452</span>        <span class="keywordflow">for</span> xx <span class="keywordflow">in</span> x.GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 4453</span>            <span class="keywordflow">if</span>  xx.ClassName()==<span class="stringliteral">&#39;TH1D&#39;</span>:</div>
<div class="line"><span class="lineno"> 4454</span>                stats = xx.GetListOfFunctions().FindObject(<span class="stringliteral">&quot;stats&quot;</span>)</div>
<div class="line"><span class="lineno"> 4455</span>                stats.SetOptStat(1000000001)</div>
<div class="line"><span class="lineno"> 4456</span>                stats.SetOptFit(10001)</div>
<div class="line"><span class="lineno"> 4457</span>                stats.SetX1NDC(0.70) </div>
<div class="line"><span class="lineno"> 4458</span>                stats.SetY1NDC(0.23) </div>
<div class="line"><span class="lineno"> 4459</span>                stats.SetX2NDC(0.97) </div>
<div class="line"><span class="lineno"> 4460</span>                stats.SetY2NDC(0.94) </div>
<div class="line"><span class="lineno"> 4461</span>    h[<span class="stringliteral">&#39;RPCResiduals&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 4462</span>    myPrint(h[<span class="stringliteral">&#39;RPCResiduals&#39;</span>],<span class="stringliteral">&#39;RPCResiduals&#39;</span>)</div>
<div class="line"><span class="lineno"> 4463</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;do not forget there were runs without one RPC station&quot;</span></div>
<div class="line"><span class="lineno"> 4464</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2898399bae1fa462781b9a9bc4c5139c" name="a2898399bae1fa462781b9a9bc4c5139c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2898399bae1fa462781b9a9bc4c5139c">&#9670;&#160;</a></span>plotRPCHitmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotRPCHitmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01301">1301</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1301</span><span class="keyword">def </span>plotRPCHitmap():</div>
<div class="line"><span class="lineno"> 1302</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;rpcPlot&#39;</span>): ut.bookCanvas(h,key=<span class="stringliteral">&#39;rpcPlot&#39;</span>,title=<span class="stringliteral">&#39;RPC Hitmaps&#39;</span>,nx=1200,ny=600,cx=4,cy=3)</div>
<div class="line"><span class="lineno"> 1303</span>    j=0</div>
<div class="line"><span class="lineno"> 1304</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,6):</div>
<div class="line"><span class="lineno"> 1305</span>        <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 1306</span>            j+=1</div>
<div class="line"><span class="lineno"> 1307</span>            rc = h[<span class="stringliteral">&#39;rpcPlot&#39;</span>].cd(j)</div>
<div class="line"><span class="lineno"> 1308</span>            h[<span class="stringliteral">&#39;rpcHitmap&#39;</span>+str(n)+str(l)].SetStats(0)</div>
<div class="line"><span class="lineno"> 1309</span>            <span class="keywordflow">if</span> l==0: </div>
<div class="line"><span class="lineno"> 1310</span>              h[<span class="stringliteral">&#39;rpcHitmap&#39;</span>+str(n)+str(l)].SetTitle(<span class="stringliteral">&#39;RPC hitmap station &#39;</span>+str(n)+<span class="stringliteral">&#39;Y readout; channel number N&#39;</span>)</div>
<div class="line"><span class="lineno"> 1311</span>              h[<span class="stringliteral">&#39;rpcHitmap&#39;</span>+str(n)+str(l)].GetXaxis().SetRangeUser(0,120)</div>
<div class="line"><span class="lineno"> 1312</span>            <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 1313</span>              h[<span class="stringliteral">&#39;rpcHitmap&#39;</span>+str(n)+str(l)].SetTitle(<span class="stringliteral">&#39;RPC hitmap station &#39;</span>+str(n)+<span class="stringliteral">&#39;X readout; channel number N&#39;</span>)</div>
<div class="line"><span class="lineno"> 1314</span>            h[<span class="stringliteral">&#39;rpcHitmap&#39;</span>+str(n)+str(l)].Draw()</div>
<div class="line"><span class="lineno"> 1315</span>    rc = h[<span class="stringliteral">&#39;rpcPlot&#39;</span>].cd(j)</div>
<div class="line"><span class="lineno"> 1316</span>    h[<span class="stringliteral">&#39;rpcHitmap&#39;</span>].SetTitle(<span class="stringliteral">&#39;Number of hits per station ; station number &#39;</span>)</div>
<div class="line"><span class="lineno"> 1317</span>    h[<span class="stringliteral">&#39;rpcHitmap&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1318</span>    myPrint(h[<span class="stringliteral">&#39;rpcPlot&#39;</span>],<span class="stringliteral">&#39;RPCHitMap&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aafe11f846359e97351342b12c97a8af8" name="aafe11f846359e97351342b12c97a8af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafe11f846359e97351342b12c97a8af8">&#9670;&#160;</a></span>plotRPCResidualsExample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotRPCResidualsExample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07292">7292</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7292</span><span class="keyword">def </span>plotRPCResidualsExample():</div>
<div class="line"><span class="lineno"> 7293</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;Residualsexample&#39;</span>,<span class="stringliteral">&#39; &#39;</span>,1200,600,1,1)</div>
<div class="line"><span class="lineno"> 7294</span>    t=<span class="stringliteral">&#39;RPCResiduals&#39;</span></div>
<div class="line"><span class="lineno"> 7295</span>    h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 7296</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> h[t].GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 7297</span>         hist = p.GetListOfPrimitives()[1]</div>
<div class="line"><span class="lineno"> 7298</span>         hist.Draw()</div>
<div class="line"><span class="lineno"> 7299</span>         p.GetListOfPrimitives()[2].Draw()</div>
<div class="line"><span class="lineno"> 7300</span>         myPrint(h[<span class="stringliteral">&#39;Residualsexample&#39;</span>],hist.GetName())</div>
<div class="line"><span class="lineno"> 7301</span>    t=<span class="stringliteral">&#39;RPCEff&#39;</span></div>
<div class="line"><span class="lineno"> 7302</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> h[t].GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 7303</span>         hist = p.GetListOfPrimitives()[1]</div>
<div class="line"><span class="lineno"> 7304</span>         hist.SetTitle(<span class="stringliteral">&#39;;track momentum [GeV/c]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7305</span>         hist.Draw()</div>
<div class="line"><span class="lineno"> 7306</span>         txt1 = p.GetListOfPrimitives()[2].Clone(<span class="stringliteral">&#39;1&#39;</span>)</div>
<div class="line"><span class="lineno"> 7307</span>         txt1.Draw()</div>
<div class="line"><span class="lineno"> 7308</span>         txt2 = p.GetListOfPrimitives()[3].Clone(<span class="stringliteral">&#39;2&#39;</span>)</div>
<div class="line"><span class="lineno"> 7309</span>         txt2.Draw()</div>
<div class="line"><span class="lineno"> 7310</span>         myPrint(h[<span class="stringliteral">&#39;Residualsexample&#39;</span>],hist.GetName())</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac82d631bfd5984c8e73094fbcbe0defb" name="ac82d631bfd5984c8e73094fbcbe0defb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac82d631bfd5984c8e73094fbcbe0defb">&#9670;&#160;</a></span>plotSigmaRes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotSigmaRes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03146">3146</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3146</span><span class="keyword">def </span>plotSigmaRes():</div>
<div class="line"><span class="lineno"> 3147</span>    ut.bookHist(h,<span class="stringliteral">&#39;resDistr&#39;</span>,<span class="stringliteral">&#39;residuals&#39;</span>,50,0.,0.1)</div>
<div class="line"><span class="lineno"> 3148</span>    <span class="keywordflow">for</span> tc <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;biasedResiduals&#39;</span>].GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 3149</span>        <span class="keywordflow">for</span> p <span class="keywordflow">in</span> tc.GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 3150</span>            <span class="keywordflow">if</span> p.InheritsFrom(<span class="stringliteral">&#39;TH1&#39;</span>):</div>
<div class="line"><span class="lineno"> 3151</span>                fitFun = p.GetFunction(<span class="stringliteral">&#39;gauss&#39;</span>)</div>
<div class="line"><span class="lineno"> 3152</span>                h[<span class="stringliteral">&#39;resDistr&#39;</span>].Fill(fitFun.GetParameter(2))</div>
<div class="line"><span class="lineno"> 3153</span>    ROOT.gROOT.FindObject(<span class="stringliteral">&#39;c1&#39;</span>).cd()</div>
<div class="line"><span class="lineno"> 3154</span>    h[<span class="stringliteral">&#39;resDistr&#39;</span>].Draw()</div>
</div><!-- fragment -->
</div>
</div>
<a id="a13d07c9388f919c0ced990dd8f12f12a" name="a13d07c9388f919c0ced990dd8f12f12a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13d07c9388f919c0ced990dd8f12f12a">&#9670;&#160;</a></span>plotTDCExample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotTDCExample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07078">7078</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7078</span><span class="keyword">def </span>plotTDCExample():</div>
<div class="line"><span class="lineno"> 7079</span>    h[<span class="stringliteral">&#39;f&#39;</span>]=ROOT.TFile.Open(os.environ[<span class="stringliteral">&#39;EOSSHIP&#39;</span>]+<span class="stringliteral">&#39;/eos/experiment/ship/user/odurhan/muflux-recodata/RUN_8000_2278/SPILLDATA_8000_0517453245_20180719_082409_RT.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 7080</span>    upkl    = Unpickler(h[<span class="stringliteral">&#39;f&#39;</span>])</div>
<div class="line"><span class="lineno"> 7081</span>    h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>] = upkl.load(<span class="stringliteral">&#39;tMinAndTmax&#39;</span>)</div>
<div class="line"><span class="lineno"> 7082</span>    ROOT.gROOT.cd()</div>
<div class="line"><span class="lineno"> 7083</span>    h[<span class="stringliteral">&#39;TDCMapsX&#39;</span>] = h[<span class="stringliteral">&#39;f&#39;</span>].histos.Get(<span class="stringliteral">&#39;TDCMapsX&#39;</span>).Clone(<span class="stringliteral">&#39;TDCMapsX&#39;</span>)</div>
<div class="line"><span class="lineno"> 7084</span>    h[<span class="stringliteral">&#39;TDCMapsX&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 7085</span>    h[<span class="stringliteral">&#39;TDCMapsX&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 7086</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;TDCMapsX&#39;</span>].GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 7087</span>     t = p.GetTitle()</div>
<div class="line"><span class="lineno"> 7088</span>     <span class="keywordflow">if</span> t.find(<span class="stringliteral">&quot;TDCMapsX&quot;</span>)&lt;0: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7089</span>     h[<span class="stringliteral">&#39;Pad&#39;</span>+t] = p.Clone(<span class="stringliteral">&#39;Pad&#39;</span>+t)</div>
<div class="line"><span class="lineno"> 7090</span>     <span class="keywordflow">if</span> len(h[<span class="stringliteral">&#39;Pad&#39;</span>+t].GetListOfPrimitives())&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7091</span>     n = h[<span class="stringliteral">&#39;Pad&#39;</span>+t].GetListOfPrimitives()[1].GetName()</div>
<div class="line"><span class="lineno"> 7092</span>     h[<span class="stringliteral">&#39;x&#39;</span>+n] = h[<span class="stringliteral">&#39;Pad&#39;</span>+t].GetListOfPrimitives()[1].Clone(<span class="stringliteral">&#39;x&#39;</span>+n)</div>
<div class="line"><span class="lineno"> 7093</span>     h[<span class="stringliteral">&#39;x&#39;</span>+n].SetTitle(<span class="stringliteral">&quot;Group &quot;</span>+str(n)+<span class="stringliteral">&#39;; TDC [ns]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7094</span>     <span class="comment"># h[&#39;x&#39;+n].SetTitleSize(0.1,&#39;x&#39;)</span></div>
<div class="line"><span class="lineno"> 7095</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;TDC1example&#39;</span>,<span class="stringliteral">&#39; &#39;</span>,1200,600,1,1)</div>
<div class="line"><span class="lineno"> 7096</span>    ut.bookCanvas(h,key=<span class="stringliteral">&#39;TDCMaps&#39;</span>,title=<span class="stringliteral">&#39;TDC Maps All Layers&#39;</span>,nx=3*1600,ny=3*1200,cx=5,cy=9)</div>
<div class="line"><span class="lineno"> 7097</span>    n = 1</div>
<div class="line"><span class="lineno"> 7098</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(50):</div>
<div class="line"><span class="lineno"> 7099</span>        <span class="keywordflow">if</span> x <span class="keywordflow">in</span> [16 ,17, 30, 31]: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7100</span>        h[<span class="stringliteral">&#39;TDCMaps&#39;</span>].cd(n)</div>
<div class="line"><span class="lineno"> 7101</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;xTDC&#39;</span>+str(x)): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7102</span>        z = <span class="stringliteral">&#39;xTDC&#39;</span>+str(x)</div>
<div class="line"><span class="lineno"> 7103</span>        h[z].Draw()</div>
<div class="line"><span class="lineno"> 7104</span>        tmin = h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>][<span class="stringliteral">&#39;TDC&#39;</span>+str(x)][0]</div>
<div class="line"><span class="lineno"> 7105</span>        tmax = h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>][<span class="stringliteral">&#39;TDC&#39;</span>+str(x)][1]</div>
<div class="line"><span class="lineno"> 7106</span>        h[z+<span class="stringliteral">&#39;tMin&#39;</span>] =  ROOT.TArrow(tmin,-5.,tmin,0.8,0.05,<span class="stringliteral">&quot;&gt;&quot;</span>)</div>
<div class="line"><span class="lineno"> 7107</span>        h[z+<span class="stringliteral">&#39;tMax&#39;</span>] =  ROOT.TArrow(tmax,-5.,tmax,0.8,0.05,<span class="stringliteral">&quot;&gt;&quot;</span>)</div>
<div class="line"><span class="lineno"> 7108</span>        h[z+<span class="stringliteral">&#39;tMin&#39;</span>].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 7109</span>        h[z+<span class="stringliteral">&#39;tMax&#39;</span>].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 7110</span>        h[z+<span class="stringliteral">&#39;tMin&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 7111</span>        h[z+<span class="stringliteral">&#39;tMax&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 7112</span>        h[<span class="stringliteral">&#39;TDC1example&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 7113</span>        h[z].Draw()</div>
<div class="line"><span class="lineno"> 7114</span>        h[z+<span class="stringliteral">&#39;tMin&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 7115</span>        h[z+<span class="stringliteral">&#39;tMax&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 7116</span>        myPrint(h[<span class="stringliteral">&#39;TDC1example&#39;</span>],<span class="stringliteral">&#39;xTDC&#39;</span>+str(x))</div>
<div class="line"><span class="lineno"> 7117</span>        n+=1</div>
<div class="line"><span class="lineno"> 7118</span>    h[<span class="stringliteral">&#39;TDCMaps&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 7119</span>    myPrint(h[<span class="stringliteral">&#39;TDCMaps&#39;</span>],<span class="stringliteral">&#39;TDCMaps&#39;</span>)</div>
<div class="line"><span class="lineno"> 7120</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 7121</span>    ut.bookCanvas(h,key=<span class="stringliteral">&#39;RTrelations&#39;</span>,title=<span class="stringliteral">&#39;RT relations&#39;</span>,nx=1600,ny=1200,cx=1,cy=1)</div>
<div class="line"><span class="lineno"> 7122</span>    h[<span class="stringliteral">&#39;RTrelations&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 7123</span>    x = h[<span class="stringliteral">&#39;TDC0&#39;</span>]</div>
<div class="line"><span class="lineno"> 7124</span>    h[<span class="stringliteral">&#39;emptyHist&#39;</span>] = ROOT.TH2F(<span class="stringliteral">&#39;empty&#39;</span>,<span class="stringliteral">&#39; ;[ns];[cm] &#39;</span>,100,x.GetBinCenter(1),x.GetBinCenter(x.GetNbinsX()),100,0.,2.)</div>
<div class="line"><span class="lineno"> 7125</span>    h[<span class="stringliteral">&#39;emptyHist&#39;</span>].SetStats(0)</div>
<div class="line"><span class="lineno"> 7126</span>    h[<span class="stringliteral">&#39;emptyHist&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 7127</span>    h[<span class="stringliteral">&#39;legRT&#39;</span>] = ROOT.TLegend(0.69,0.10,0.99,0.98)</div>
<div class="line"><span class="lineno"> 7128</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(48):</div>
<div class="line"><span class="lineno"> 7129</span>        <span class="keywordflow">if</span> x <span class="keywordflow">in</span> [16 ,17, 30, 31]: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7130</span>        g = <span class="stringliteral">&#39;rtTDC&#39;</span>+str(x)</div>
<div class="line"><span class="lineno"> 7131</span>        h[<span class="stringliteral">&#39;g&#39;</span>+g]=h[<span class="stringliteral">&#39;f&#39;</span>].RT.Get(g).Clone(<span class="stringliteral">&#39;g&#39;</span>+g)</div>
<div class="line"><span class="lineno"> 7132</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> g.find(<span class="stringliteral">&#39;TDC1&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;g&#39;</span>+g].SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 7133</span>        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> g.find(<span class="stringliteral">&#39;TDC2&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;g&#39;</span>+g].SetLineColor(ROOT.kCyan)</div>
<div class="line"><span class="lineno"> 7134</span>        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> g.find(<span class="stringliteral">&#39;TDC3&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;g&#39;</span>+g].SetLineColor(ROOT.kGreen)</div>
<div class="line"><span class="lineno"> 7135</span>        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> g.find(<span class="stringliteral">&#39;TDC4&#39;</span>)&lt;0: h[<span class="stringliteral">&#39;g&#39;</span>+g].SetLineColor(ROOT.kGreen+2)</div>
<div class="line"><span class="lineno"> 7136</span>        h[<span class="stringliteral">&#39;g&#39;</span>+g].Draw()</div>
<div class="line"><span class="lineno"> 7137</span>        h[<span class="stringliteral">&#39;legRT&#39;</span>].AddEntry(h[<span class="stringliteral">&#39;g&#39;</span>+g],h[<span class="stringliteral">&#39;g&#39;</span>+g].GetTitle(),<span class="stringliteral">&#39;PL&#39;</span>)</div>
<div class="line"><span class="lineno"> 7138</span>    h[<span class="stringliteral">&#39;legRT&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 7139</span>    myPrint(h[<span class="stringliteral">&#39;RTrelations&#39;</span>],<span class="stringliteral">&#39;RTRelations&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a691ac5471bc235448cd908ef6e3dd73b" name="a691ac5471bc235448cd908ef6e3dd73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a691ac5471bc235448cd908ef6e3dd73b">&#9670;&#160;</a></span>plotTimeOverThreshold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotTimeOverThreshold </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Debug</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01340">1340</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1340</span><span class="keyword">def </span>plotTimeOverThreshold(N,Debug=False):</div>
<div class="line"><span class="lineno"> 1341</span>    ut.bookHist(h,<span class="stringliteral">&#39;ToverT&#39;</span>,<span class="stringliteral">&#39;Time over threshold&#39;</span>,3000,-1000.,2000.)</div>
<div class="line"><span class="lineno"> 1342</span>    ut.bookHist(h,<span class="stringliteral">&#39;endTime&#39;</span>,<span class="stringliteral">&#39;End Time&#39;</span>,100,0.,2000.)</div>
<div class="line"><span class="lineno"> 1343</span>    ut.bookHist(h,<span class="stringliteral">&#39;tdc&#39;</span>,<span class="stringliteral">&#39;tdc&#39;</span>,100,-200.,2000.)</div>
<div class="line"><span class="lineno"> 1344</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(N):</div>
<div class="line"><span class="lineno"> 1345</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 1346</span>        flag = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1347</span>        <span class="keywordflow">for</span> aHit <span class="keywordflow">in</span> sTree.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno"> 1348</span>            detID=hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 1349</span>            <span class="keywordflow">if</span> detID&lt;0: <span class="keywordflow">continue</span> <span class="comment"># feature for converted data in February&#39;19</span></div>
<div class="line"><span class="lineno"> 1350</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> aHit.hasTimeOverThreshold():</div>
<div class="line"><span class="lineno"> 1351</span>                rc=h[<span class="stringliteral">&#39;ToverT&#39;</span>].Fill( -999. )</div>
<div class="line"><span class="lineno"> 1352</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1353</span>            rc=h[<span class="stringliteral">&#39;ToverT&#39;</span>].Fill( aHit.GetTimeOverThreshold() )</div>
<div class="line"><span class="lineno"> 1354</span>            rc=h[<span class="stringliteral">&#39;tdc&#39;</span>].Fill( aHit.GetDigi())</div>
<div class="line"><span class="lineno"> 1355</span>            rc=h[<span class="stringliteral">&#39;endTime&#39;</span>].Fill( aHit.GetDigi()+aHit.GetTimeOverThreshold() )</div>
<div class="line"><span class="lineno"> 1356</span>            <span class="keywordflow">if</span> aHit.GetTimeOverThreshold() &lt; 10: flag = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1357</span>        <span class="keywordflow">if</span> flag <span class="keywordflow">and</span> Debug:</div>
<div class="line"><span class="lineno"> 1358</span>            <span class="keywordflow">print</span> n</div>
<div class="line"><span class="lineno"> 1359</span>            spectrHitsSorted = ROOT.nestedList()</div>
<div class="line"><span class="lineno"> 1360</span>            muflux_Reco.sortHits(sTree.Digi_MufluxSpectrometerHits,spectrHitsSorted,<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1361</span>            <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 1362</span>                <span class="keywordflow">for</span> view <span class="keywordflow">in</span> viewsI[s]:</div>
<div class="line"><span class="lineno"> 1363</span>                    <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 1364</span>                        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> spectrHitsSorted[view][s][l]:</div>
<div class="line"><span class="lineno"> 1365</span>                            <span class="keywordflow">print</span> s,viewC[view],l,hit.GetDetectorID()%1000,hit.GetTimeOverThreshold()  </div>
<div class="line"><span class="lineno"> 1366</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="add4418a575f793410c25aca395476a33" name="add4418a575f793410c25aca395476a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add4418a575f793410c25aca395476a33">&#9670;&#160;</a></span>plotTracklets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotTracklets </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>track_hits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02239">2239</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2239</span><span class="keyword">def </span>plotTracklets(track_hits):</div>
<div class="line"><span class="lineno"> 2240</span>    <span class="keywordflow">for</span> nTrack <span class="keywordflow">in</span> track_hits:</div>
<div class="line"><span class="lineno"> 2241</span>        upStream = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2242</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [track_hits[nTrack][<span class="stringliteral">&#39;y12&#39;</span>],track_hits[nTrack][<span class="stringliteral">&#39;34&#39;</span>]]:</div>
<div class="line"><span class="lineno"> 2243</span>            clus = {1:[],2:[]}</div>
<div class="line"><span class="lineno"> 2244</span>            <span class="keywordflow">for</span> hits <span class="keywordflow">in</span> x:</div>
<div class="line"><span class="lineno"> 2245</span>                detID = hits[<span class="stringliteral">&#39;detID&#39;</span>]/10000000</div>
<div class="line"><span class="lineno"> 2246</span>                <span class="keywordflow">if</span> detID&gt;2: detID-=2</div>
<div class="line"><span class="lineno"> 2247</span>                clus[detID].append([0,(hits[<span class="stringliteral">&#39;xtop&#39;</span>]+hits[<span class="stringliteral">&#39;xbot&#39;</span>])/2.,hits[<span class="stringliteral">&#39;z&#39;</span>]])</div>
<div class="line"><span class="lineno"> 2248</span>            slopeA,bA = getSlopes(clus[1],clus[2])</div>
<div class="line"><span class="lineno"> 2249</span>            x1 = zgoliath*slopeA+bA</div>
<div class="line"><span class="lineno"> 2250</span>            nt = len(h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>])</div>
<div class="line"><span class="lineno"> 2251</span>            h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>].append( ROOT.TGraph(2) )</div>
<div class="line"><span class="lineno"> 2252</span>            <span class="keywordflow">if</span> upStream:</div>
<div class="line"><span class="lineno"> 2253</span>                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetPoint(0,0.,bA)</div>
<div class="line"><span class="lineno"> 2254</span>                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetPoint(1,400.,slopeA*400+bA)</div>
<div class="line"><span class="lineno"> 2255</span>                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 2256</span>                upStream=<span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2257</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2258</span>                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetPoint(0,300.,slopeA*300+bA)</div>
<div class="line"><span class="lineno"> 2259</span>                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetPoint(1,900.,slopeA*900+bA)</div>
<div class="line"><span class="lineno"> 2260</span>                h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetLineColor(ROOT.kBlue)</div>
<div class="line"><span class="lineno"> 2261</span>            h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].SetLineWidth(2)</div>
<div class="line"><span class="lineno"> 2262</span>            h[<span class="stringliteral">&#39;simpleDisplay&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 2263</span>            h[<span class="stringliteral">&#39;dispTrackSeg&#39;</span>][nt].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 2264</span>    h[<span class="stringliteral">&#39;simpleDisplay&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 2265</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a63561987aa967584d316174386276462" name="a63561987aa967584d316174386276462"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63561987aa967584d316174386276462">&#9670;&#160;</a></span>plotWithRPCTrackEffExample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.plotWithRPCTrackEffExample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07282">7282</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7282</span><span class="keyword">def </span>plotWithRPCTrackEffExample():</div>
<div class="line"><span class="lineno"> 7283</span>    DTeffWithRPCTracks(Nevents=0,onlyPlotting=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 7284</span>    t = <span class="stringliteral">&#39;tagstation&#39;</span>+str(1)</div>
<div class="line"><span class="lineno"> 7285</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;Residualsexample&#39;</span>,<span class="stringliteral">&#39; &#39;</span>,1200,600,1,1)</div>
<div class="line"><span class="lineno"> 7286</span>    h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 7287</span>    <span class="keywordflow">for</span> p <span class="keywordflow">in</span> h[t].GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 7288</span>       hist = p.GetListOfPrimitives()[1]</div>
<div class="line"><span class="lineno"> 7289</span>       hist.GetXaxis().SetTitle(<span class="stringliteral">&#39;[cm]&#39;</span>)</div>
<div class="line"><span class="lineno"> 7290</span>       hist.Draw(<span class="stringliteral">&#39;hist&#39;</span>)</div>
<div class="line"><span class="lineno"> 7291</span>       myPrint(h[<span class="stringliteral">&#39;Residualsexample&#39;</span>],hist.GetName())</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab38f9b6bba5b5d6e68241904d5e4bec2" name="ab38f9b6bba5b5d6e68241904d5e4bec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab38f9b6bba5b5d6e68241904d5e4bec2">&#9670;&#160;</a></span>printClustersPerStation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.printClustersPerStation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02266">2266</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2266</span><span class="keyword">def </span>printClustersPerStation(clusters,s,view):</div>
<div class="line"><span class="lineno"> 2267</span>    k=0</div>
<div class="line"><span class="lineno"> 2268</span>    <span class="keywordflow">if</span> MCdata:</div>
<div class="line"><span class="lineno"> 2269</span>        keysToDThits=MakeKeysToDThits(cuts[<span class="stringliteral">&#39;lateArrivalsToT&#39;</span>])</div>
<div class="line"><span class="lineno"> 2270</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> clusters[s][view]:</div>
<div class="line"><span class="lineno"> 2271</span>        <span class="keywordflow">print</span> <span class="stringliteral">&#39;--------&#39;</span></div>
<div class="line"><span class="lineno"> 2272</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> n:</div>
<div class="line"><span class="lineno"> 2273</span>            s,v,p,l,view,channelID,tdcId,nRT = stationInfo(x[0])</div>
<div class="line"><span class="lineno"> 2274</span>            <span class="keywordflow">if</span> MCdata:</div>
<div class="line"><span class="lineno"> 2275</span>                detID = x[0].GetDetectorID()</div>
<div class="line"><span class="lineno"> 2276</span>                MCTrackID = sTree.MufluxSpectrometerPoint[keysToDThits[detID][0]].GetTrackID()</div>
<div class="line"><span class="lineno"> 2277</span>                <span class="keywordflow">print</span>    k,<span class="stringliteral">&#39;:&#39;</span>,s,view,2*p+l,x[2],x[3],<span class="stringliteral">&#39;:&#39;</span>,MCTrackID</div>
<div class="line"><span class="lineno"> 2278</span>            <span class="keywordflow">else</span>: <span class="keywordflow">print</span> k,<span class="stringliteral">&#39;:&#39;</span>,s,view,2*p+l,x[2],x[3]</div>
<div class="line"><span class="lineno"> 2279</span>        k+=1</div>
</div><!-- fragment -->
</div>
</div>
<a id="a10daaf17f98e91a404440f9e29b179c5" name="a10daaf17f98e91a404440f9e29b179c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10daaf17f98e91a404440f9e29b179c5">&#9670;&#160;</a></span>printResiduals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.printResiduals </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aTrack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02837">2837</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2837</span><span class="keyword">def </span>printResiduals(aTrack):</div>
<div class="line"><span class="lineno"> 2838</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> aTrack.getNumPointsWithMeasurement()&gt;0: <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 2839</span>    sta = aTrack.getFittedState(0)</div>
<div class="line"><span class="lineno"> 2840</span>    txt = {}</div>
<div class="line"><span class="lineno"> 2841</span>    tmpList={}</div>
<div class="line"><span class="lineno"> 2842</span>    k=0</div>
<div class="line"><span class="lineno"> 2843</span>    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno"> 2844</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.hasTimeOverThreshold(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2845</span>        <span class="keywordflow">if</span> hit.GetDetectorID() <span class="keywordflow">in</span> noisyChannels:  <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2846</span>        s,v,p,l,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 2847</span>        vbot,vtop = strawPositionsBotTop[hit.GetDetectorID()]</div>
<div class="line"><span class="lineno"> 2848</span>        z = (vbot[2]+vtop[2])/2.</div>
<div class="line"><span class="lineno"> 2849</span>        rc,pos,mom = extrapolateToPlane(aTrack,z)</div>
<div class="line"><span class="lineno"> 2850</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 2851</span>            error =  <span class="stringliteral">&quot;printResiduals: plotBiasedResiduals extrap failed&quot;</span></div>
<div class="line"><span class="lineno"> 2852</span>            ut.reportError(error)</div>
<div class="line"><span class="lineno"> 2853</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2854</span>        distance = 0</div>
<div class="line"><span class="lineno"> 2855</span>        <span class="keywordflow">if</span> RTrelations.has_key(rname) <span class="keywordflow">or</span> MCdata:</div>
<div class="line"><span class="lineno"> 2856</span>            distance = RT(hit,hit.GetDigi())</div>
<div class="line"><span class="lineno"> 2857</span>        tmp = (vbot[0] - vtop[0])*pos[1] - (vbot[1] - vtop[1])*pos[0] + vtop[0]*vbot[1] - vbot[0]*vtop[1]</div>
<div class="line"><span class="lineno"> 2858</span>        tmp = -tmp/ROOT.TMath.Sqrt( (vtop[0]-vbot[0])**2+(vtop[1]-vbot[1])**2)  <span class="comment"># to have same sign as difference in X</span></div>
<div class="line"><span class="lineno"> 2859</span>        xL = tmp -distance</div>
<div class="line"><span class="lineno"> 2860</span>        xR = tmp +distance</div>
<div class="line"><span class="lineno"> 2861</span>        <span class="keywordflow">if</span> abs(xL)&lt;abs(xR):res = xL</div>
<div class="line"><span class="lineno"> 2862</span>        <span class="keywordflow">else</span>: res = xR</div>
<div class="line"><span class="lineno"> 2863</span>        tmpList[k]=pos[2]</div>
<div class="line"><span class="lineno"> 2864</span>        txt[k]=<span class="stringliteral">&quot;%i %s %i %5.3F %5.3F %5.3F %5.3F &quot;</span>%( s,view,2*p+l,pos[0],pos[1],pos[2],res)</div>
<div class="line"><span class="lineno"> 2865</span>        k+=1</div>
<div class="line"><span class="lineno"> 2866</span>    sorted_z = sorted(tmpList.items(), key=operator.itemgetter(1))</div>
<div class="line"><span class="lineno"> 2867</span>    <span class="keywordflow">for</span> k <span class="keywordflow">in</span> sorted_z:</div>
<div class="line"><span class="lineno"> 2868</span>        <span class="keywordflow">print</span> txt[k[0]]</div>
<div class="line"><span class="lineno"> 2869</span> </div>
<div class="line"><span class="lineno"> 2870</span><span class="comment"># make TDC plots for hits matched to tracks)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6bb8690890114281d3ec431ddf1f4a08" name="a6bb8690890114281d3ec431ddf1f4a08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb8690890114281d3ec431ddf1f4a08">&#9670;&#160;</a></span>printScalers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.printScalers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01261">1261</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1261</span><span class="keyword">def </span>printScalers():</div>
<div class="line"><span class="lineno"> 1262</span>    ut.bookHist(h,<span class="stringliteral">&#39;integratedrate&#39;</span>,<span class="stringliteral">&#39;rate integrated&#39;</span>,100,-0.5,99.5)</div>
<div class="line"><span class="lineno"> 1263</span>    ut.bookHist(h,<span class="stringliteral">&#39;rate&#39;</span>,<span class="stringliteral">&#39;rate&#39;</span>,100,-0.5,99.5)</div>
<div class="line"><span class="lineno"> 1264</span>    ut.bookHist(h,<span class="stringliteral">&#39;scalers&#39;</span>,<span class="stringliteral">&#39;rate&#39;</span>,100,-0.5,99.5)</div>
<div class="line"><span class="lineno"> 1265</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;rates&#39;</span>): ut.bookCanvas(h,key=<span class="stringliteral">&#39;rates&#39;</span>,title=<span class="stringliteral">&#39;Rates&#39;</span>,nx=800,ny=400,cx=2,cy=1)</div>
<div class="line"><span class="lineno"> 1266</span>    rc = h[<span class="stringliteral">&#39;rates&#39;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 1267</span>    scalers = sTree.GetCurrentFile().Get(<span class="stringliteral">&#39;scalers&#39;</span>)</div>
<div class="line"><span class="lineno"> 1268</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> scalers:</div>
<div class="line"><span class="lineno"> 1269</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;no scalers in this file&quot;</span></div>
<div class="line"><span class="lineno"> 1270</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1271</span>    scalers.GetEntry(0)</div>
<div class="line"><span class="lineno"> 1272</span>    ns = 0</div>
<div class="line"><span class="lineno"> 1273</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> scalers.GetListOfBranches():</div>
<div class="line"><span class="lineno"> 1274</span>        name = x.GetName()</div>
<div class="line"><span class="lineno"> 1275</span>        s = eval(<span class="stringliteral">&#39;scalers.&#39;</span>+name)</div>
<div class="line"><span class="lineno"> 1276</span>        <span class="keywordflow">if</span> name!=<span class="stringliteral">&#39;slices&#39;</span>: </div>
<div class="line"><span class="lineno"> 1277</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;%20s :%8i&quot;</span>%(name,s)</div>
<div class="line"><span class="lineno"> 1278</span>            rc=h[<span class="stringliteral">&#39;scalers&#39;</span>].Fill(ns,s)</div>
<div class="line"><span class="lineno"> 1279</span>            ns+=1</div>
<div class="line"><span class="lineno"> 1280</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1281</span>            r0 = 0</div>
<div class="line"><span class="lineno"> 1282</span>            <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(s.size()):</div>
<div class="line"><span class="lineno"> 1283</span>                r0 = s[n] - r0</div>
<div class="line"><span class="lineno"> 1284</span>                <span class="keywordflow">if</span> r0&lt;0: r0 = s[n]</div>
<div class="line"><span class="lineno"> 1285</span>                rc=h[<span class="stringliteral">&#39;rate&#39;</span>].Fill(n,r0)</div>
<div class="line"><span class="lineno"> 1286</span>                rc=h[<span class="stringliteral">&#39;integratedrate&#39;</span>].Fill(n,s[n])</div>
<div class="line"><span class="lineno"> 1287</span>                r0 = s[n]</div>
<div class="line"><span class="lineno"> 1288</span>    h[<span class="stringliteral">&#39;rate&#39;</span>].Draw(<span class="stringliteral">&#39;hist&#39;</span>)</div>
<div class="line"><span class="lineno"> 1289</span>    rc = h[<span class="stringliteral">&#39;rates&#39;</span>].cd(2)</div>
<div class="line"><span class="lineno"> 1290</span>    h[<span class="stringliteral">&#39;integratedrate&#39;</span>].Draw(<span class="stringliteral">&#39;hist&#39;</span>)</div>
<div class="line"><span class="lineno"> 1291</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a035195a77a289c5bf29727e1727da63d" name="a035195a77a289c5bf29727e1727da63d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a035195a77a289c5bf29727e1727da63d">&#9670;&#160;</a></span>printSources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.printSources </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l06861">6861</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6861</span><span class="keyword">def </span>printSources():</div>
<div class="line"><span class="lineno"> 6862</span>    charmNorm  = {1:0.176,10:0.424}</div>
<div class="line"><span class="lineno"> 6863</span>    beautyNorm = {1:0.,   10:0.01218}</div>
<div class="line"><span class="lineno"> 6864</span>    sources = {<span class="stringliteral">&quot;&quot;</span>:1.,<span class="stringliteral">&quot;Hadronic inelastic&quot;</span>:100.,<span class="stringliteral">&quot;Lepton pair&quot;</span>:100.,<span class="stringliteral">&quot;Positron annihilation&quot;</span>:100.,<span class="stringliteral">&quot;charm&quot;</span>:1./charmNorm[10],<span class="stringliteral">&quot;beauty&quot;</span>:1./beautyNorm[10],<span class="stringliteral">&quot;Di-muon P8&quot;</span>:100.}</div>
<div class="line"><span class="lineno"> 6865</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;     source           P&gt;5GeV/c          P&gt;20GeV/c&quot;</span></div>
<div class="line"><span class="lineno"> 6866</span>    <span class="keywordflow">for</span> xx <span class="keywordflow">in</span> sources:</div>
<div class="line"><span class="lineno"> 6867</span>        i=<span class="stringliteral">&#39;MC&#39;</span></div>
<div class="line"><span class="lineno"> 6868</span>        d=<span class="stringliteral">&#39;I-&#39;</span></div>
<div class="line"><span class="lineno"> 6869</span>        hname = d+i+<span class="stringliteral">&#39;p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span></div>
<div class="line"><span class="lineno"> 6870</span>        hname10 = d+i+<span class="stringliteral">&#39;10p/pt&#39;</span>+xx+<span class="stringliteral">&#39;_x&#39;</span></div>
<div class="line"><span class="lineno"> 6871</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(hname):<span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 6872</span>        ratio = h[hname].GetBinContent(1)/h[d+i+<span class="stringliteral">&#39;p/pt_x&#39;</span>].GetBinContent(1)*100</div>
<div class="line"><span class="lineno"> 6873</span>        ratio10 = h[hname10].GetBinContent(21)/h[d+i+<span class="stringliteral">&#39;10p/pt_x&#39;</span>].GetBinContent(21)*100</div>
<div class="line"><span class="lineno"> 6874</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot; %25s %4.2F%%    %4.2F%% &quot;</span>%(xx,ratio,ratio10)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a564e496e4746e771cce5669a0b27222b" name="a564e496e4746e771cce5669a0b27222b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a564e496e4746e771cce5669a0b27222b">&#9670;&#160;</a></span>printTrackMeasurements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.printTrackMeasurements </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>atrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PR</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03816">3816</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3816</span><span class="keyword">def </span>printTrackMeasurements(atrack,PR=1):</div>
<div class="line"><span class="lineno"> 3817</span>    mult = {<span class="stringliteral">&#39;_x&#39;</span>:0,<span class="stringliteral">&#39;_u&#39;</span>:0,<span class="stringliteral">&#39;_v&#39;</span>:0}</div>
<div class="line"><span class="lineno"> 3818</span>    rej  = {<span class="stringliteral">&#39;_x&#39;</span>:0,<span class="stringliteral">&#39;_u&#39;</span>:0,<span class="stringliteral">&#39;_v&#39;</span>:0}</div>
<div class="line"><span class="lineno"> 3819</span>    <span class="keywordflow">if</span> PR==1 <span class="keywordflow">and</span> sTree.GetBranch(<span class="stringliteral">&quot;TrackInfos&quot;</span>):</div>
<div class="line"><span class="lineno"> 3820</span>        trInfo = sTree.TrackInfos[atrack]</div>
<div class="line"><span class="lineno"> 3821</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(trInfo.N()):</div>
<div class="line"><span class="lineno"> 3822</span>            detID = trInfo.detId(n)</div>
<div class="line"><span class="lineno"> 3823</span>            hit = ROOT.MufluxSpectrometerHit(detID,0)</div>
<div class="line"><span class="lineno"> 3824</span>            s,v,p,l,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 3825</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;%3i %3i %3i %3i %3s %3i %3i %4.2F %4.2F &quot;</span>%(\</div>
<div class="line"><span class="lineno"> 3826</span>         s,v,p,l,view,channelID,tdcId,trInfo.wL(n),trInfo.wR(n))</div>
<div class="line"><span class="lineno"> 3827</span>            <span class="keywordflow">if</span> trInfo.wL(n)&lt;0.1 <span class="keywordflow">and</span> trInfo.wR(n) &lt; 0.1: rej[view]+=1</div>
<div class="line"><span class="lineno"> 3828</span>            <span class="keywordflow">else</span>:  mult[view]+=1</div>
<div class="line"><span class="lineno"> 3829</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 3830</span>        <span class="keywordflow">for</span> p <span class="keywordflow">in</span> atrack.getPointsWithMeasurement():</div>
<div class="line"><span class="lineno"> 3831</span>            rawM = p.getRawMeasurement()</div>
<div class="line"><span class="lineno"> 3832</span>            info = p.getFitterInfo()</div>
<div class="line"><span class="lineno"> 3833</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> info: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 3834</span>            detID = rawM.getDetId()</div>
<div class="line"><span class="lineno"> 3835</span>            hit = ROOT.MufluxSpectrometerHit(detID,0)</div>
<div class="line"><span class="lineno"> 3836</span>            s,v,p,l,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 3837</span>            coords = rawM.getRawHitCoords()</div>
<div class="line"><span class="lineno"> 3838</span>            <span class="keywordflow">print</span> <span class="stringliteral">&quot;%3i %3i %3i %3i %3s %3i %3i %4.2F %4.2F %5.2F %5.2F %5.2F &quot;</span>%(</div>
<div class="line"><span class="lineno"> 3839</span>            s,v,p,l,view,channelID,tdcId,info.getWeights()[0],info.getWeights()[1],coords[0],coords[1],coords[2])</div>
<div class="line"><span class="lineno"> 3840</span>            <span class="keywordflow">if</span> info.getWeights()[0]&lt;0.1 <span class="keywordflow">and</span> info.getWeights()[1] &lt; 0.1: rej[view]+=1</div>
<div class="line"><span class="lineno"> 3841</span>            <span class="keywordflow">else</span>:  mult[view]+=1</div>
<div class="line"><span class="lineno"> 3842</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;views     used&quot;</span>,mult</div>
<div class="line"><span class="lineno"> 3843</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;views rejected&quot;</span>,rej</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7c38bffd007965bf3c588ddc071ec1b" name="ac7c38bffd007965bf3c588ddc071ec1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7c38bffd007965bf3c588ddc071ec1b">&#9670;&#160;</a></span>pyExit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.pyExit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00068">68</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   68</span><span class="keyword">def </span>pyExit():</div>
<div class="line"><span class="lineno">   69</span>    ut.errorSummary()</div>
<div class="line"><span class="lineno">   70</span><span class="comment"># atexit.register(pyExit)</span></div>
<div class="line"><span class="lineno">   71</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a38996741f5f9baa8396b08fb1567254c" name="a38996741f5f9baa8396b08fb1567254c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38996741f5f9baa8396b08fb1567254c">&#9670;&#160;</a></span>recoMuonTaggerTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.recoMuonTaggerTracks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07589">7589</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7589</span><span class="keyword">def </span>recoMuonTaggerTracks():</div>
<div class="line"><span class="lineno"> 7590</span>    <span class="keyword">global</span> MCdata</div>
<div class="line"><span class="lineno"> 7591</span>    <span class="keyword">global</span> sTree</div>
<div class="line"><span class="lineno"> 7592</span>    <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&#39;MCTrack&#39;</span>): MCdata = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 7593</span>    fname = sTree.GetCurrentFile().GetName()</div>
<div class="line"><span class="lineno"> 7594</span>    <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&quot;RPCTrackX&quot;</span>):</div>
<div class="line"><span class="lineno"> 7595</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;remove RECO branch and rerun muonTagger reconstruction&quot;</span></div>
<div class="line"><span class="lineno"> 7596</span>        os.system(<span class="stringliteral">&#39;cp &#39;</span>+fname+<span class="stringliteral">&#39; &#39;</span>+fname.replace(<span class="stringliteral">&#39;.root&#39;</span>,<span class="stringliteral">&#39;orig.root&#39;</span>)) <span class="comment"># make backup</span></div>
<div class="line"><span class="lineno"> 7597</span>        <span class="keywordflow">for</span> br <span class="keywordflow">in</span> [<span class="stringliteral">&#39;RPCTrackX&#39;</span>,<span class="stringliteral">&#39;RPCTrackY&#39;</span>]:</div>
<div class="line"><span class="lineno"> 7598</span>            b = sTree.GetBranch(br)</div>
<div class="line"><span class="lineno"> 7599</span>            sTree.GetListOfBranches().Remove(b)</div>
<div class="line"><span class="lineno"> 7600</span>            l = sTree.GetLeaf(br)</div>
<div class="line"><span class="lineno"> 7601</span>            sTree.GetListOfLeaves().Remove(l)</div>
<div class="line"><span class="lineno"> 7602</span>            sTree.Write()</div>
<div class="line"><span class="lineno"> 7603</span>        fn = sTree.GetCurrentFile().GetName()</div>
<div class="line"><span class="lineno"> 7604</span>        f  = ROOT.TFile(fn,<span class="stringliteral">&#39;update&#39;</span>)</div>
<div class="line"><span class="lineno"> 7605</span>        sTree = f.cbmsim</div>
<div class="line"><span class="lineno"> 7606</span>    fRPCTrackArray = {<span class="stringliteral">&#39;X&#39;</span>:ROOT.TClonesArray(<span class="stringliteral">&quot;RPCTrack&quot;</span>),<span class="stringliteral">&#39;Y&#39;</span>:ROOT.TClonesArray(<span class="stringliteral">&quot;RPCTrack&quot;</span>)}</div>
<div class="line"><span class="lineno"> 7607</span>    RPCTrackbranch = {}</div>
<div class="line"><span class="lineno"> 7608</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> fRPCTrackArray: </div>
<div class="line"><span class="lineno"> 7609</span>        fRPCTrackArray[x].BypassStreamer(ROOT.kTRUE)</div>
<div class="line"><span class="lineno"> 7610</span>        RPCTrackbranch[x] = sTree.Branch(<span class="stringliteral">&quot;RPCTrack&quot;</span>+x, fRPCTrackArray[x],32000,-1)</div>
<div class="line"><span class="lineno"> 7611</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 7612</span>        <span class="keywordflow">if</span> n%10000==0: <span class="keywordflow">print</span> <span class="stringliteral">&quot;Now at event&quot;</span>,n,<span class="stringliteral">&quot;of&quot;</span>,sTree.GetEntries(),sTree.GetCurrentFile().GetName(),time.ctime()</div>
<div class="line"><span class="lineno"> 7613</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 7614</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]: fRPCTrackArray[x].Clear()</div>
<div class="line"><span class="lineno"> 7615</span>        <span class="keywordflow">if</span> MCdata: </div>
<div class="line"><span class="lineno"> 7616</span>            <span class="keywordflow">if</span> sTree.FitTracks.GetEntries()==0:</div>
<div class="line"><span class="lineno"> 7617</span>                <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]: RPCTrackbranch[x].Fill()</div>
<div class="line"><span class="lineno"> 7618</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 7619</span>        RPCclusters, RPCtracks = muonTaggerClustering(PR=11)</div>
<div class="line"><span class="lineno"> 7620</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 7621</span>            <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> RPCtracks[x]:</div>
<div class="line"><span class="lineno"> 7622</span>                nTrack   = fRPCTrackArray[x].GetEntries()</div>
<div class="line"><span class="lineno"> 7623</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 7624</span>                    fRPCTrackArray[x][nTrack] = ROOT.RPCTrack(aTrack[0],aTrack[1])</div>
<div class="line"><span class="lineno"> 7625</span>                <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno"> 7626</span>                    <span class="keywordflow">print</span> nTrack,x,aTrack</div>
<div class="line"><span class="lineno"> 7627</span>            RPCTrackbranch[x].Fill()</div>
<div class="line"><span class="lineno"> 7628</span>    sTree.Write()</div>
<div class="line"><span class="lineno"> 7629</span>    ftemp = sTree.GetCurrentFile()</div>
<div class="line"><span class="lineno"> 7630</span>    ftemp.Write(<span class="stringliteral">&quot;&quot;</span>,ROOT.TFile.kOverwrite)</div>
<div class="line"><span class="lineno"> 7631</span>    ftemp.Close()</div>
<div class="line"><span class="lineno"> 7632</span>    ftest = ROOT.TFile(fname)</div>
<div class="line"><span class="lineno"> 7633</span>    OK = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 7634</span>    <span class="keywordflow">if</span> ftest.GetKey(<span class="stringliteral">&#39;cbmsim&#39;</span>):</div>
<div class="line"><span class="lineno"> 7635</span>        sTree = ftest.cbmsim</div>
<div class="line"><span class="lineno"> 7636</span>        check = sTree.GetBranch(<span class="stringliteral">&#39;RPCTrackY&#39;</span>).GetZipBytes()</div>
<div class="line"><span class="lineno"> 7637</span>        check += sTree.GetBranch(<span class="stringliteral">&#39;RPCTrackY&#39;</span>).GetZipBytes()</div>
<div class="line"><span class="lineno"> 7638</span>        <span class="keywordflow">if</span> check/float(sTree.GetBranch(<span class="stringliteral">&#39;FitTracks&#39;</span>).GetZipBytes())&gt;0.003: OK = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 7639</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> OK:</div>
<div class="line"><span class="lineno"> 7640</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;muon track reco failed, reinstall original file&quot;</span></div>
<div class="line"><span class="lineno"> 7641</span>        os.system(<span class="stringliteral">&#39;mv &#39;</span>+fname.replace(<span class="stringliteral">&#39;.root&#39;</span>,<span class="stringliteral">&#39;orig.root&#39;</span>)+<span class="stringliteral">&#39; &#39;</span>+fname)</div>
<div class="line"><span class="lineno"> 7642</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 7643</span>        os.system(<span class="stringliteral">&#39;rm &#39;</span>+fname.replace(<span class="stringliteral">&#39;.root&#39;</span>,<span class="stringliteral">&#39;orig.root&#39;</span>))</div>
<div class="line"><span class="lineno"> 7644</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;finished adding muonTagger tracks&quot;</span>,options.listOfFiles</div>
<div class="line"><span class="lineno"> 7645</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;make suicid&quot;</span></div>
<div class="line"><span class="lineno"> 7646</span>    os.system(<span class="stringliteral">&#39;kill &#39;</span>+str(os.getpid()))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a404bd0e39285a9eddcab5f1468dd98d8" name="a404bd0e39285a9eddcab5f1468dd98d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a404bd0e39285a9eddcab5f1468dd98d8">&#9670;&#160;</a></span>recoStep0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.recoStep0 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07488">7488</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7488</span><span class="keyword">def </span>recoStep0():</div>
<div class="line"><span class="lineno"> 7489</span>    <span class="keyword">global</span> withTDC</div>
<div class="line"><span class="lineno"> 7490</span>    withTDC = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 7491</span>    disableBranches()</div>
<div class="line"><span class="lineno"> 7492</span>    withMaterial = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 7493</span>    materialEffects(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 7494</span>    plotBiasedResiduals(PR=1)</div>
<div class="line"><span class="lineno"> 7495</span>    makeRTrelations()</div>
<div class="line"><span class="lineno"> 7496</span>    RTrelations =  {<span class="stringliteral">&#39;tMinAndTmax&#39;</span>:h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]}</div>
<div class="line"><span class="lineno"> 7497</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>]: RTrelations[<span class="stringliteral">&#39;rt&#39;</span>+s] = h[<span class="stringliteral">&#39;rt&#39;</span>+s]</div>
<div class="line"><span class="lineno"> 7498</span>    makeRTrelPersistent(RTrelations)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaaff08f23a647184a695c06287d1556f" name="aaaff08f23a647184a695c06287d1556f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaff08f23a647184a695c06287d1556f">&#9670;&#160;</a></span>recoStep1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.recoStep1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PR</em> = <code>11</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07499">7499</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7499</span><span class="keyword">def </span>recoStep1(PR=11):</div>
<div class="line"><span class="lineno"> 7500</span><span class="comment"># make fitted tracks  </span></div>
<div class="line"><span class="lineno"> 7501</span>    <span class="comment">#disableBranches()</span></div>
<div class="line"><span class="lineno"> 7502</span>    <span class="keyword">global</span> MCdata</div>
<div class="line"><span class="lineno"> 7503</span>    fGenFitArray = ROOT.TClonesArray(<span class="stringliteral">&quot;genfit::Track&quot;</span>) </div>
<div class="line"><span class="lineno"> 7504</span>    fGenFitArray.BypassStreamer(ROOT.kTRUE)</div>
<div class="line"><span class="lineno"> 7505</span>    fitTracks   = sTree.Branch(<span class="stringliteral">&quot;FitTracks&quot;</span>, fGenFitArray,32000,-1)</div>
<div class="line"><span class="lineno"> 7506</span>    fTrackInfoArray = ROOT.TClonesArray(<span class="stringliteral">&quot;TrackInfo&quot;</span>)</div>
<div class="line"><span class="lineno"> 7507</span>    fTrackInfoArray.BypassStreamer(ROOT.kTRUE)</div>
<div class="line"><span class="lineno"> 7508</span>    TrackInfos      = sTree.Branch(<span class="stringliteral">&quot;TrackInfos&quot;</span>, fTrackInfoArray,32000,-1)</div>
<div class="line"><span class="lineno"> 7509</span>    fRPCTrackArray = {<span class="stringliteral">&#39;X&#39;</span>:ROOT.TClonesArray(<span class="stringliteral">&quot;RPCTrack&quot;</span>),<span class="stringliteral">&#39;Y&#39;</span>:ROOT.TClonesArray(<span class="stringliteral">&quot;RPCTrack&quot;</span>)}</div>
<div class="line"><span class="lineno"> 7510</span>    RPCTrackbranch = {}</div>
<div class="line"><span class="lineno"> 7511</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> fRPCTrackArray: </div>
<div class="line"><span class="lineno"> 7512</span>        fRPCTrackArray[x].BypassStreamer(ROOT.kTRUE)</div>
<div class="line"><span class="lineno"> 7513</span>        RPCTrackbranch[x] = sTree.Branch(<span class="stringliteral">&quot;RPCTrack&quot;</span>+x, fRPCTrackArray[x],32000,-1)</div>
<div class="line"><span class="lineno"> 7514</span>    <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&#39;MCTrack&#39;</span>): MCdata = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 7515</span> </div>
<div class="line"><span class="lineno"> 7516</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 7517</span>        <span class="keywordflow">if</span> n%10000==0: <span class="keywordflow">print</span> <span class="stringliteral">&quot;Now at event&quot;</span>,n,<span class="stringliteral">&quot;of&quot;</span>,sTree.GetEntries(),sTree.GetCurrentFile().GetName(),time.ctime()</div>
<div class="line"><span class="lineno"> 7518</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 7519</span>        fGenFitArray.Clear()</div>
<div class="line"><span class="lineno"> 7520</span>        fTrackInfoArray.Clear()</div>
<div class="line"><span class="lineno"> 7521</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]: fRPCTrackArray[x].Clear()</div>
<div class="line"><span class="lineno"> 7522</span>        theTracks = findTracks(PR)</div>
<div class="line"><span class="lineno"> 7523</span>        <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> theTracks:</div>
<div class="line"><span class="lineno"> 7524</span>            nTrack   = fGenFitArray.GetEntries()</div>
<div class="line"><span class="lineno"> 7525</span>            fTrackInfoArray[nTrack] = ROOT.TrackInfo(aTrack)</div>
<div class="line"><span class="lineno"> 7526</span>            aTrack.prune(<span class="stringliteral">&quot;CFL&quot;</span>) <span class="comment"># aTrack.prune(&quot;CURM&quot;)  # FL keep first and last point only, C deleteTrackRep, W deleteRawMeasurements, I U R M</span></div>
<div class="line"><span class="lineno"> 7527</span>            fGenFitArray[nTrack] = aTrack</div>
<div class="line"><span class="lineno"> 7528</span>        RPCclusters, RPCtracks = muonTaggerClustering(PR=11)</div>
<div class="line"><span class="lineno"> 7529</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 7530</span>            <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> RPCtracks[x]:</div>
<div class="line"><span class="lineno"> 7531</span>                nTrack   = fRPCTrackArray[x].GetEntries()</div>
<div class="line"><span class="lineno"> 7532</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 7533</span>                    fRPCTrackArray[x][nTrack] = ROOT.RPCTrack(aTrack[0],aTrack[1])</div>
<div class="line"><span class="lineno"> 7534</span>                <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno"> 7535</span>                    <span class="keywordflow">print</span> nTrack,x,aTrack</div>
<div class="line"><span class="lineno"> 7536</span>            RPCTrackbranch[x].Fill()</div>
<div class="line"><span class="lineno"> 7537</span>        fitTracks.Fill()</div>
<div class="line"><span class="lineno"> 7538</span>        TrackInfos.Fill()</div>
<div class="line"><span class="lineno"> 7539</span>        <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> theTracks: aTrack.Delete()</div>
<div class="line"><span class="lineno"> 7540</span>    sTree.Write()</div>
<div class="line"><span class="lineno"> 7541</span>    makeAlignmentConstantsPersistent()</div>
<div class="line"><span class="lineno"> 7542</span>    ftemp=sTree.GetCurrentFile()</div>
<div class="line"><span class="lineno"> 7543</span>    ftemp.Write(<span class="stringliteral">&quot;&quot;</span>,ROOT.TFile.kOverwrite)</div>
<div class="line"><span class="lineno"> 7544</span>    ftemp.Close()</div>
<div class="line"><span class="lineno"> 7545</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;finished adding fitted tracks&quot;</span>,options.listOfFiles</div>
<div class="line"><span class="lineno"> 7546</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;make suicid&quot;</span></div>
<div class="line"><span class="lineno"> 7547</span>    os.system(<span class="stringliteral">&#39;kill &#39;</span>+str(os.getpid()))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e4c822d3d3bdbb4e5128ce98bc42735" name="a6e4c822d3d3bdbb4e5128ce98bc42735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e4c822d3d3bdbb4e5128ce98bc42735">&#9670;&#160;</a></span>recoStep2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.recoStep2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07558">7558</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7558</span><span class="keyword">def </span>recoStep2():</div>
<div class="line"><span class="lineno"> 7559</span><span class="comment"># refit tracks with improved RT relation</span></div>
<div class="line"><span class="lineno"> 7560</span>    <span class="keyword">global</span> MCdata</div>
<div class="line"><span class="lineno"> 7561</span>    fGenFitArray = ROOT.TClonesArray(<span class="stringliteral">&quot;genfit::Track&quot;</span>) </div>
<div class="line"><span class="lineno"> 7562</span>    fGenFitArray.BypassStreamer(ROOT.kTRUE)</div>
<div class="line"><span class="lineno"> 7563</span>    fitTracks   = sTree.Branch(<span class="stringliteral">&quot;FitTracks_refitted&quot;</span>, fGenFitArray,32000,-1)</div>
<div class="line"><span class="lineno"> 7564</span>    fTrackInfoArray = ROOT.TClonesArray(<span class="stringliteral">&quot;TrackInfo&quot;</span>)</div>
<div class="line"><span class="lineno"> 7565</span>    fTrackInfoArray.BypassStreamer(ROOT.kTRUE)</div>
<div class="line"><span class="lineno"> 7566</span>    TrackInfos      = sTree.Branch(<span class="stringliteral">&quot;TrackInfos_refitted&quot;</span>, fTrackInfoArray,32000,-1)</div>
<div class="line"><span class="lineno"> 7567</span>    <span class="keywordflow">if</span> sTree.GetBranch(<span class="stringliteral">&#39;MCTrack&#39;</span>): MCdata = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 7568</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 7569</span>        <span class="keywordflow">if</span> n%10000==0: <span class="keywordflow">print</span> <span class="stringliteral">&quot;Now at event&quot;</span>,n,<span class="stringliteral">&quot;of&quot;</span>,sTree.GetEntries(),sTree.GetCurrentFile().GetName(),time.ctime()</div>
<div class="line"><span class="lineno"> 7570</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 7571</span>        fGenFitArray.Clear()</div>
<div class="line"><span class="lineno"> 7572</span>        fTrackInfoArray.Clear()</div>
<div class="line"><span class="lineno"> 7573</span>        theTracks = findTracks(PR = 13)</div>
<div class="line"><span class="lineno"> 7574</span>        <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> theTracks:</div>
<div class="line"><span class="lineno"> 7575</span>            nTrack   = fGenFitArray.GetEntries()</div>
<div class="line"><span class="lineno"> 7576</span>            fTrackInfoArray[nTrack] = ROOT.TrackInfo(aTrack)</div>
<div class="line"><span class="lineno"> 7577</span>            aTrack.prune(<span class="stringliteral">&quot;CFL&quot;</span>) <span class="comment"># aTrack.prune(&quot;CURM&quot;)  # FL keep first and last point only, C deleteTrackRep, W deleteRawMeasurements, I U R M</span></div>
<div class="line"><span class="lineno"> 7578</span>            fGenFitArray[nTrack] = aTrack</div>
<div class="line"><span class="lineno"> 7579</span>        fitTracks.Fill()</div>
<div class="line"><span class="lineno"> 7580</span>        TrackInfos.Fill()</div>
<div class="line"><span class="lineno"> 7581</span>        <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> theTracks: aTrack.Delete()</div>
<div class="line"><span class="lineno"> 7582</span>    sTree.Write()</div>
<div class="line"><span class="lineno"> 7583</span>    ftemp=sTree.GetCurrentFile()</div>
<div class="line"><span class="lineno"> 7584</span>    ftemp.Write(<span class="stringliteral">&quot;&quot;</span>,ROOT.TFile.kOverwrite)</div>
<div class="line"><span class="lineno"> 7585</span>    ftemp.Close()</div>
<div class="line"><span class="lineno"> 7586</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;finished adding fitted tracks&quot;</span>,options.listOfFiles</div>
<div class="line"><span class="lineno"> 7587</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;make suicid&quot;</span></div>
<div class="line"><span class="lineno"> 7588</span>    os.system(<span class="stringliteral">&#39;kill &#39;</span>+str(os.getpid()))</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2572b750eccf509040eaab1fff2d28f" name="ad2572b750eccf509040eaab1fff2d28f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2572b750eccf509040eaab1fff2d28f">&#9670;&#160;</a></span>residualLoop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.residualLoop </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nstart</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nend</em> = <code>50000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04706">4706</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4706</span><span class="keyword">def </span>residualLoop(nstart=0,nend=50000):</div>
<div class="line"><span class="lineno"> 4707</span>    <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno"> 4708</span>        <span class="keyword">global</span> exclude_layer</div>
<div class="line"><span class="lineno"> 4709</span>        exclude_layer = l</div>
<div class="line"><span class="lineno"> 4710</span>        plotBiasedResiduals(nstart,nend,2)</div>
<div class="line"><span class="lineno"> 4711</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> [<span class="stringliteral">&#39;1_x&#39;</span>,<span class="stringliteral">&#39;1_u&#39;</span>,<span class="stringliteral">&#39;2_x&#39;</span>,<span class="stringliteral">&#39;2_u&#39;</span>,<span class="stringliteral">&#39;3_x&#39;</span>,<span class="stringliteral">&#39;4_x&#39;</span>]:</div>
<div class="line"><span class="lineno"> 4712</span>            name = <span class="stringliteral">&#39;biasResX_&#39;</span>+s+str(2*p+l)</div>
<div class="line"><span class="lineno"> 4713</span>            h[<span class="stringliteral">&#39;un&#39;</span>+name] = h[name].Clone(<span class="stringliteral">&#39;un&#39;</span>+name)</div>
<div class="line"><span class="lineno"> 4714</span>            name = <span class="stringliteral">&#39;biasResY_&#39;</span>+s+str(2*p+l)</div>
<div class="line"><span class="lineno"> 4715</span>            h[<span class="stringliteral">&#39;un&#39;</span>+name] = h[name].Clone(<span class="stringliteral">&#39;un&#39;</span>+name)</div>
<div class="line"><span class="lineno"> 4716</span>    exclude_layer = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 4717</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> h.has_key(<span class="stringliteral">&#39;unbiasedResiduals&#39;</span>): </div>
<div class="line"><span class="lineno"> 4718</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;unbiasedResiduals&#39;</span>,title=<span class="stringliteral">&#39;unbiasedResiduals&#39;</span>,nx=1600,ny=1200,cx=4,cy=6)</div>
<div class="line"><span class="lineno"> 4719</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;unbiasedResidualsX&#39;</span>,title=<span class="stringliteral">&#39;unbiasedResiduals function of X&#39;</span>,nx=1600,ny=1200,cx=4,cy=6)</div>
<div class="line"><span class="lineno"> 4720</span>        ut.bookCanvas(h,key=<span class="stringliteral">&#39;unbiasedResidualsY&#39;</span>,title=<span class="stringliteral">&#39;unbiasedResiduals function of Y&#39;</span>,nx=1600,ny=1200,cx=4,cy=6)</div>
<div class="line"><span class="lineno"> 4721</span>    j=1</div>
<div class="line"><span class="lineno"> 4722</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,5):</div>
<div class="line"><span class="lineno"> 4723</span>        <span class="keywordflow">for</span> view <span class="keywordflow">in</span> [<span class="stringliteral">&#39;_x&#39;</span>,<span class="stringliteral">&#39;_u&#39;</span>,<span class="stringliteral">&#39;_v&#39;</span>]:</div>
<div class="line"><span class="lineno"> 4724</span>            <span class="keywordflow">if</span> s&gt;2 <span class="keywordflow">and</span> view != <span class="stringliteral">&#39;_x&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4725</span>            <span class="keywordflow">if</span> s==1 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_v&#39;</span> <span class="keywordflow">or</span> s==2 <span class="keywordflow">and</span> view == <span class="stringliteral">&#39;_u&#39;</span>: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4726</span>            <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(0,4):</div>
<div class="line"><span class="lineno"> 4727</span>                hname = <span class="stringliteral">&#39;biasResX_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 4728</span>                hnameProjX = <span class="stringliteral">&#39;biasRes_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 4729</span>                <span class="keywordflow">if</span> h[hname].GetEntries()&lt;10:</div>
<div class="line"><span class="lineno"> 4730</span>                    h[hnameProjX].Draw() </div>
<div class="line"><span class="lineno"> 4731</span>                    j+=1</div>
<div class="line"><span class="lineno"> 4732</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4733</span>                h[hnameProjX] = h[hname].ProjectionX()</div>
<div class="line"><span class="lineno"> 4734</span>                tc = h[<span class="stringliteral">&#39;unbiasedResiduals&#39;</span>].cd(j)</div>
<div class="line"><span class="lineno"> 4735</span>                fitResult = h[hnameProjX].Fit(<span class="stringliteral">&#39;gaus&#39;</span>,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.5,0.5)</div>
<div class="line"><span class="lineno"> 4736</span>                rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 4737</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 4738</span>        <span class="comment"># print &quot;simple gaus fit failed&quot;</span></div>
<div class="line"><span class="lineno"> 4739</span>                    myGauss.SetParameter(0,h[hnameProjX].GetEntries())</div>
<div class="line"><span class="lineno"> 4740</span>                    myGauss.SetParameter(1,0.)</div>
<div class="line"><span class="lineno"> 4741</span>                    myGauss.SetParameter(2,0.1)</div>
<div class="line"><span class="lineno"> 4742</span>                    myGauss.SetParameter(3,1.)</div>
<div class="line"><span class="lineno"> 4743</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 4744</span>                    myGauss.SetParameter(0,rc.GetParams()[0])</div>
<div class="line"><span class="lineno"> 4745</span>                    myGauss.SetParameter(1,rc.GetParams()[1])</div>
<div class="line"><span class="lineno"> 4746</span>                    myGauss.SetParameter(2,rc.GetParams()[2])</div>
<div class="line"><span class="lineno"> 4747</span>                    myGauss.SetParameter(3,0.)</div>
<div class="line"><span class="lineno"> 4748</span>                fitResult = h[hnameProjX].Fit(myGauss,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.2,0.2)</div>
<div class="line"><span class="lineno"> 4749</span>                fitResult = h[hnameProjX].Fit(myGauss,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.5,0.5)</div>
<div class="line"><span class="lineno"> 4750</span>                rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 4751</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> rc:</div>
<div class="line"><span class="lineno"> 4752</span>                    <span class="keywordflow">print</span> hnameProjX</div>
<div class="line"><span class="lineno"> 4753</span>                    h[hnameProjX].Draw()</div>
<div class="line"><span class="lineno"> 4754</span>                    j+=1</div>
<div class="line"><span class="lineno"> 4755</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4756</span>                tc.Update()</div>
<div class="line"><span class="lineno"> 4757</span>                stats = h[hnameProjX].FindObject(<span class="stringliteral">&quot;stats&quot;</span>)</div>
<div class="line"><span class="lineno"> 4758</span>                stats.SetX1NDC(0.563258)</div>
<div class="line"><span class="lineno"> 4759</span>                stats.SetY1NDC(0.526687)</div>
<div class="line"><span class="lineno"> 4760</span>                stats.SetX2NDC(0.938728)</div>
<div class="line"><span class="lineno"> 4761</span>                stats.SetY2NDC(0.940086)</div>
<div class="line"><span class="lineno"> 4762</span>                stats.SetOptFit(111)</div>
<div class="line"><span class="lineno"> 4763</span>                stats.SetOptStat(0)</div>
<div class="line"><span class="lineno"> 4764</span>                mean = rc.GetParams()[1]</div>
<div class="line"><span class="lineno"> 4765</span>                rms  = rc.GetParams()[2]</div>
<div class="line"><span class="lineno"> 4766</span>                Emean = rc.GetErrors()[1]</div>
<div class="line"><span class="lineno"> 4767</span>                Erms  = rc.GetErrors()[2]</div>
<div class="line"><span class="lineno"> 4768</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;%i, %s, %i mean=%5.2F+/-%5.2F RMS=%5.2F+/-%5.2F [mm]&quot;</span>%(s,view,l,mean*10,Emean*10,rms*10,Erms*10)</div>
<div class="line"><span class="lineno"> 4769</span>                residuals[j-1]= h[hnameProjX].GetMean()   <span class="comment"># fitresult too unstable, mean</span></div>
<div class="line"><span class="lineno"> 4770</span>                <span class="comment"># make plot of mean as function of X,Y</span></div>
<div class="line"><span class="lineno"> 4771</span>                <span class="keywordflow">for</span> p <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 4772</span>                    hname = <span class="stringliteral">&#39;biasRes&#39;</span>+p+<span class="stringliteral">&#39;_&#39;</span>+str(s)+view+str(l)</div>
<div class="line"><span class="lineno"> 4773</span>                    hmean = hname+<span class="stringliteral">&#39;_mean&#39;</span>+p</div>
<div class="line"><span class="lineno"> 4774</span>                    h[hmean] = h[hname].ProjectionY(hname+<span class="stringliteral">&#39;_mean&#39;</span>)</div>
<div class="line"><span class="lineno"> 4775</span>                    h[hmean].Reset()</div>
<div class="line"><span class="lineno"> 4776</span>                    rc = h[<span class="stringliteral">&#39;unbiasedResiduals&#39;</span>+p].cd(j)  </div>
<div class="line"><span class="lineno"> 4777</span>                    <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(1,h[hname].GetNbinsY()+1):</div>
<div class="line"><span class="lineno"> 4778</span>                        sli = hname+<span class="stringliteral">&#39;_&#39;</span>+str(k) </div>
<div class="line"><span class="lineno"> 4779</span>                        h[sli] = h[hname].ProjectionX(sli,k,k)</div>
<div class="line"><span class="lineno"> 4780</span>                        <span class="keywordflow">if</span> h[sli].GetEntries()&lt;10: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4781</span>                        myGauss.SetParameter(0,h[sli].GetMaximum())</div>
<div class="line"><span class="lineno"> 4782</span>                        myGauss.SetParameter(1,0.)</div>
<div class="line"><span class="lineno"> 4783</span>                        myGauss.SetParameter(2,0.1)</div>
<div class="line"><span class="lineno"> 4784</span>                        myGauss.SetParameter(3,1.)</div>
<div class="line"><span class="lineno"> 4785</span>                        fitResult = h[sli].Fit(myGauss,<span class="stringliteral">&#39;SQ&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-5.,5.)</div>
<div class="line"><span class="lineno"> 4786</span>                        rc = fitResult.Get()</div>
<div class="line"><span class="lineno"> 4787</span>                        mean,rms = 0,0</div>
<div class="line"><span class="lineno"> 4788</span>                        <span class="keywordflow">if</span> rc:</div>
<div class="line"><span class="lineno"> 4789</span>                            mean = rc.GetParams()[1]</div>
<div class="line"><span class="lineno"> 4790</span>                            rms  = rc.GetParams()[2]</div>
<div class="line"><span class="lineno"> 4791</span>                        rc = h[hmean].Fill( h[hmean].GetBinCenter(k), mean)</div>
<div class="line"><span class="lineno"> 4792</span>                    amin,amax,nmin,nmax = ut.findMaximumAndMinimum(h[hmean])</div>
<div class="line"><span class="lineno"> 4793</span>                    <span class="keywordflow">if</span> amax&lt;3. <span class="keywordflow">and</span> amin&gt;-3.:</div>
<div class="line"><span class="lineno"> 4794</span>                        h[hmean].SetMaximum(2.)</div>
<div class="line"><span class="lineno"> 4795</span>                        h[hmean].SetMinimum(-2.)</div>
<div class="line"><span class="lineno"> 4796</span>                    <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 4797</span>                        h[hmean].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 4798</span>                        h[hmean].SetMaximum(10.)</div>
<div class="line"><span class="lineno"> 4799</span>                        h[hmean].SetMinimum(-10.)</div>
<div class="line"><span class="lineno"> 4800</span>                    h[hmean].Draw()</div>
<div class="line"><span class="lineno"> 4801</span>                j+=1</div>
<div class="line"><span class="lineno"> 4802</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aad3fc48e891536d5843f84479e984e9d" name="aad3fc48e891536d5843f84479e984e9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3fc48e891536d5843f84479e984e9d">&#9670;&#160;</a></span>residualsExamples()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.residualsExamples </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07242">7242</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7242</span><span class="keyword">def </span>residualsExamples():</div>
<div class="line"><span class="lineno"> 7243</span> h[<span class="stringliteral">&#39;example&#39;</span>] = h[<span class="stringliteral">&#39;biasResDist_4_x2&#39;</span>].ProjectionY(<span class="stringliteral">&#39;example&#39;</span>,40,60)</div>
<div class="line"><span class="lineno"> 7244</span> h[<span class="stringliteral">&#39;example&#39;</span>].GetXaxis().SetRangeUser(-0.5,0.5)</div>
<div class="line"><span class="lineno"> 7245</span> fitFunction = h[<span class="stringliteral">&#39;biasResX_1_x1_px&#39;</span>].GetFunction(<span class="stringliteral">&#39;gauss&#39;</span>)</div>
<div class="line"><span class="lineno"> 7246</span> fitResult = h[<span class="stringliteral">&#39;example&#39;</span>].Fit(fitFunction,<span class="stringliteral">&#39;S&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.2,0.2)</div>
<div class="line"><span class="lineno"> 7247</span> fitFunction.ReleaseParameter(3)</div>
<div class="line"><span class="lineno"> 7248</span> fitResult = h[<span class="stringliteral">&#39;example&#39;</span>].Fit(fitFunction,<span class="stringliteral">&#39;S&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.2,0.2)</div>
<div class="line"><span class="lineno"> 7249</span> stats = h[<span class="stringliteral">&#39;Residualsexample&#39;</span>].GetPrimitive(<span class="stringliteral">&#39;stats&#39;</span>)</div>
<div class="line"><span class="lineno"> 7250</span> stats.SetOptFit(10111)</div>
<div class="line"><span class="lineno"> 7251</span> stats.SetFitFormat(<span class="stringliteral">&#39;5.4g&#39;</span>)</div>
<div class="line"><span class="lineno"> 7252</span> stats.SetX1NDC(0.6)</div>
<div class="line"><span class="lineno"> 7253</span> stats.SetY1NDC(0.5)</div>
<div class="line"><span class="lineno"> 7254</span> stats.SetX2NDC(0.98)</div>
<div class="line"><span class="lineno"> 7255</span> stats.SetY2NDC(0.94)</div>
<div class="line"><span class="lineno"> 7256</span> </div>
<div class="line"><span class="lineno"> 7257</span> h[<span class="stringliteral">&#39;example2&#39;</span>] = h[<span class="stringliteral">&#39;biasResDistLR_4_x2&#39;</span>].ProjectionY(<span class="stringliteral">&#39;example&#39;</span>,40,60)</div>
<div class="line"><span class="lineno"> 7258</span> fitResult = h[<span class="stringliteral">&#39;example&#39;</span>].Fit(fitFunction,<span class="stringliteral">&#39;S&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,-0.2,0.2)</div>
<div class="line"><span class="lineno"> 7259</span> </div>
<div class="line"><span class="lineno"> 7260</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a24aa1969c53f2fc0fc65f5ed2e459344" name="a24aa1969c53f2fc0fc65f5ed2e459344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24aa1969c53f2fc0fc65f5ed2e459344">&#9670;&#160;</a></span>RPCPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.RPCPosition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04532">4532</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4532</span><span class="keyword">def </span>RPCPosition():</div>
<div class="line"><span class="lineno"> 4533</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,6):</div>
<div class="line"><span class="lineno"> 4534</span>        <span class="keywordflow">for</span> v <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 4535</span>            <span class="keywordflow">for</span> c <span class="keywordflow">in</span> range(1,185):</div>
<div class="line"><span class="lineno"> 4536</span>                <span class="keywordflow">if</span> v==0 <span class="keywordflow">and</span> c&gt;116: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4537</span>                detID = s*10000+v*1000+c</div>
<div class="line"><span class="lineno"> 4538</span>                hit = ROOT.MuonTaggerHit(detID,0)</div>
<div class="line"><span class="lineno"> 4539</span>                a,b = correctAlignmentRPC(hit,v)</div>
<div class="line"><span class="lineno"> 4540</span>                RPCPositionsBotTop[detID] = [a.Clone(),b.Clone()]</div>
<div class="line"><span class="lineno"> 4541</span>                x = (a[0]+b[0])/2.</div>
<div class="line"><span class="lineno"> 4542</span>                y = (a[1]+b[1])/2.</div>
<div class="line"><span class="lineno"> 4543</span>                z = (a[2]+b[2])/2.</div>
<div class="line"><span class="lineno"> 4544</span>                muflux_Reco.setRPCPositions(detID,x,y,z)</div>
<div class="line"><span class="lineno"> 4545</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a659e95c12ed3f192a0ba1121bb363df0" name="a659e95c12ed3f192a0ba1121bb363df0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659e95c12ed3f192a0ba1121bb363df0">&#9670;&#160;</a></span>RPCResolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.RPCResolution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04169">4169</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4169</span><span class="keyword">def </span>RPCResolution():</div>
<div class="line"><span class="lineno"> 4170</span>    vtop = ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 4171</span>    vbot = ROOT.TVector3()</div>
<div class="line"><span class="lineno"> 4172</span>    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(1,6):</div>
<div class="line"><span class="lineno"> 4173</span>        <span class="keywordflow">for</span> v <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 4174</span>            ut.bookHist(h,<span class="stringliteral">&#39;RPC&#39;</span>+str(s)+str(v),<span class="stringliteral">&#39;hit resolution&#39;</span>,100,-10.,10.)</div>
<div class="line"><span class="lineno"> 4175</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 4176</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 4177</span><span class="comment"># check for MCTrack</span></div>
<div class="line"><span class="lineno"> 4178</span>        track={}</div>
<div class="line"><span class="lineno"> 4179</span>        <span class="keywordflow">for</span> m <span class="keywordflow">in</span> sTree.MuonTaggerPoint:</div>
<div class="line"><span class="lineno"> 4180</span>            t = m.GetTrackID()</div>
<div class="line"><span class="lineno"> 4181</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> track.has_key(t): track[t]=[]</div>
<div class="line"><span class="lineno"> 4182</span>            track[t].append([m.GetDetectorID(),m.GetX(),m.GetY()])</div>
<div class="line"><span class="lineno"> 4183</span>        <span class="keywordflow">if</span> len(track)!=1: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 4184</span>        <span class="keywordflow">for</span> t <span class="keywordflow">in</span> track:</div>
<div class="line"><span class="lineno"> 4185</span>            <span class="keywordflow">for</span> d <span class="keywordflow">in</span> track[t]:</div>
<div class="line"><span class="lineno"> 4186</span>                plane = d[0]/10000</div>
<div class="line"><span class="lineno"> 4187</span>                truex,truey =  d[1],d[2]</div>
<div class="line"><span class="lineno"> 4188</span>                <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MuonTaggerHits:</div>
<div class="line"><span class="lineno"> 4189</span>                    channelID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 4190</span>                    s  = channelID/10000</div>
<div class="line"><span class="lineno"> 4191</span>                    v  = (channelID-10000*s)/1000</div>
<div class="line"><span class="lineno"> 4192</span>                    vtop,vbot = RPCPositionsBotTop[channelID]</div>
<div class="line"><span class="lineno"> 4193</span>                    <span class="keywordflow">if</span> plane == s:</div>
<div class="line"><span class="lineno"> 4194</span>                        <span class="keywordflow">if</span> v==0:  delpos =  (vtop[1]+vbot[1])/2. - truey</div>
<div class="line"><span class="lineno"> 4195</span>                        <span class="keywordflow">if</span> v==1:  delpos =  (vtop[0]+vbot[0])/2. - truex</div>
<div class="line"><span class="lineno"> 4196</span>                        h[<span class="stringliteral">&#39;RPC&#39;</span>+str(s)+str(v)].Fill(delpos)</div>
<div class="line"><span class="lineno"> 4197</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0255479f1814a4c7fecdae69b9358bd4" name="a0255479f1814a4c7fecdae69b9358bd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0255479f1814a4c7fecdae69b9358bd4">&#9670;&#160;</a></span>RT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.RT </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01467">1467</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1467</span><span class="keyword">def </span>RT(hit,t):</div>
<div class="line"><span class="lineno"> 1468</span><span class="comment"># rt relation, drift time to distance</span></div>
<div class="line"><span class="lineno"> 1469</span>    R  = ShipGeo.MufluxSpectrometer.InnerTubeDiameter/2. <span class="comment">#  = 3.63*u.cm</span></div>
<div class="line"><span class="lineno"> 1470</span>    t0 = 0</div>
<div class="line"><span class="lineno"> 1471</span>    <span class="keywordflow">if</span> MCdata:</div>
<div class="line"><span class="lineno"> 1472</span>        t0 = t-sTree.ShipEventHeader.GetEventTime()</div>
<div class="line"><span class="lineno"> 1473</span>        r =  t0*ShipGeo.MufluxSpectrometer.v_drift</div>
<div class="line"><span class="lineno"> 1474</span>        <span class="keywordflow">if</span> MCsmearing: </div>
<div class="line"><span class="lineno"> 1475</span>            r+=rnr.Gaus(0,MCsmearing)</div>
<div class="line"><span class="lineno"> 1476</span>            r=abs(r)</div>
<div class="line"><span class="lineno"> 1477</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1478</span>        s,v,p,l,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 1479</span>        <span class="keywordflow">if</span> nRT <span class="keywordflow">in</span> [16,17]: nRT = 18</div>
<div class="line"><span class="lineno"> 1480</span>        <span class="keywordflow">if</span> nRT <span class="keywordflow">in</span> [30,31]: nRT = 32   <span class="comment"># not enough statistics for left and right of T3</span></div>
<div class="line"><span class="lineno"> 1481</span>        name = <span class="stringliteral">&#39;TDC&#39;</span>+str(nRT)</div>
<div class="line"><span class="lineno"> 1482</span>        <span class="keywordflow">if</span> t==0: t=0.1</div>
<div class="line"><span class="lineno"> 1483</span>        <span class="keywordflow">if</span> t &gt; h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>][name][1]:  r = R</div>
<div class="line"><span class="lineno"> 1484</span>        <span class="keywordflow">elif</span> t&lt; h[<span class="stringliteral">&#39;tMinAndTmax&#39;</span>][name][0]: r = 0</div>
<div class="line"><span class="lineno"> 1485</span>        <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 1486</span>            r = h[<span class="stringliteral">&#39;rt&#39;</span>+name].Eval(t)</div>
<div class="line"><span class="lineno"> 1487</span>        <span class="keywordflow">if</span> h.has_key(<span class="stringliteral">&#39;RTcorr&#39;</span>): r+=h[<span class="stringliteral">&#39;RTcorrFun_&#39;</span>+str(s)+view+str(2*p+l)].Eval(r)</div>
<div class="line"><span class="lineno"> 1488</span>    h[<span class="stringliteral">&#39;TDC2R&#39;</span>].Fill(t-t0,r)</div>
<div class="line"><span class="lineno"> 1489</span>    <span class="keywordflow">return</span> r</div>
<div class="line"><span class="lineno"> 1490</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5c1dd0362989fc812cc1eca6611c294d" name="a5c1dd0362989fc812cc1eca6611c294d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c1dd0362989fc812cc1eca6611c294d">&#9670;&#160;</a></span>singlePtSlices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.singlePtSlices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l06842">6842</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6842</span><span class="keyword">def </span>singlePtSlices():</div>
<div class="line"><span class="lineno"> 6843</span>   t=<span class="stringliteral">&#39;MC-Comparison Pt&#39;</span></div>
<div class="line"><span class="lineno"> 6844</span>   tx = h[<span class="stringliteral">&#39;dummy&#39;</span>].cd()</div>
<div class="line"><span class="lineno"> 6845</span>   tx.SetLogy(0)</div>
<div class="line"><span class="lineno"> 6846</span>   <span class="keywordflow">for</span> c <span class="keywordflow">in</span> h[t].GetListOfPrimitives(): </div>
<div class="line"><span class="lineno"> 6847</span>      histos = {}</div>
<div class="line"><span class="lineno"> 6848</span>      k = 2</div>
<div class="line"><span class="lineno"> 6849</span>      <span class="keywordflow">for</span> p <span class="keywordflow">in</span> c.GetListOfPrimitives():</div>
<div class="line"><span class="lineno"> 6850</span>         <span class="keywordflow">if</span> p.GetName().find(<span class="stringliteral">&#39;p/pt&#39;</span>)==0: histos[1]=p</div>
<div class="line"><span class="lineno"> 6851</span>         <span class="keywordflow">elif</span> p.GetName().find(<span class="stringliteral">&#39;MCp/pt&#39;</span>)==0: </div>
<div class="line"><span class="lineno"> 6852</span>             histos[k]=p</div>
<div class="line"><span class="lineno"> 6853</span>             k+=1</div>
<div class="line"><span class="lineno"> 6854</span>         <span class="keywordflow">elif</span> p.GetTitle().find(<span class="stringliteral">&#39;Legend&#39;</span>)==0:histos[0]=p</div>
<div class="line"><span class="lineno"> 6855</span>      histos[1].Draw()</div>
<div class="line"><span class="lineno"> 6856</span>      histos[1].Draw(<span class="stringliteral">&#39;histsame&#39;</span>)</div>
<div class="line"><span class="lineno"> 6857</span>      <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(k): histos[i].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 6858</span>      histos[0].Draw()</div>
<div class="line"><span class="lineno"> 6859</span>      myPrint(h[<span class="stringliteral">&#39;dummy&#39;</span>],c.GetName().replace(<span class="stringliteral">&#39; &#39;</span>,<span class="stringliteral">&#39;&#39;</span>))</div>
<div class="line"><span class="lineno"> 6860</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5e6a498a35e0b31155b98524058856a" name="ae5e6a498a35e0b31155b98524058856a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5e6a498a35e0b31155b98524058856a">&#9670;&#160;</a></span>splitOffBoostedEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.splitOffBoostedEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05511">5511</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5511</span><span class="keyword">def </span>splitOffBoostedEvents():</div>
<div class="line"><span class="lineno"> 5512</span>    curFile = sTree.GetCurrentFile().GetName()</div>
<div class="line"><span class="lineno"> 5513</span>    newFile1 = curFile.replace(<span class="stringliteral">&quot;.root&quot;</span>,<span class="stringliteral">&quot;_dimuon99.root&quot;</span>)</div>
<div class="line"><span class="lineno"> 5514</span>    newFile2 = curFile.replace(<span class="stringliteral">&quot;.root&quot;</span>,<span class="stringliteral">&quot;_dimuon1.root&quot;</span>)</div>
<div class="line"><span class="lineno"> 5515</span>    os.system(<span class="stringliteral">&#39;cp &#39;</span>+curFile+<span class="stringliteral">&#39; &#39;</span>+newFile1)</div>
<div class="line"><span class="lineno"> 5516</span>    os.system(<span class="stringliteral">&#39;cp &#39;</span>+curFile+<span class="stringliteral">&#39; &#39;</span>+newFile2)</div>
<div class="line"><span class="lineno"> 5517</span>    <span class="comment"># make new files without reco branches</span></div>
<div class="line"><span class="lineno"> 5518</span>    sTree.SetBranchStatus(<span class="stringliteral">&quot;FitTracks&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5519</span>    sTree.SetBranchStatus(<span class="stringliteral">&quot;RPCTrackX&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5520</span>    sTree.SetBranchStatus(<span class="stringliteral">&quot;RPCTrackY&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5521</span>    sTree.SetBranchStatus(<span class="stringliteral">&quot;TrackInfos&quot;</span>,0)</div>
<div class="line"><span class="lineno"> 5522</span>    newf1 = ROOT.TFile(newFile1,<span class="stringliteral">&quot;recreate&quot;</span>)</div>
<div class="line"><span class="lineno"> 5523</span>    newTree1 = sTree.CloneTree(0)</div>
<div class="line"><span class="lineno"> 5524</span>    newf2 = ROOT.TFile(newFile2,<span class="stringliteral">&quot;recreate&quot;</span>)</div>
<div class="line"><span class="lineno"> 5525</span>    newTree2 = sTree.CloneTree(0)</div>
<div class="line"><span class="lineno"> 5526</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 5527</span>        rc = sTree.GetEntry(n)</div>
<div class="line"><span class="lineno"> 5528</span>        <span class="keywordflow">if</span> checkForDiMuon() <span class="keywordflow">and</span> rnr.Uniform(0.,1.)&lt;0.99: rc = newTree1.Fill() <span class="comment"># dimuon99</span></div>
<div class="line"><span class="lineno"> 5529</span>        <span class="keywordflow">else</span>:                                            rc = newTree2.Fill() <span class="comment"># dimuon1</span></div>
<div class="line"><span class="lineno"> 5530</span>    sTree.Clear()</div>
<div class="line"><span class="lineno"> 5531</span>    newTree1.AutoSave()</div>
<div class="line"><span class="lineno"> 5532</span>    newf1.Close()</div>
<div class="line"><span class="lineno"> 5533</span>    newTree2.AutoSave()</div>
<div class="line"><span class="lineno"> 5534</span>    newf2.Close()</div>
<div class="line"><span class="lineno"> 5535</span>    newf1 = ROOT.TFile(newFile1)</div>
<div class="line"><span class="lineno"> 5536</span>    newf2 = ROOT.TFile(newFile2)</div>
<div class="line"><span class="lineno"> 5537</span>    n12 = newf1.cbmsim.GetEntries() + newf2.cbmsim.GetEntries()</div>
<div class="line"><span class="lineno"> 5538</span>    N = sTree.GetEntries()</div>
<div class="line"><span class="lineno"> 5539</span>    newf1.Close()</div>
<div class="line"><span class="lineno"> 5540</span>    newf2.Close()</div>
<div class="line"><span class="lineno"> 5541</span>    sTree.GetCurrentFile().Close()</div>
<div class="line"><span class="lineno"> 5542</span>    <span class="keywordflow">if</span> n12 == N: </div>
<div class="line"><span class="lineno"> 5543</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;check OK&quot;</span></div>
<div class="line"><span class="lineno"> 5544</span>        os.system(<span class="stringliteral">&#39;mv &#39;</span>+newFile2+<span class="stringliteral">&#39; &#39;</span>+curFile)</div>
<div class="line"><span class="lineno"> 5545</span>    <span class="keywordflow">else</span>: <span class="keywordflow">print</span> <span class="stringliteral">&quot;unitarity violated&quot;</span>,f,n1,n2,sTree.GetEntries()</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c086a469d1b23854f0e55e63b05d450" name="a8c086a469d1b23854f0e55e63b05d450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c086a469d1b23854f0e55e63b05d450">&#9670;&#160;</a></span>stationInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.stationInfo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00974">974</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  974</span><span class="keyword">def </span>stationInfo(hit):</div>
<div class="line"><span class="lineno">  975</span>    info = hit.StationInfo()</div>
<div class="line"><span class="lineno">  976</span>    <span class="keywordflow">return</span> info[0],info[1],info[2],info[3],viewDict[info[4]],info[5],info[6],info[7]/cuts[<span class="stringliteral">&#39;RTsegmentation&#39;</span>]</div>
<div class="line"><span class="lineno">  977</span>    <span class="comment">#      statnb,   vnb,    pnb,    lnb,     view,         channelID,tdcId,  nRT</span></div>
<div class="line"><span class="lineno">  978</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2ac4e6dc332b54904a2bbac1868b242" name="ab2ac4e6dc332b54904a2bbac1868b242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2ac4e6dc332b54904a2bbac1868b242">&#9670;&#160;</a></span>strawPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.strawPosition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04524">4524</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4524</span><span class="keyword">def </span>strawPosition():</div>
<div class="line"><span class="lineno"> 4525</span>    <span class="keywordflow">for</span> detID <span class="keywordflow">in</span> alignConstants[<span class="stringliteral">&#39;strawPositions&#39;</span>]:</div>
<div class="line"><span class="lineno"> 4526</span>        b = alignConstants[<span class="stringliteral">&#39;strawPositions&#39;</span>][detID][<span class="stringliteral">&#39;bot&#39;</span>]</div>
<div class="line"><span class="lineno"> 4527</span>        t = alignConstants[<span class="stringliteral">&#39;strawPositions&#39;</span>][detID][<span class="stringliteral">&#39;top&#39;</span>]</div>
<div class="line"><span class="lineno"> 4528</span>        strawPositionsBotTop[detID]=[ROOT.TVector3(b[0],b[1],b[2]),ROOT.TVector3(t[0],t[1],t[2])]</div>
<div class="line"><span class="lineno"> 4529</span>        muflux_Reco.setDTPositions(int(detID),t[0],t[1],t[2],b[0],b[1],b[2])</div>
<div class="line"><span class="lineno"> 4530</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adbec574f3bb1e509e0916eafd13df238" name="adbec574f3bb1e509e0916eafd13df238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbec574f3bb1e509e0916eafd13df238">&#9670;&#160;</a></span>studyDeltaRays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.studyDeltaRays </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>onlyPlots</em> = <code>False</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04989">4989</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4989</span><span class="keyword">def </span>studyDeltaRays(onlyPlots=False):</div>
<div class="line"><span class="lineno"> 4990</span>    <span class="keywordflow">if</span> onlyPlots:</div>
<div class="line"><span class="lineno"> 4991</span>        interestingHistos=[<span class="stringliteral">&#39;station1Occ&#39;</span>,<span class="stringliteral">&#39;station1OccX&#39;</span>,<span class="stringliteral">&#39;deltaRay&#39;</span>,<span class="stringliteral">&#39;deltaRayN&#39;</span>,<span class="stringliteral">&#39;deltaRayNvsE&#39;</span>]</div>
<div class="line"><span class="lineno"> 4992</span>        ut.readHists(hMC,<span class="stringliteral">&quot;deltaRaysMC.root&quot;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 4993</span>        ut.readHists(h,<span class="stringliteral">&quot;deltaRays.root&quot;</span>,interestingHistos)</div>
<div class="line"><span class="lineno"> 4994</span>        ut.bookCanvas(h,<span class="stringliteral">&quot;s1Occ&quot;</span>,<span class="stringliteral">&quot;station 1 occupancy&quot;</span>,1200,900,1,1)</div>
<div class="line"><span class="lineno"> 4995</span>        tc = h[<span class="stringliteral">&quot;s1Occ&quot;</span>].cd(1)</div>
<div class="line"><span class="lineno"> 4996</span>        tc.SetLogy()</div>
<div class="line"><span class="lineno"> 4997</span>        h[<span class="stringliteral">&#39;MCstation1Occ&#39;</span>]=hMC[<span class="stringliteral">&#39;station1Occ&#39;</span>].Clone(<span class="stringliteral">&#39;MCstation1Occ&#39;</span>)</div>
<div class="line"><span class="lineno"> 4998</span>        A = h[<span class="stringliteral">&#39;station1Occ&#39;</span>].GetBinContent(4)+h[<span class="stringliteral">&#39;station1Occ&#39;</span>].GetBinContent(5)</div>
<div class="line"><span class="lineno"> 4999</span>        B = hMC[<span class="stringliteral">&#39;station1Occ&#39;</span>].GetBinContent(4)+hMC[<span class="stringliteral">&#39;station1Occ&#39;</span>].GetBinContent(5)</div>
<div class="line"><span class="lineno"> 5000</span>        h[<span class="stringliteral">&#39;MCstation1Occ&#39;</span>].Scale(A/B)</div>
<div class="line"><span class="lineno"> 5001</span>        h[<span class="stringliteral">&#39;station1Occ&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 5002</span>        h[<span class="stringliteral">&#39;MCstation1Occ&#39;</span>].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 5003</span>        h[<span class="stringliteral">&#39;MCstation1Occ&#39;</span>].Draw(<span class="stringliteral">&quot;same&quot;</span>)</div>
<div class="line"><span class="lineno"> 5004</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 5005</span>    <span class="comment">#MC </span></div>
<div class="line"><span class="lineno"> 5006</span>    ut.bookHist(h,<span class="stringliteral">&#39;station1Occ&#39;</span>,<span class="stringliteral">&#39;station1 Occupancy&#39;</span>,50,0.0,50.)</div>
<div class="line"><span class="lineno"> 5007</span>    ut.bookHist(h,<span class="stringliteral">&#39;station1OccX&#39;</span>,<span class="stringliteral">&#39;station1 Occupancy deltaRay present&#39;</span>,50,0.0,50.)</div>
<div class="line"><span class="lineno"> 5008</span>    ut.bookHist(h,<span class="stringliteral">&#39;deltaRay&#39;</span>,<span class="stringliteral">&#39;E vs z&#39;</span>,100,-1.0,1.0,100,0.0,10.)</div>
<div class="line"><span class="lineno"> 5009</span>    ut.bookHist(h,<span class="stringliteral">&#39;deltaRayN&#39;</span>,<span class="stringliteral">&#39;hits vs z&#39;</span>,100,-1.0,1.0,50,0.0,50.)</div>
<div class="line"><span class="lineno"> 5010</span>    ut.bookHist(h,<span class="stringliteral">&#39;deltaRayNvsE&#39;</span>,<span class="stringliteral">&#39;hits vs E&#39;</span>,100,0.0,10.0,50,0.0,50.)</div>
<div class="line"><span class="lineno"> 5011</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 5012</span>        rc=sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 5013</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> (sTree.RPCTrackX.GetEntries()==1) <span class="keywordflow">or</span> <span class="keywordflow">not</span> (sTree.RPCTrackY.GetEntries()==1) : <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5014</span>        N=0</div>
<div class="line"><span class="lineno"> 5015</span>        spectrHitsSorted = ROOT.nestedList()</div>
<div class="line"><span class="lineno"> 5016</span>        muflux_Reco.sortHits(sTree.Digi_MufluxSpectrometerHits,spectrHitsSorted,<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 5017</span>        <span class="keywordflow">for</span> l <span class="keywordflow">in</span> range(4):  N+= len(spectrHitsSorted[0][1][l])</div>
<div class="line"><span class="lineno"> 5018</span>        rc = h[<span class="stringliteral">&#39;station1Occ&#39;</span>].Fill(N)</div>
<div class="line"><span class="lineno"> 5019</span>        <span class="keywordflow">if</span> MCdata:</div>
<div class="line"><span class="lineno"> 5020</span>            found = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 5021</span>            <span class="keywordflow">for</span> m <span class="keywordflow">in</span> sTree.MCTrack:</div>
<div class="line"><span class="lineno"> 5022</span>                pName = m.GetProcName().Data()</div>
<div class="line"><span class="lineno"> 5023</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> pName.find(<span class="stringliteral">&#39;Delta ray&#39;</span>)&lt;0:</div>
<div class="line"><span class="lineno"> 5024</span>                    <span class="keywordflow">if</span> m.GetStartZ()/100. &lt; 0.05 <span class="keywordflow">and</span> m.GetStartZ()/100. &gt; -0.3: </div>
<div class="line"><span class="lineno"> 5025</span>                        rc = h[<span class="stringliteral">&#39;deltaRayNvsE&#39;</span>].Fill(m.GetP(),N)</div>
<div class="line"><span class="lineno"> 5026</span>                        <span class="keywordflow">if</span> m.GetP()&gt;0.01:  </div>
<div class="line"><span class="lineno"> 5027</span>                            rc = h[<span class="stringliteral">&#39;station1OccX&#39;</span>].Fill(N)</div>
<div class="line"><span class="lineno"> 5028</span>                            found = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 5029</span>                    rc = h[<span class="stringliteral">&#39;deltaRay&#39;</span>].Fill(m.GetStartZ()/100.,m.GetP())</div>
<div class="line"><span class="lineno"> 5030</span>                    rc = h[<span class="stringliteral">&#39;deltaRayN&#39;</span>].Fill(m.GetStartZ()/100.,N)</div>
<div class="line"><span class="lineno"> 5031</span>            <span class="comment"># if not found and N&gt;8: sTree.MCTrack.Dump()</span></div>
<div class="line"><span class="lineno"> 5032</span>    tmp = sTree.GetCurrentFile().GetName()</div>
<div class="line"><span class="lineno"> 5033</span>    k = tmp.find(<span class="stringliteral">&#39;SPILLDATA&#39;</span>)</div>
<div class="line"><span class="lineno"> 5034</span>    <span class="keywordflow">if</span> k&lt;0: outFile = <span class="stringliteral">&#39;deltaRays-&#39;</span>+tmp</div>
<div class="line"><span class="lineno"> 5035</span>    <span class="keywordflow">else</span>: outFile = <span class="stringliteral">&#39;deltaRays-&#39;</span>+tmp[k:]</div>
<div class="line"><span class="lineno"> 5036</span>    ut.writeHists(h,outFile)</div>
<div class="line"><span class="lineno"> 5037</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a45dc39510916e2208b3896124658b23e" name="a45dc39510916e2208b3896124658b23e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45dc39510916e2208b3896124658b23e">&#9670;&#160;</a></span>studyGhosts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.studyGhosts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05058">5058</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5058</span><span class="keyword">def </span>studyGhosts():</div>
<div class="line"><span class="lineno"> 5059</span>    ut.readHists(h,<span class="stringliteral">&#39;ghostStudy.root&#39;</span>)</div>
<div class="line"><span class="lineno"> 5060</span>    ut.bookCanvas(h,<span class="stringliteral">&#39;ghosts&#39;</span>,<span class="stringliteral">&#39;ghosts&#39;</span>,1600,700,1,1)</div>
<div class="line"><span class="lineno"> 5061</span>    h[<span class="stringliteral">&#39;gf_perfect&#39;</span>].SetTitle(<span class="stringliteral">&#39; ;#it{p} [GeV/c];N/5GeV&#39;</span>)</div>
<div class="line"><span class="lineno"> 5062</span>    h[<span class="stringliteral">&#39;gf_perfect&#39;</span>].SetLineColor(ROOT.kGreen)</div>
<div class="line"><span class="lineno"> 5063</span>    h[<span class="stringliteral">&#39;gf_ghosts&#39;</span>].SetTitle(<span class="stringliteral">&#39;ghost &gt; 33;#it{p}[GeV/c];N/5GeV&#39;</span>)</div>
<div class="line"><span class="lineno"> 5064</span>    h[<span class="stringliteral">&#39;ghosts&#39;</span>].cd(1).SetLogy(1)</div>
<div class="line"><span class="lineno"> 5065</span>    h[<span class="stringliteral">&#39;gf_perfect&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 5066</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;gf_perfect&#39;</span>,<span class="stringliteral">&#39;gf_ghosts&#39;</span>,<span class="stringliteral">&#39;P&#39;</span>,<span class="stringliteral">&#39;Ptrue&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5067</span>        h[x].SetLineWidth(2)</div>
<div class="line"><span class="lineno"> 5068</span>        h[x].SetStats(0)</div>
<div class="line"><span class="lineno"> 5069</span>        h[x].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 5070</span>        h[x].Draw(<span class="stringliteral">&#39;hist same&#39;</span>)</div>
<div class="line"><span class="lineno"> 5071</span>        <span class="comment">#h[x].Rebin(5)</span></div>
<div class="line"><span class="lineno"> 5072</span>    myPrint(h[<span class="stringliteral">&#39;ghosts&#39;</span>],<span class="stringliteral">&#39;ghostStudy&#39;</span>)</div>
<div class="line"><span class="lineno"> 5073</span>    h[<span class="stringliteral">&#39;gf_perfect&#39;</span>].GetXaxis().SetRangeUser(250.,500.)</div>
<div class="line"><span class="lineno"> 5074</span>    h[<span class="stringliteral">&#39;ghosts&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 5075</span>    myPrint(h[<span class="stringliteral">&#39;ghosts&#39;</span>],<span class="stringliteral">&#39;ghostStudy_zoom&#39;</span>)</div>
<div class="line"><span class="lineno"> 5076</span><span class="comment"># back ground subtraction</span></div>
<div class="line"><span class="lineno"> 5077</span>    badTracks = h[<span class="stringliteral">&#39;P&#39;</span>].GetBinContent(h[<span class="stringliteral">&#39;P&#39;</span>].GetNbinsX())</div>
<div class="line"><span class="lineno"> 5078</span>    h[<span class="stringliteral">&#39;P_backsubtr&#39;</span>]= h[<span class="stringliteral">&#39;P&#39;</span>].Clone(<span class="stringliteral">&#39;P_backsubtr&#39;</span>)</div>
<div class="line"><span class="lineno"> 5079</span>    h[<span class="stringliteral">&#39;P_backsubtr&#39;</span>].SetLineColor(ROOT.kCyan)</div>
<div class="line"><span class="lineno"> 5080</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,h[<span class="stringliteral">&#39;P&#39;</span>].GetNbinsX()):</div>
<div class="line"><span class="lineno"> 5081</span>        h[<span class="stringliteral">&#39;P_backsubtr&#39;</span>].SetBinContent(n,h[<span class="stringliteral">&#39;P&#39;</span>].GetBinContent(n)-badTracks)</div>
<div class="line"><span class="lineno"> 5082</span>    h[<span class="stringliteral">&#39;P_backsubtr&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 5083</span>    h[<span class="stringliteral">&#39;P&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 5084</span>    h[<span class="stringliteral">&#39;gf_perfect&#39;</span>].Draw(<span class="stringliteral">&#39;same&#39;</span>)</div>
<div class="line"><span class="lineno"> 5085</span>    h[<span class="stringliteral">&#39;ghosts&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 5086</span>    myPrint(h[<span class="stringliteral">&#39;ghosts&#39;</span>],<span class="stringliteral">&#39;ghostStudy_backsubtr&#39;</span>)</div>
<div class="line"><span class="lineno"> 5087</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 5088</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;gfDiff&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5089</span>        h[x+<span class="stringliteral">&#39;_perfect&#39;</span>]      =h[x].ProjectionY(x+<span class="stringliteral">&#39;_perfect&#39;</span>,1,1)</div>
<div class="line"><span class="lineno"> 5090</span>        h[x+<span class="stringliteral">&#39;_ghosts&#39;</span>]       =h[x].ProjectionY(x+<span class="stringliteral">&#39;_ghosts&#39;</span>,33,100)</div>
<div class="line"><span class="lineno"> 5091</span>        h[x+<span class="stringliteral">&#39;_ghosts&#39;</span>].SetLineColor(ROOT.kRed)</div>
<div class="line"><span class="lineno"> 5092</span>        h[x+<span class="stringliteral">&#39;_perfect&#39;</span>].SetLineColor(ROOT.kGreen)</div>
<div class="line"><span class="lineno"> 5093</span>        h[x+<span class="stringliteral">&#39;_perfect&#39;</span>].SetTitle(<span class="stringliteral">&#39;perfect;#it{p} [GeV/c];N/5GeV&#39;</span>)</div>
<div class="line"><span class="lineno"> 5094</span>        h[x+<span class="stringliteral">&#39;_ghosts&#39;</span>].SetTitle(<span class="stringliteral">&#39;ghost &gt; 33;#it{p} [GeV/c];N/5GeV&#39;</span>)</div>
<div class="line"><span class="lineno"> 5095</span>    <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;gfDiff_perfect&#39;</span>,<span class="stringliteral">&#39;gfDiff_ghosts&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5096</span>        h[x].Rebin(5)</div>
<div class="line"><span class="lineno"> 5097</span>        ut.makeIntegralDistrib(h,x)</div>
<div class="line"><span class="lineno"> 5098</span>        h[<span class="stringliteral">&#39;I-&#39;</span>+x].Scale(1./h[<span class="stringliteral">&#39;I-&#39;</span>+x].GetBinContent(1))</div>
<div class="line"><span class="lineno"> 5099</span>        h[<span class="stringliteral">&#39;I-&#39;</span>+x].SetLineWidth(2)</div>
<div class="line"><span class="lineno"> 5100</span>        h[<span class="stringliteral">&#39;I-&#39;</span>+x].SetStats(0)</div>
<div class="line"><span class="lineno"> 5101</span>        <span class="keywordflow">if</span> x.find(<span class="stringliteral">&#39;perfect&#39;</span>)&gt;0: </div>
<div class="line"><span class="lineno"> 5102</span>            h[<span class="stringliteral">&#39;I-&#39;</span>+x].SetMinimum(0.001)</div>
<div class="line"><span class="lineno"> 5103</span>            h[<span class="stringliteral">&#39;I-&#39;</span>+x].Draw()</div>
<div class="line"><span class="lineno"> 5104</span>        h[<span class="stringliteral">&#39;I-&#39;</span>+x].Draw(<span class="stringliteral">&#39;hist same&#39;</span>)</div>
<div class="line"><span class="lineno"> 5105</span>        h[<span class="stringliteral">&#39;I-&#39;</span>+x].Draw(<span class="stringliteral">&#39;hist same&#39;</span>)</div>
<div class="line"><span class="lineno"> 5106</span>    h[<span class="stringliteral">&#39;ghosts&#39;</span>].Update()</div>
<div class="line"><span class="lineno"> 5107</span>    myPrint(h[<span class="stringliteral">&#39;ghosts&#39;</span>],<span class="stringliteral">&#39;ghostStudy_tails&#39;</span>)</div>
<div class="line"><span class="lineno"> 5108</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6bd18bfd360a7f7a560d14349e6ea985" name="a6bd18bfd360a7f7a560d14349e6ea985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bd18bfd360a7f7a560d14349e6ea985">&#9670;&#160;</a></span>studyGhostTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.studyGhostTracks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nStart</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nEnd</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chi2UL</em> = <code>3</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pxLow</em> = <code>5.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05109">5109</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5109</span><span class="keyword">def </span>studyGhostTracks(nStart = 0, nEnd=0, chi2UL=3,pxLow=5.):</div>
<div class="line"><span class="lineno"> 5110</span>    <span class="keywordflow">if</span> nEnd == 0: nEnd = sTree.GetEntries()</div>
<div class="line"><span class="lineno"> 5111</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(nStart,nEnd):</div>
<div class="line"><span class="lineno"> 5112</span>        rc = sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 5113</span>        N = -1</div>
<div class="line"><span class="lineno"> 5114</span>        <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> sTree.FitTracks:</div>
<div class="line"><span class="lineno"> 5115</span>            N+=1</div>
<div class="line"><span class="lineno"> 5116</span>            fitStatus   = aTrack.getFitStatus()</div>
<div class="line"><span class="lineno"> 5117</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> fitStatus.isFitConverged(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5118</span><span class="comment"># track quality</span></div>
<div class="line"><span class="lineno"> 5119</span>            hitsPerStation = countMeasurements(N,1)</div>
<div class="line"><span class="lineno"> 5120</span>            <span class="keywordflow">if</span> len(hitsPerStation[<span class="stringliteral">&#39;x1&#39;</span>])&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5121</span>            <span class="keywordflow">if</span> len(hitsPerStation[<span class="stringliteral">&#39;x2&#39;</span>])&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5122</span>            <span class="keywordflow">if</span> len(hitsPerStation[<span class="stringliteral">&#39;x3&#39;</span>])&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5123</span>            <span class="keywordflow">if</span> len(hitsPerStation[<span class="stringliteral">&#39;x4&#39;</span>])&lt;2: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5124</span>            chi2 = fitStatus.getChi2()/fitStatus.getNdf()</div>
<div class="line"><span class="lineno"> 5125</span>            fittedState = aTrack.getFittedState()</div>
<div class="line"><span class="lineno"> 5126</span>            P = fittedState.getMomMag()</div>
<div class="line"><span class="lineno"> 5127</span>            Px,Py,Pz = fittedState.getMom().x(),fittedState.getMom().y(),fittedState.getMom().z()</div>
<div class="line"><span class="lineno"> 5128</span>            <span class="keywordflow">if</span> chi2 &gt; chi2UL: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5129</span>            <span class="keywordflow">if</span> Px&lt;pxLow: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 5130</span><span class="comment"># check for muon tag</span></div>
<div class="line"><span class="lineno"> 5131</span>            rc,posRPC,momRPC = extrapolateToPlane(aTrack,zRPC1)</div>
<div class="line"><span class="lineno"> 5132</span>            <span class="keywordflow">if</span> rc:</div>
<div class="line"><span class="lineno"> 5133</span>                tagged = {<span class="stringliteral">&#39;X&#39;</span>:<span class="keyword">False</span>,<span class="stringliteral">&#39;Y&#39;</span>:<span class="keyword">False</span>}</div>
<div class="line"><span class="lineno"> 5134</span>                <span class="keywordflow">for</span> proj <span class="keywordflow">in</span> [<span class="stringliteral">&#39;X&#39;</span>,<span class="stringliteral">&#39;Y&#39;</span>]:</div>
<div class="line"><span class="lineno"> 5135</span>                    <span class="keywordflow">if</span> proj==<span class="stringliteral">&#39;X&#39;</span>:</div>
<div class="line"><span class="lineno"> 5136</span>                        <span class="keywordflow">for</span> mu <span class="keywordflow">in</span> sTree.RPCTrackX:</div>
<div class="line"><span class="lineno"> 5137</span>                            <span class="keywordflow">if</span> abs(posRPC[0]-mu.m()*zRPC1+mu.b() ) &lt; cuts[<span class="stringliteral">&#39;muTrackMatch&#39;</span>+proj]: tagged[proj]=<span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 5138</span>                    <span class="keywordflow">if</span> proj==<span class="stringliteral">&#39;Y&#39;</span>:</div>
<div class="line"><span class="lineno"> 5139</span>                        <span class="keywordflow">for</span> mu <span class="keywordflow">in</span> sTree.RPCTrackY:</div>
<div class="line"><span class="lineno"> 5140</span>                            <span class="keywordflow">if</span> abs(posRPC[0]-mu.m()*zRPC1+mu.b() )&lt; cuts[<span class="stringliteral">&#39;muTrackMatch&#39;</span>+proj]: tagged[proj]=<span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 5141</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> tagged[<span class="stringliteral">&#39;X&#39;</span>] <span class="keywordflow">or</span> <span class="keywordflow">not</span> tagged[<span class="stringliteral">&#39;Y&#39;</span>] : <span class="comment"># not within ~3sigma of any mutrack</span></div>
<div class="line"><span class="lineno"> 5142</span>                    <span class="keywordflow">print</span> n</div>
<div class="line"><span class="lineno"> 5143</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b067a5cf2e0ebe335b2287ee15cba28" name="a2b067a5cf2e0ebe335b2287ee15cba28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b067a5cf2e0ebe335b2287ee15cba28">&#9670;&#160;</a></span>studyLateDTHits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.studyLateDTHits </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nevents</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nStart</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01110">1110</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1110</span><span class="keyword">def </span>studyLateDTHits(nevents=1000,nStart=0):</div>
<div class="line"><span class="lineno"> 1111</span>    ut.bookHist(h,<span class="stringliteral">&#39;multLateDTHits&#39;</span>,<span class="stringliteral">&#39;multiplicity of late DT hits&#39;</span>,11,-1.5,9.5)</div>
<div class="line"><span class="lineno"> 1112</span>    ut.bookHist(h,<span class="stringliteral">&#39;ToverTvsTDC&#39;</span>,<span class="stringliteral">&#39;Time over threshold vs tdc&#39;</span>,300,-1000.,2000.,300,-1000.,2000.)</div>
<div class="line"><span class="lineno"> 1113</span>    nHits=0</div>
<div class="line"><span class="lineno"> 1114</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(nStart,nevents):</div>
<div class="line"><span class="lineno"> 1115</span>        rc=sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 1116</span>        keysToDThits=MakeKeysToDThits()</div>
<div class="line"><span class="lineno"> 1117</span>        <span class="keywordflow">for</span> channel <span class="keywordflow">in</span> keysToDThits:</div>
<div class="line"><span class="lineno"> 1118</span>            <span class="keywordflow">if</span> keysToDThits[channel][0]&lt;0: rc=h[<span class="stringliteral">&#39;multLateDTHits&#39;</span>].Fill(-1)</div>
<div class="line"><span class="lineno"> 1119</span>            <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno"> 1120</span>                nHits+=1</div>
<div class="line"><span class="lineno"> 1121</span>                rc=h[<span class="stringliteral">&#39;multLateDTHits&#39;</span>].Fill(len(keysToDThits[channel])-1)</div>
<div class="line"><span class="lineno"> 1122</span>                <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(1,len(keysToDThits[channel])):</div>
<div class="line"><span class="lineno"> 1123</span>                    key = keysToDThits[channel][n]</div>
<div class="line"><span class="lineno"> 1124</span>                    aHit = sTree.Digi_LateMufluxSpectrometerHits[key]</div>
<div class="line"><span class="lineno"> 1125</span>                    rc=h[<span class="stringliteral">&#39;ToverTvsTDC&#39;</span>].Fill( aHit.GetTimeOverThreshold() ,aHit.GetDigi())</div>
<div class="line"><span class="lineno"> 1126</span>    ROOT.gROOT.FindObject(<span class="stringliteral">&#39;c1&#39;</span>).cd()</div>
<div class="line"><span class="lineno"> 1127</span>    h[<span class="stringliteral">&#39;multLateDTHits&#39;</span>].Draw()</div>
<div class="line"><span class="lineno"> 1128</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;nHits&quot;</span>,nHits</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a349cb0ae78f5415fc0eb126c1c1993" name="a2a349cb0ae78f5415fc0eb126c1c1993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a349cb0ae78f5415fc0eb126c1c1993">&#9670;&#160;</a></span>studyScintillator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.studyScintillator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05144">5144</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5144</span><span class="keyword">def </span>studyScintillator():</div>
<div class="line"><span class="lineno"> 5145</span>    ut.bookHist(h,<span class="stringliteral">&#39;sc&#39;</span>,<span class="stringliteral">&#39;sc&#39;</span>,1000,-500.,2000.)</div>
<div class="line"><span class="lineno"> 5146</span>    ut.bookHist(h,<span class="stringliteral">&#39;sc6&#39;</span>,<span class="stringliteral">&#39;sc&#39;</span>,1000,-500.,2000.)</div>
<div class="line"><span class="lineno"> 5147</span>    ut.bookHist(h,<span class="stringliteral">&#39;sc7&#39;</span>,<span class="stringliteral">&#39;sc&#39;</span>,1000,-500.,2000.)</div>
<div class="line"><span class="lineno"> 5148</span>    ut.bookHist(h,<span class="stringliteral">&#39;scmult&#39;</span>,<span class="stringliteral">&#39;sc multiplicity&#39;</span>,10,-0.5,9.5)</div>
<div class="line"><span class="lineno"> 5149</span>    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(sTree.GetEntries()):</div>
<div class="line"><span class="lineno"> 5150</span>        rc=sTree.GetEvent(n)</div>
<div class="line"><span class="lineno"> 5151</span>        rc=h[<span class="stringliteral">&#39;scmult&#39;</span>].Fill(sTree.Digi_ScintillatorHits.GetEntries())</div>
<div class="line"><span class="lineno"> 5152</span>        <span class="keywordflow">for</span> sc <span class="keywordflow">in</span> sTree.Digi_ScintillatorHits:</div>
<div class="line"><span class="lineno"> 5153</span>            rc=h[<span class="stringliteral">&#39;sc&#39;</span>].Fill(sc.GetDigi())</div>
<div class="line"><span class="lineno"> 5154</span>            rc=h[<span class="stringliteral">&#39;sc&#39;</span>+str(sc.GetDetectorID())].Fill(sc.GetDigi())</div>
<div class="line"><span class="lineno"> 5155</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0ce39f1469f62669f49c71270a46217" name="aa0ce39f1469f62669f49c71270a46217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ce39f1469f62669f49c71270a46217">&#9670;&#160;</a></span>surveyVSfairship()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.surveyVSfairship </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00752">752</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  752</span><span class="keyword">def </span>surveyVSfairship():</div>
<div class="line"><span class="lineno">  753</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;z-positions relative to station 1&quot;</span></div>
<div class="line"><span class="lineno">  754</span>    test = ROOT.MufluxSpectrometerHit(10002012,0.)</div>
<div class="line"><span class="lineno">  755</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  756</span>    z1 = (surveyXYZ[<span class="stringliteral">&#39;T1_MA_01&#39;</span>][2]+surveyXYZ[<span class="stringliteral">&#39;T1_MA_04&#39;</span>][2])/2.+3.03</div>
<div class="line"><span class="lineno">  757</span>    z1F = vtop[2]</div>
<div class="line"><span class="lineno">  758</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;                               X       topY    botY     Z&quot;</span></div>
<div class="line"><span class="lineno">  759</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T1_MA_01/04 survey corrected&quot;</span>,(surveyXYZ[<span class="stringliteral">&#39;T1_MA_01&#39;</span>][0]+surveyXYZ[<span class="stringliteral">&#39;T1_MA_04&#39;</span>][0])/2.,surveyXYZ[<span class="stringliteral">&#39;T1_MA_01&#39;</span>][1],surveyXYZ[<span class="stringliteral">&#39;T1_MA_04&#39;</span>][1],z1-z1)</div>
<div class="line"><span class="lineno">  760</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T1_MA_01/04 Daniel          &quot;</span>,(daniel[<span class="stringliteral">&#39;T1_MA_01&#39;</span>][0]+daniel[<span class="stringliteral">&#39;T1_MA_04&#39;</span>][0])/2.,daniel[<span class="stringliteral">&#39;T1_MA_01&#39;</span>][1],daniel[<span class="stringliteral">&#39;T1_MA_04&#39;</span>][1],(daniel[<span class="stringliteral">&#39;T1_MA_01&#39;</span>][2]+daniel[<span class="stringliteral">&#39;T1_MA_04&#39;</span>][2])/2.+3.03-z1)</div>
<div class="line"><span class="lineno">  761</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;tube 10002012               &quot;</span>,vtop[0],vbot[1],vtop[1],vtop[2]-z1F)</div>
<div class="line"><span class="lineno">  762</span><span class="comment"># same station</span></div>
<div class="line"><span class="lineno">  763</span>    vtop2,vbot2 = ROOT.TVector3(),ROOT.TVector3()</div>
<div class="line"><span class="lineno">  764</span>    test2 = ROOT.MufluxSpectrometerHit(10102001,0.)</div>
<div class="line"><span class="lineno">  765</span>    test2.MufluxSpectrometerEndPoints(vbot2,vtop2)</div>
<div class="line"><span class="lineno">  766</span>    delx = (daniel[<span class="stringliteral">&#39;T1_MA_01&#39;</span>][0]+daniel[<span class="stringliteral">&#39;T1_MA_04&#39;</span>][0])/2.-(daniel[<span class="stringliteral">&#39;T1_MA_02&#39;</span>][0]+daniel[<span class="stringliteral">&#39;T1_MA_03&#39;</span>][0])/2.</div>
<div class="line"><span class="lineno">  767</span>    dely = [daniel[<span class="stringliteral">&#39;T1_MA_01&#39;</span>][1]-daniel[<span class="stringliteral">&#39;T1_MA_02&#39;</span>][1],daniel[<span class="stringliteral">&#39;T1_MA_04&#39;</span>][1]-daniel[<span class="stringliteral">&#39;T1_MA_03&#39;</span>][1]]</div>
<div class="line"><span class="lineno">  768</span>    delz = ((daniel[<span class="stringliteral">&#39;T1_MA_01&#39;</span>][2]+daniel[<span class="stringliteral">&#39;T1_MA_04&#39;</span>][2])/2.+3.03) - ((daniel[<span class="stringliteral">&#39;T1_MA_02&#39;</span>][2]+daniel[<span class="stringliteral">&#39;T1_MA_03&#39;</span>][2])/2.+3.03+3.64+4.06)</div>
<div class="line"><span class="lineno">  769</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T1_MA_01/04 - T1_MA_02/03   &quot;</span>,delx,dely[0],dely[1],delz)</div>
<div class="line"><span class="lineno">  770</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;tube 10002012 - 10102001    &quot;</span>,vtop[0]-vtop2[0],vtop[1]-vtop2[1],vbot[1]-vbot2[1],vtop[2]-vtop2[2])</div>
<div class="line"><span class="lineno">  771</span>    test = ROOT.MufluxSpectrometerHit(21112001,0.)</div>
<div class="line"><span class="lineno">  772</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  773</span>    z2 = (surveyXYZ[<span class="stringliteral">&#39;T2_MD_02&#39;</span>][2]+surveyXYZ[<span class="stringliteral">&#39;T2_MD_03&#39;</span>][2])/2.-3.03</div>
<div class="line"><span class="lineno">  774</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T2_MD_02/03 survey corrected&quot;</span>,(surveyXYZ[<span class="stringliteral">&#39;T2_MD_02&#39;</span>][0]+surveyXYZ[<span class="stringliteral">&#39;T2_MD_03&#39;</span>][0])/2.,surveyXYZ[<span class="stringliteral">&#39;T2_MD_02&#39;</span>][1],surveyXYZ[<span class="stringliteral">&#39;T2_MD_03&#39;</span>][1],z2-z1)</div>
<div class="line"><span class="lineno">  775</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T2_MD_02/03 Daniel          &quot;</span>,(daniel[<span class="stringliteral">&#39;T2_MD_02&#39;</span>][0]+daniel[<span class="stringliteral">&#39;T2_MD_03&#39;</span>][0])/2.,daniel[<span class="stringliteral">&#39;T2_MD_02&#39;</span>][1],daniel[<span class="stringliteral">&#39;T2_MD_03&#39;</span>][1],(daniel[<span class="stringliteral">&#39;T2_MD_02&#39;</span>][2]+daniel[<span class="stringliteral">&#39;T2_MD_03&#39;</span>][2])/2.-3.03-z1)</div>
<div class="line"><span class="lineno">  776</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;tube 21112001               &quot;</span>,vtop[0],vbot[1],vtop[1],vtop[2]-z1F)</div>
<div class="line"><span class="lineno">  777</span>    test = ROOT.MufluxSpectrometerHit(11002012,0.)</div>
<div class="line"><span class="lineno">  778</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  779</span>    z1b = (surveyXYZ[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][2]+surveyXYZ[<span class="stringliteral">&#39;T1_MB_04&#39;</span>][2])/2.-3.03-3.64-4.06-3.64</div>
<div class="line"><span class="lineno">  780</span>    z1bF = vtop[2]</div>
<div class="line"><span class="lineno">  781</span>    m = (surveyXYZ[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][1]-surveyXYZ[<span class="stringliteral">&#39;T1_MB_04&#39;</span>][1])/(surveyXYZ[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][0]-surveyXYZ[<span class="stringliteral">&#39;T1_MB_04&#39;</span>][0])</div>
<div class="line"><span class="lineno">  782</span>    b = surveyXYZ[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][1] - m*surveyXYZ[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][0]</div>
<div class="line"><span class="lineno">  783</span>    xposAty0 = -b/m</div>
<div class="line"><span class="lineno">  784</span>    m = (daniel[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][1]-daniel[<span class="stringliteral">&#39;T1_MB_04&#39;</span>][1])/(daniel[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][0]-daniel[<span class="stringliteral">&#39;T1_MB_04&#39;</span>][0])</div>
<div class="line"><span class="lineno">  785</span>    b = daniel[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][1] - m*daniel[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][0]</div>
<div class="line"><span class="lineno">  786</span>    xposAty0D = -b/m </div>
<div class="line"><span class="lineno">  787</span>    m = (vbot[1]-vtop[1])/(vbot[0]-vtop[0])</div>
<div class="line"><span class="lineno">  788</span>    b = vbot[1] - m*vbot[0]</div>
<div class="line"><span class="lineno">  789</span>    xposAty0F = -b/m </div>
<div class="line"><span class="lineno">  790</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;                               X@Y=0       topY    botY     Z&quot;</span></div>
<div class="line"><span class="lineno">  791</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T1_MB_01/04 survey corrected&quot;</span>,xposAty0,surveyXYZ[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][1],surveyXYZ[<span class="stringliteral">&#39;T1_MB_04&#39;</span>][1],z1b-z1)</div>
<div class="line"><span class="lineno">  792</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T1_MB_01/04 Daniel          &quot;</span>,xposAty0D,daniel[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][1],daniel[<span class="stringliteral">&#39;T1_MB_04&#39;</span>][1],(daniel[<span class="stringliteral">&#39;T1_MB_01&#39;</span>][2]+daniel[<span class="stringliteral">&#39;T1_MB_04&#39;</span>][2])/2.-3.03-3.64-4.06-3.64-z1)</div>
<div class="line"><span class="lineno">  793</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;tube 11002012               &quot;</span>,xposAty0F,vbot[1],vtop[1],vtop[2]-z1F)</div>
<div class="line"><span class="lineno">  794</span>    test = ROOT.MufluxSpectrometerHit(20012012,0.)</div>
<div class="line"><span class="lineno">  795</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  796</span>    z2b = (surveyXYZ[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][2]+surveyXYZ[<span class="stringliteral">&#39;T2_MC_04&#39;</span>][2])/2.+3.03+3.64</div>
<div class="line"><span class="lineno">  797</span>    m = (surveyXYZ[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][1]-surveyXYZ[<span class="stringliteral">&#39;T2_MC_04&#39;</span>][1])/(surveyXYZ[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][0]-surveyXYZ[<span class="stringliteral">&#39;T2_MC_04&#39;</span>][0])</div>
<div class="line"><span class="lineno">  798</span>    b = surveyXYZ[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][1] - m*surveyXYZ[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][0]</div>
<div class="line"><span class="lineno">  799</span>    xposAty0 = -b/m</div>
<div class="line"><span class="lineno">  800</span>    m = (daniel[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][1]-daniel[<span class="stringliteral">&#39;T2_MC_04&#39;</span>][1])/(daniel[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][0]-daniel[<span class="stringliteral">&#39;T2_MC_04&#39;</span>][0])</div>
<div class="line"><span class="lineno">  801</span>    b = daniel[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][1] - m*daniel[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][0]</div>
<div class="line"><span class="lineno">  802</span>    xposAty0D = -b/m </div>
<div class="line"><span class="lineno">  803</span>    m = (vbot[1]-vtop[1])/(vbot[0]-vtop[0])</div>
<div class="line"><span class="lineno">  804</span>    b = vbot[1] - m*vbot[0]</div>
<div class="line"><span class="lineno">  805</span>    xposAty0F = -b/m </div>
<div class="line"><span class="lineno">  806</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T2_MC_01/04 survey corrected&quot;</span>,xposAty0,surveyXYZ[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][1],surveyXYZ[<span class="stringliteral">&#39;T2_MC_04&#39;</span>][1],z2b-z1)</div>
<div class="line"><span class="lineno">  807</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T2_MC_01/04 Daniel          &quot;</span>,xposAty0D,daniel[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][1],daniel[<span class="stringliteral">&#39;T2_MC_04&#39;</span>][1],(daniel[<span class="stringliteral">&#39;T2_MC_01&#39;</span>][2]+daniel[<span class="stringliteral">&#39;T2_MC_04&#39;</span>][2])/2.+3.03+3.64-z1)</div>
<div class="line"><span class="lineno">  808</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;tube 20012012               &quot;</span>,xposAty0F,vbot[1],vtop[1],vtop[2]-z1F)</div>
<div class="line"><span class="lineno">  809</span>    test = ROOT.MufluxSpectrometerHit(30012046,0.)</div>
<div class="line"><span class="lineno">  810</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  811</span>    <span class="comment"># For T3 it is placed 7cm in front and for T4 7cm behind the endplate</span></div>
<div class="line"><span class="lineno">  812</span>    z3 = (surveyXYZ[<span class="stringliteral">&#39;T3_T01&#39;</span>][2]+surveyXYZ[<span class="stringliteral">&#39;T3_B01&#39;</span>][2])/2.+4.33+3.64 + 7.0</div>
<div class="line"><span class="lineno">  813</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T3_T01/B01  survey corrected&quot;</span>,(surveyXYZ[<span class="stringliteral">&#39;T3_T01&#39;</span>][0]+surveyXYZ[<span class="stringliteral">&#39;T3_B01&#39;</span>][0])/2.,surveyXYZ[<span class="stringliteral">&#39;T3_T01&#39;</span>][1],surveyXYZ[<span class="stringliteral">&#39;T3_B01&#39;</span>][1],z3-z1)</div>
<div class="line"><span class="lineno">  814</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T3_T01/B01  Daniel          &quot;</span>,(daniel[<span class="stringliteral">&#39;T3_T01&#39;</span>][0]+daniel[<span class="stringliteral">&#39;T3_B01&#39;</span>][0])/2.,daniel[<span class="stringliteral">&#39;T3_T01&#39;</span>][1],daniel[<span class="stringliteral">&#39;T3_B01&#39;</span>][1],(daniel[<span class="stringliteral">&#39;T3_T01&#39;</span>][2]+daniel[<span class="stringliteral">&#39;T3_B01&#39;</span>][2])/2.+4.33+3.64-z1)</div>
<div class="line"><span class="lineno">  815</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;tube 30012046               &quot;</span>,vtop[0],vbot[1],vtop[1],vtop[2]-z1F)</div>
<div class="line"><span class="lineno">  816</span>    test = ROOT.MufluxSpectrometerHit(40102046,0.)</div>
<div class="line"><span class="lineno">  817</span>    test.MufluxSpectrometerEndPoints(vbot,vtop)</div>
<div class="line"><span class="lineno">  818</span>    z4 = (surveyXYZ[<span class="stringliteral">&#39;T4_T01&#39;</span>][2]+surveyXYZ[<span class="stringliteral">&#39;T4_B01&#39;</span>][2])/2.-4.33-3.64 - 7.0</div>
<div class="line"><span class="lineno">  819</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T4_T01/B01  survey corrected&quot;</span>,(surveyXYZ[<span class="stringliteral">&#39;T4_T01&#39;</span>][0]+surveyXYZ[<span class="stringliteral">&#39;T4_B01&#39;</span>][0])/2.,surveyXYZ[<span class="stringliteral">&#39;T4_T01&#39;</span>][1],surveyXYZ[<span class="stringliteral">&#39;T4_B01&#39;</span>][1],z4-z1)</div>
<div class="line"><span class="lineno">  820</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;T4_T01/B01  Daniel          &quot;</span>,(daniel[<span class="stringliteral">&#39;T4_T01&#39;</span>][0]+daniel[<span class="stringliteral">&#39;T4_B01&#39;</span>][0])/2.,daniel[<span class="stringliteral">&#39;T4_T01&#39;</span>][1],daniel[<span class="stringliteral">&#39;T4_B01&#39;</span>][1],(daniel[<span class="stringliteral">&#39;T4_T01&#39;</span>][2]+daniel[<span class="stringliteral">&#39;T4_B01&#39;</span>][2])/2.-4.33-3.64-z1)</div>
<div class="line"><span class="lineno">  821</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s, %7.3F,%7.3F,%7.3F,%7.3F&quot;</span>%(<span class="stringliteral">&quot;tube 40102046               &quot;</span>,vtop[0],vbot[1],vtop[1],vtop[2]-z1F)</div>
<div class="line"><span class="lineno">  822</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d9b1ba210efede244427ffad494fc90" name="a0d9b1ba210efede244427ffad494fc90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d9b1ba210efede244427ffad494fc90">&#9670;&#160;</a></span>synchFigures()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.synchFigures </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l06838">6838</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6838</span><span class="keyword">def </span>synchFigures():</div>
<div class="line"><span class="lineno"> 6839</span>   <span class="keywordflow">for</span> x <span class="keywordflow">in</span> [<span class="stringliteral">&#39;MC-ComparisonChi2mu_*P*.pdf&#39;</span>,<span class="stringliteral">&#39;MC-ComparisonPt_*.pdf&#39;</span>,<span class="stringliteral">&#39;True-RecoP*.pdf&#39;</span>,<span class="stringliteral">&#39;MC-ComparisonChi2Ratios2Dppt.pdf&#39;</span>,<span class="stringliteral">&#39;MC-ComparisonChi2DatapPt.pdf&#39;</span>]:</div>
<div class="line"><span class="lineno"> 6840</span>     os.system(<span class="stringliteral">&#39;cp &#39;</span>+x+<span class="stringliteral">&#39;  /mnt/hgfs/Images/VMgate/muflux/ &#39;</span>)</div>
<div class="line"><span class="lineno"> 6841</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adfd917b431c64b180bf430f023d69312" name="adfd917b431c64b180bf430f023d69312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd917b431c64b180bf430f023d69312">&#9670;&#160;</a></span>testClusters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.testClusters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nEvent</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nTot</em> = <code>1000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02823">2823</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2823</span><span class="keyword">def </span>testClusters(nEvent=-1,nTot=1000):</div>
<div class="line"><span class="lineno"> 2824</span>    eventRange = [0,sTree.GetEntries()]</div>
<div class="line"><span class="lineno"> 2825</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> nEvent&lt;0: eventRange = [nEvent,nEvent+nTot]</div>
<div class="line"><span class="lineno"> 2826</span>    <span class="keywordflow">for</span> Nr <span class="keywordflow">in</span> range(eventRange[0],eventRange[1]):</div>
<div class="line"><span class="lineno"> 2827</span>        sTree.GetEvent(Nr)</div>
<div class="line"><span class="lineno"> 2828</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;===== New Event =====&quot;</span>,Nr</div>
<div class="line"><span class="lineno"> 2829</span>        plotEvent(Nr)</div>
<div class="line"><span class="lineno"> 2830</span>        trackCandidates = findTracks()</div>
<div class="line"><span class="lineno"> 2831</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;tracks found&quot;</span>,len(trackCandidates)</div>
<div class="line"><span class="lineno"> 2832</span>        <span class="keywordflow">for</span> aTrack <span class="keywordflow">in</span> trackCandidates:</div>
<div class="line"><span class="lineno"> 2833</span>            displayTrack(aTrack)</div>
<div class="line"><span class="lineno"> 2834</span>        next = raw_input(<span class="stringliteral">&quot;Next (Ret/Quit): &quot;</span>)</div>
<div class="line"><span class="lineno"> 2835</span>        <span class="keywordflow">if</span> next&lt;&gt;<span class="stringliteral">&#39;&#39;</span>:  <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 2836</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a71603a320feb60b676baced064a7c1" name="a8a71603a320feb60b676baced064a7c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a71603a320feb60b676baced064a7c1">&#9670;&#160;</a></span>testConvOfGausses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.testConvOfGausses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03224">3224</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3224</span><span class="keyword">def </span>testConvOfGausses():</div>
<div class="line"><span class="lineno"> 3225</span>  h[<span class="stringliteral">&#39;biasResX_all&#39;</span>]=h[<span class="stringliteral">&#39;biasResX_1_x1_projx&#39;</span>].Clone(<span class="stringliteral">&#39;biasResX_all&#39;</span>)</div>
<div class="line"><span class="lineno"> 3226</span>  h[<span class="stringliteral">&#39;biasResX_all&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 3227</span>  <span class="keywordflow">for</span> s <span class="keywordflow">in</span> xLayers:</div>
<div class="line"><span class="lineno"> 3228</span>   <span class="keywordflow">for</span> p <span class="keywordflow">in</span> xLayers[s]:</div>
<div class="line"><span class="lineno"> 3229</span>       <span class="keywordflow">for</span> l <span class="keywordflow">in</span> xLayers[s][p]:</div>
<div class="line"><span class="lineno"> 3230</span>          <span class="keywordflow">for</span> view <span class="keywordflow">in</span> xLayers[s][p][l]:</div>
<div class="line"><span class="lineno"> 3231</span>             h[<span class="stringliteral">&#39;biasResX_all&#39;</span>].Add(h[<span class="stringliteral">&#39;biasResX_&#39;</span>+str(s)+view+str(2*p+l)+<span class="stringliteral">&#39;_projx&#39;</span>])</div>
<div class="line"><span class="lineno"> 3232</span>  dr = 0.1</div>
<div class="line"><span class="lineno"> 3233</span>  r = 0</div>
<div class="line"><span class="lineno"> 3234</span>  h[<span class="stringliteral">&#39;test&#39;</span>] = h[<span class="stringliteral">&#39;biasResDist_projy&#39;</span>].Clone(<span class="stringliteral">&#39;test&#39;</span>)</div>
<div class="line"><span class="lineno"> 3235</span>  h[<span class="stringliteral">&#39;test&#39;</span>].Reset()</div>
<div class="line"><span class="lineno"> 3236</span>  h[<span class="stringliteral">&#39;test0&#39;</span>] = h[<span class="stringliteral">&#39;test&#39;</span>].Clone(<span class="stringliteral">&#39;test0&#39;</span>)</div>
<div class="line"><span class="lineno"> 3237</span>  <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range( int(1.8/dr)):</div>
<div class="line"><span class="lineno"> 3238</span>     r+=dr</div>
<div class="line"><span class="lineno"> 3239</span>     offset = h[<span class="stringliteral">&#39;RTcorr&#39;</span>].Eval(r)</div>
<div class="line"><span class="lineno"> 3240</span>     sigma  = 0.04</div>
<div class="line"><span class="lineno"> 3241</span>     <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(10000):</div>
<div class="line"><span class="lineno"> 3242</span>        rr = rnr.Gaus(offset,sigma)</div>
<div class="line"><span class="lineno"> 3243</span>        rc = h[<span class="stringliteral">&#39;test&#39;</span>].Fill(rr)</div>
<div class="line"><span class="lineno"> 3244</span>        rr = rnr.Gaus(0.,sigma)</div>
<div class="line"><span class="lineno"> 3245</span>        rc = h[<span class="stringliteral">&#39;test0&#39;</span>].Fill(rr)</div>
<div class="line"><span class="lineno"> 3246</span> </div>
<div class="line"><span class="lineno"> 3247</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a57c2db763e0cd4aa7406088fb36130c8" name="a57c2db763e0cd4aa7406088fb36130c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57c2db763e0cd4aa7406088fb36130c8">&#9670;&#160;</a></span>testForSameDetID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.testForSameDetID </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nEvent</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nTot</em> = <code>1000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04914">4914</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4914</span><span class="keyword">def </span>testForSameDetID(nEvent=-1,nTot=1000):</div>
<div class="line"><span class="lineno"> 4915</span>    ut.bookHist(h,<span class="stringliteral">&#39;multHits&#39;</span>,<span class="stringliteral">&#39;DT hits multiplicity&#39;</span>,10,-0.5,9.5)</div>
<div class="line"><span class="lineno"> 4916</span>    ut.bookHist(h,<span class="stringliteral">&#39;multHits_deltaT&#39;</span>,<span class="stringliteral">&#39;DT multiple hits delta T&#39;</span>,100,0.,2000.)</div>
<div class="line"><span class="lineno"> 4917</span>    ut.bookHist(h,<span class="stringliteral">&#39;multHits_deltaTz&#39;</span>,<span class="stringliteral">&#39;DT multiple hits delta T&#39;</span>,400,-200.,200.)</div>
<div class="line"><span class="lineno"> 4918</span>    eventRange = [0,sTree.GetEntries()]</div>
<div class="line"><span class="lineno"> 4919</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> nEvent&lt;0: eventRange = [nEvent,nEvent+nTot]</div>
<div class="line"><span class="lineno"> 4920</span>    listOfTDCs = {}</div>
<div class="line"><span class="lineno"> 4921</span>    <span class="keywordflow">for</span> Nr <span class="keywordflow">in</span> range(eventRange[0],eventRange[1]):</div>
<div class="line"><span class="lineno"> 4922</span>        rc = sTree.GetEvent(Nr)</div>
<div class="line"><span class="lineno"> 4923</span>        listOfDigits={}</div>
<div class="line"><span class="lineno"> 4924</span>        <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno"> 4925</span>            detID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 4926</span>            <span class="keywordflow">if</span> detID&lt;0: <span class="keywordflow">continue</span> <span class="comment"># feature for converted data in February&#39;19</span></div>
<div class="line"><span class="lineno"> 4927</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> listOfDigits.has_key(detID): </div>
<div class="line"><span class="lineno"> 4928</span>                listOfDigits[detID]=[0,[]]</div>
<div class="line"><span class="lineno"> 4929</span>                listOfTDCs[detID]={}</div>
<div class="line"><span class="lineno"> 4930</span>            tdcModule = hit.GetTDC()</div>
<div class="line"><span class="lineno"> 4931</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> listOfTDCs[detID].has_key(tdcModule):</div>
<div class="line"><span class="lineno"> 4932</span>                listOfTDCs[detID][tdcModule] = 0</div>
<div class="line"><span class="lineno"> 4933</span>            listOfTDCs[detID][tdcModule] +=1 </div>
<div class="line"><span class="lineno"> 4934</span>            listOfDigits[detID][0]+=1</div>
<div class="line"><span class="lineno"> 4935</span>            listOfDigits[detID][1].append(hit.GetDigi())</div>
<div class="line"><span class="lineno"> 4936</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> listOfDigits:</div>
<div class="line"><span class="lineno"> 4937</span>            rc=h[<span class="stringliteral">&#39;multHits&#39;</span>].Fill(listOfDigits[x][0])</div>
<div class="line"><span class="lineno"> 4938</span>            <span class="keywordflow">if</span> listOfDigits[x][0]&gt;1:</div>
<div class="line"><span class="lineno"> 4939</span>                <span class="keywordflow">print</span> x</div>
<div class="line"><span class="lineno"> 4940</span>                listOfDigits[x][1].sort()</div>
<div class="line"><span class="lineno"> 4941</span>                <span class="keywordflow">for</span> t <span class="keywordflow">in</span> range(1,len(listOfDigits[x][1])):</div>
<div class="line"><span class="lineno"> 4942</span>                    rc=h[<span class="stringliteral">&#39;multHits_deltaT&#39;</span>].Fill(abs(t-listOfDigits[x][1][0]))</div>
<div class="line"><span class="lineno"> 4943</span>                    rc=h[<span class="stringliteral">&#39;multHits_deltaTz&#39;</span>].Fill(abs(t-listOfDigits[x][1][0]))</div>
<div class="line"><span class="lineno"> 4944</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> MCdata:</div>
<div class="line"><span class="lineno"> 4945</span>        <span class="keywordflow">for</span> detID <span class="keywordflow">in</span> listOfTDCs:</div>
<div class="line"><span class="lineno"> 4946</span>            test = ROOT.MufluxSpectrometerHit(detID,0.)</div>
<div class="line"><span class="lineno"> 4947</span>            s,v,p,l,view,channelID,tdcId,nRT = stationInfo(test)</div>
<div class="line"><span class="lineno"> 4948</span>            <span class="keywordflow">if</span> tdcId <span class="keywordflow">not</span> <span class="keywordflow">in</span> listOfTDCs[detID].keys(): </div>
<div class="line"><span class="lineno"> 4949</span>                <span class="keywordflow">print</span> <span class="stringliteral">&quot;not matching TDC id&quot;</span>,detID,tdcId,listOfTDCs[detID]</div>
<div class="line"><span class="lineno"> 4950</span>            <span class="keywordflow">if</span> len(listOfTDCs[detID])&gt;1:</div>
<div class="line"><span class="lineno"> 4951</span>                <span class="keywordflow">print</span> detID,listOfTDCs[detID]</div>
<div class="line"><span class="lineno"> 4952</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9903f4e092de5dc66a4c787962eb1978" name="a9903f4e092de5dc66a4c787962eb1978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9903f4e092de5dc66a4c787962eb1978">&#9670;&#160;</a></span>testPR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.testPR </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>onlyHits</em> = <code>False</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02194">2194</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2194</span><span class="keyword">def </span>testPR(onlyHits=False):</div>
<div class="line"><span class="lineno"> 2195</span>    <span class="keyword">global</span> exclude_layer</div>
<div class="line"><span class="lineno"> 2196</span>    trackCandidates = []</div>
<div class="line"><span class="lineno"> 2197</span>    TaggerHits = []</div>
<div class="line"><span class="lineno"> 2198</span>    withNTaggerHits = 0</div>
<div class="line"><span class="lineno"> 2199</span>    withTDCPR = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2200</span>    DTHits = []</div>
<div class="line"><span class="lineno"> 2201</span>    key = -1</div>
<div class="line"><span class="lineno"> 2202</span>    <span class="keywordflow">for</span> hit <span class="keywordflow">in</span> sTree.Digi_MufluxSpectrometerHits:</div>
<div class="line"><span class="lineno"> 2203</span>        key+=1</div>
<div class="line"><span class="lineno"> 2204</span>        <span class="comment"># if not hit.isValid(): continue</span></div>
<div class="line"><span class="lineno"> 2205</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hit.hasTimeOverThreshold(): <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2206</span>        <span class="keywordflow">if</span> hit.GetDetectorID() <span class="keywordflow">in</span> noisyChannels: <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2207</span>        detID = hit.GetDetectorID()</div>
<div class="line"><span class="lineno"> 2208</span>        s,v,p,l,view,channelID,tdcId,nRT = stationInfo(hit)</div>
<div class="line"><span class="lineno"> 2209</span>        <span class="keywordflow">if</span> exclude_layer != <span class="keywordtype">None</span> <span class="keywordflow">and</span> view != <span class="stringliteral">&#39;_x&#39;</span>:</div>
<div class="line"><span class="lineno"> 2210</span>            <span class="keywordflow">if</span> (2*p+l)==exclude_layer:  <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2211</span>        vbot,vtop = strawPositionsBotTop[detID]</div>
<div class="line"><span class="lineno"> 2212</span>        tdc = hit.GetDigi()</div>
<div class="line"><span class="lineno"> 2213</span>        distance = 0</div>
<div class="line"><span class="lineno"> 2214</span>        <span class="keywordflow">if</span> withTDCPR: distance = RT(hit,tdc)</div>
<div class="line"><span class="lineno"> 2215</span>        DTHits.append( {<span class="stringliteral">&#39;digiHit&#39;</span>:key,<span class="stringliteral">&#39;xtop&#39;</span>:vtop.x(),<span class="stringliteral">&#39;ytop&#39;</span>:vtop.y(),<span class="stringliteral">&#39;z&#39;</span>:vtop.z(),<span class="stringliteral">&#39;xbot&#39;</span>:vbot.x(),<span class="stringliteral">&#39;ybot&#39;</span>:vbot.y(),<span class="stringliteral">&#39;dist&#39;</span>:distance, <span class="stringliteral">&#39;detID&#39;</span>:detID} )</div>
<div class="line"><span class="lineno"> 2216</span>    track_hits = <a class="code hl_function" href="namespaceMufluxPatRec.html#aaf2e6fcc782898855f7b83c19dea9fef">MufluxPatRec.execute</a>(DTHits, TaggerHits, withNTaggerHits, withTDCPR)</div>
<div class="line"><span class="lineno"> 2217</span>    hitlist = {}</div>
<div class="line"><span class="lineno"> 2218</span>    k = 0</div>
<div class="line"><span class="lineno"> 2219</span>    <span class="keywordflow">if</span> Debug: </div>
<div class="line"><span class="lineno"> 2220</span>        <span class="keywordflow">print</span> <span class="stringliteral">&quot;PR returned %i track candidates&quot;</span>%(len(track_hits))</div>
<div class="line"><span class="lineno"> 2221</span>        plotTracklets(track_hits)</div>
<div class="line"><span class="lineno"> 2222</span>    <span class="keywordflow">for</span> nTrack <span class="keywordflow">in</span> track_hits:</div>
<div class="line"><span class="lineno"> 2223</span>        h[<span class="stringliteral">&#39;magPos&#39;</span>].Fill(track_hits[nTrack][<span class="stringliteral">&#39;x_in_magnet&#39;</span>],track_hits[nTrack][<span class="stringliteral">&#39;y_in_magnet&#39;</span>])</div>
<div class="line"><span class="lineno"> 2224</span>        <span class="comment"># node = sGeo.FindNode(track_hits[nTrack][&#39;x_in_magnet&#39;],track_hits[nTrack][&#39;y_in_magnet&#39;],zgoliath)</span></div>
<div class="line"><span class="lineno"> 2225</span>        <span class="comment"># if node.GetName() != &quot;volGoliath_1&quot;: continue</span></div>
<div class="line"><span class="lineno"> 2226</span>        hitlist[k]=[]</div>
<div class="line"><span class="lineno"> 2227</span>        <span class="comment"># if len(track_hits[nTrack][&#39;34&#39;])&lt;5 or len(track_hits[nTrack][&#39;y12&#39;])&lt;5: continue</span></div>
<div class="line"><span class="lineno"> 2228</span>        <span class="keywordflow">for</span> dets <span class="keywordflow">in</span> [<span class="stringliteral">&#39;34&#39;</span>,<span class="stringliteral">&#39;stereo12&#39;</span>,<span class="stringliteral">&#39;y12&#39;</span>]:</div>
<div class="line"><span class="lineno"> 2229</span>            rc = h[<span class="stringliteral">&#39;tracklets&#39;</span>+dets].Fill(len(track_hits[nTrack][dets]))</div>
<div class="line"><span class="lineno"> 2230</span>            <span class="keywordflow">for</span> aHit <span class="keywordflow">in</span>  track_hits[nTrack][dets]:</div>
<div class="line"><span class="lineno"> 2231</span>                hitlist[k].append( aHit[<span class="stringliteral">&#39;digiHit&#39;</span>])</div>
<div class="line"><span class="lineno"> 2232</span>        aTrack = fitTrack(hitlist[k],abs(track_hits[nTrack][<span class="stringliteral">&#39;p&#39;</span>]))</div>
<div class="line"><span class="lineno"> 2233</span>        <span class="keywordflow">if</span> type(aTrack) != type(1):</div>
<div class="line"><span class="lineno"> 2234</span>            trackCandidates.append(aTrack)</div>
<div class="line"><span class="lineno"> 2235</span>            k+=1</div>
<div class="line"><span class="lineno"> 2236</span>    <span class="keywordflow">if</span> onlyHits: <span class="keywordflow">return</span> hitlist</div>
<div class="line"><span class="lineno"> 2237</span>    <span class="keywordflow">return</span> trackCandidates</div>
<div class="line"><span class="lineno"> 2238</span> </div>
<div class="ttc" id="anamespaceMufluxPatRec_html_aaf2e6fcc782898855f7b83c19dea9fef"><div class="ttname"><a href="namespaceMufluxPatRec.html#aaf2e6fcc782898855f7b83c19dea9fef">MufluxPatRec.execute</a></div><div class="ttdeci">execute(SmearedHits, TaggerHits, withNTaggerHits, withDist2Wire, debug=0)</div><div class="ttdef"><b>Definition</b> <a href="MufluxPatRec_8py_source.html#l00015">MufluxPatRec.py:15</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af35bf6b88459830685b67ecc4bbd176e" name="af35bf6b88459830685b67ecc4bbd176e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af35bf6b88459830685b67ecc4bbd176e">&#9670;&#160;</a></span>tuneMCefficiency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.tuneMCefficiency </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tkey</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02670">2670</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2670</span><span class="keyword">def </span>tuneMCefficiency(tkey):</div>
<div class="line"><span class="lineno"> 2671</span>    effFudgeFac = {<span class="stringliteral">&#39;u&#39;</span>: 0.84, <span class="stringliteral">&#39;v&#39;</span>: 0.82, <span class="stringliteral">&#39;x2&#39;</span>: 0.91, <span class="stringliteral">&#39;x3&#39;</span>: 0.89, <span class="stringliteral">&#39;x1&#39;</span>: 0.94, <span class="stringliteral">&#39;x4&#39;</span>: 0.96}</div>
<div class="line"><span class="lineno"> 2672</span>    measurements = countMeasurements(tkey)</div>
<div class="line"><span class="lineno"> 2673</span>    detectors = {<span class="stringliteral">&#39;x1&#39;</span>:0,<span class="stringliteral">&#39;x2&#39;</span>:0,<span class="stringliteral">&#39;x3&#39;</span>:0,<span class="stringliteral">&#39;x4&#39;</span>:0,<span class="stringliteral">&#39;u&#39;</span>:0,<span class="stringliteral">&#39;v&#39;</span>:0}</div>
<div class="line"><span class="lineno"> 2674</span>    <span class="keywordflow">for</span> d <span class="keywordflow">in</span> detectors:</div>
<div class="line"><span class="lineno"> 2675</span>        <span class="keywordflow">for</span> m <span class="keywordflow">in</span> measurements[d]:</div>
<div class="line"><span class="lineno"> 2676</span>            <span class="keywordflow">if</span> rnr.Uniform() &lt; effFudgeFac[d]: detectors[d]+=1</div>
<div class="line"><span class="lineno"> 2677</span>    passed = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2678</span>    <span class="keywordflow">for</span> d <span class="keywordflow">in</span> detectors:</div>
<div class="line"><span class="lineno"> 2679</span>        <span class="keywordflow">if</span> detectors[d]&lt;2:</div>
<div class="line"><span class="lineno"> 2680</span>            passed = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2681</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 2682</span>    <span class="keywordflow">return</span> passed</div>
<div class="line"><span class="lineno"> 2683</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac755917ae3405e737a30f2b8a76f6134" name="ac755917ae3405e737a30f2b8a76f6134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac755917ae3405e737a30f2b8a76f6134">&#9670;&#160;</a></span>yBeam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.yBeam </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01595">1595</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1595</span><span class="keyword">def </span>yBeam():</div>
<div class="line"><span class="lineno"> 1596</span>    Mproton = 0.938272081</div>
<div class="line"><span class="lineno"> 1597</span>    pbeam   = 400.</div>
<div class="line"><span class="lineno"> 1598</span>    Ebeam   = ROOT.TMath.Sqrt(400.**2+Mproton**2)</div>
<div class="line"><span class="lineno"> 1599</span>    beta    = 400./Ebeam <span class="comment"># p/E </span></div>
<div class="line"><span class="lineno"> 1600</span>    sqrtS   = ROOT.TMath.Sqrt(2*Mproton**2+2*Ebeam*Mproton)</div>
<div class="line"><span class="lineno"> 1601</span>    y_beam  = ROOT.TMath.Log(sqrtS/Mproton)   <span class="comment"># Carlos Lourenco, private communication</span></div>
<div class="line"><span class="lineno"> 1602</span>    <span class="keywordflow">return</span> y_beam</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5e37896fee417eb26379057dc702c406" name="a5e37896fee417eb26379057dc702c406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e37896fee417eb26379057dc702c406">&#9670;&#160;</a></span>a</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.a</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00213">213</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a27ba70fb44f04610a28aee25d3458587" name="a27ba70fb44f04610a28aee25d3458587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27ba70fb44f04610a28aee25d3458587">&#9670;&#160;</a></span>alignConstants</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.alignConstants = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00055">55</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a13688743f9d4e68fe906986c22790313" name="a13688743f9d4e68fe906986c22790313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13688743f9d4e68fe906986c22790313">&#9670;&#160;</a></span>alignCorrection</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.alignCorrection = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04503">4503</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="adb79a950ad30519a44ca6a1392be50bc" name="adb79a950ad30519a44ca6a1392be50bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb79a950ad30519a44ca6a1392be50bc">&#9670;&#160;</a></span>alignCorrectionTMP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple conditionsDatabase.demo.drifttubeMonitoring.alignCorrectionTMP = (conditionsDB.get_condition_by_name_and_tag(&quot;muflux/driftTubes&quot;, &quot;alignCorrection&quot;, &quot;muflux/driftTubes_align_2020-03-23&quot;))[&quot;values&quot;]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04513">4513</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab2f042ac8d5c79bab81997961ad3ee23" name="ab2f042ac8d5c79bab81997961ad3ee23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2f042ac8d5c79bab81997961ad3ee23">&#9670;&#160;</a></span>angle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conditionsDatabase.demo.drifttubeMonitoring.angle = -<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ac936ad10b14863cf91ad1c58eecda138">angleu</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00286">286</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ac936ad10b14863cf91ad1c58eecda138" name="ac936ad10b14863cf91ad1c58eecda138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac936ad10b14863cf91ad1c58eecda138">&#9670;&#160;</a></span>angleu</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple conditionsDatabase.demo.drifttubeMonitoring.angleu = (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab7ac1e501fe47f63a8e95f2828e9eb48">angleu1</a>+<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a023dca9a903e5159aba7dc32313b9fe4">angleu2</a>)/2.</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00284">284</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab7ac1e501fe47f63a8e95f2828e9eb48" name="ab7ac1e501fe47f63a8e95f2828e9eb48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7ac1e501fe47f63a8e95f2828e9eb48">&#9670;&#160;</a></span>angleu1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.angleu1 = ROOT.TMath.ATan2((<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_01'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_04'][0]),(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_01'][1]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_04'][1]))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00282">282</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a023dca9a903e5159aba7dc32313b9fe4" name="a023dca9a903e5159aba7dc32313b9fe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023dca9a903e5159aba7dc32313b9fe4">&#9670;&#160;</a></span>angleu2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.angleu2 = ROOT.TMath.ATan2((<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_02'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_03'][0]),(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_02'][1]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MB_03'][1]))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00283">283</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a0d18af5aa1dc2614fa008932bd43ef9c" name="a0d18af5aa1dc2614fa008932bd43ef9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d18af5aa1dc2614fa008932bd43ef9c">&#9670;&#160;</a></span>anglev</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple conditionsDatabase.demo.drifttubeMonitoring.anglev = (<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2a8c3580a7e27ff53fb60aa0ddbc80bd">anglev1</a>+<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aca2e19b9858c33a1c41420948e51dd49">anglev2</a>)/2.</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00380">380</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a2a8c3580a7e27ff53fb60aa0ddbc80bd" name="a2a8c3580a7e27ff53fb60aa0ddbc80bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a8c3580a7e27ff53fb60aa0ddbc80bd">&#9670;&#160;</a></span>anglev1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.anglev1 = ROOT.TMath.ATan2((<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_02'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_03'][0]),(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_02'][1]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_03'][1]))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00378">378</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aca2e19b9858c33a1c41420948e51dd49" name="aca2e19b9858c33a1c41420948e51dd49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca2e19b9858c33a1c41420948e51dd49">&#9670;&#160;</a></span>anglev2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.anglev2 = ROOT.TMath.ATan2((<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_01'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_04'][0]),(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_01'][1]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T2_MC_04'][1]))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00379">379</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ae69bf6a30e7325eb97acc2f3f63631a9" name="ae69bf6a30e7325eb97acc2f3f63631a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae69bf6a30e7325eb97acc2f3f63631a9">&#9670;&#160;</a></span>api_factory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.api_factory = <a class="el" href="classconditionsDatabase_1_1factory_1_1APIFactory.html">APIFactory</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00174">174</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="af42553a1135c3ed90f19e76935ba8210" name="af42553a1135c3ed90f19e76935ba8210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af42553a1135c3ed90f19e76935ba8210">&#9670;&#160;</a></span>bfield</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.bfield = ROOT.genfit.FairShipFields()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01372">1372</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a0569ec9d403d7e0d90656a505d8bb66f" name="a0569ec9d403d7e0d90656a505d8bb66f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0569ec9d403d7e0d90656a505d8bb66f">&#9670;&#160;</a></span>botA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.botA</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02142">2142</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a311eaed3a94185b237f25b4114832819" name="a311eaed3a94185b237f25b4114832819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a311eaed3a94185b237f25b4114832819">&#9670;&#160;</a></span>botB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.botB</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02143">2143</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aeb2acc15ca214a8ce30a830e2929c32c" name="aeb2acc15ca214a8ce30a830e2929c32c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb2acc15ca214a8ce30a830e2929c32c">&#9670;&#160;</a></span>Bx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.Bx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01777">1777</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a3562a47e342a4c9042afc286c41f01cb" name="a3562a47e342a4c9042afc286c41f01cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3562a47e342a4c9042afc286c41f01cb">&#9670;&#160;</a></span>By</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.By</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01777">1777</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ae9bc4a0fc4f401fea2f32a9956c36190" name="ae9bc4a0fc4f401fea2f32a9956c36190"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9bc4a0fc4f401fea2f32a9956c36190">&#9670;&#160;</a></span>Bz</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.Bz</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01777">1777</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a9498c476feca62360bfc545bb39d2328" name="a9498c476feca62360bfc545bb39d2328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9498c476feca62360bfc545bb39d2328">&#9670;&#160;</a></span>channels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.channels = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00987">987</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a72e438a874d05ad222408b23072d5fda" name="a72e438a874d05ad222408b23072d5fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e438a874d05ad222408b23072d5fda">&#9670;&#160;</a></span>clusters</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.clusters = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02144">2144</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a6484505109e9e229d98340c3fe91d8df" name="a6484505109e9e229d98340c3fe91d8df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6484505109e9e229d98340c3fe91d8df">&#9670;&#160;</a></span>conditionsDB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.conditionsDB = api_factory.construct_DB_API()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00175">175</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a75dc20c6e4da9367878f56b702dfbcc0" name="a75dc20c6e4da9367878f56b702dfbcc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75dc20c6e4da9367878f56b702dfbcc0">&#9670;&#160;</a></span>cuts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.cuts = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00033">33</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a705500e79a2277f296896c0f1a1e83e1" name="a705500e79a2277f296896c0f1a1e83e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a705500e79a2277f296896c0f1a1e83e1">&#9670;&#160;</a></span>DAFfitter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conditionsDatabase.demo.drifttubeMonitoring.DAFfitter = True</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00026">26</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a9166c56d0286bf4c83fbfe2cf6733b9a" name="a9166c56d0286bf4c83fbfe2cf6733b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9166c56d0286bf4c83fbfe2cf6733b9a">&#9670;&#160;</a></span>daniel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple conditionsDatabase.demo.drifttubeMonitoring.daniel = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00170">170</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a2ed4cbe9dced0d91692eb8df4dfed696" name="a2ed4cbe9dced0d91692eb8df4dfed696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ed4cbe9dced0d91692eb8df4dfed696">&#9670;&#160;</a></span>database</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str conditionsDatabase.demo.drifttubeMonitoring.database = 'muflux_RTrelations.pkl'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07680">7680</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a5e642078dfb9e6e958a7e4c5ebde6d1e" name="a5e642078dfb9e6e958a7e4c5ebde6d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e642078dfb9e6e958a7e4c5ebde6d1e">&#9670;&#160;</a></span>deadChannels4MC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.deadChannels4MC = ROOT.std.vector('int')()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01020">1020</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a729579336989870294da6b0cc7d59a8e" name="a729579336989870294da6b0cc7d59a8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a729579336989870294da6b0cc7d59a8e">&#9670;&#160;</a></span>deadChannelsRPC4MC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.deadChannelsRPC4MC = ROOT.std.vector('int')()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01022">1022</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a566a82fa4c2d17443cd7b4ea12777caf" name="a566a82fa4c2d17443cd7b4ea12777caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a566a82fa4c2d17443cd7b4ea12777caf">&#9670;&#160;</a></span>debug</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conditionsDatabase.demo.drifttubeMonitoring.debug = False</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00058">58</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a11975a640538efbb52d1e52777b94f76" name="a11975a640538efbb52d1e52777b94f76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11975a640538efbb52d1e52777b94f76">&#9670;&#160;</a></span>Debug</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conditionsDatabase.demo.drifttubeMonitoring.Debug = False</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02139">2139</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a6d4749bb547bfa6c16d7505ad56c9e17" name="a6d4749bb547bfa6c16d7505ad56c9e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d4749bb547bfa6c16d7505ad56c9e17">&#9670;&#160;</a></span>default</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.default</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00074">74</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a26c7882c5477e077b87eb552375aa76a" name="a26c7882c5477e077b87eb552375aa76a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26c7882c5477e077b87eb552375aa76a">&#9670;&#160;</a></span>delta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float conditionsDatabase.demo.drifttubeMonitoring.delta = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>[s+'1'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>[s+'2'][0]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00224">224</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a5cc37d2804c4ec862797eaf441dac280" name="a5cc37d2804c4ec862797eaf441dac280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cc37d2804c4ec862797eaf441dac280">&#9670;&#160;</a></span>deltaZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.deltaZ = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a82799a00480ce1306d41160c70e4bc4b">zpos</a>['T1X']-(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a41c3f721ff189e365921c0e1f9597761">vbot</a>[2]+<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a55852f87a90f7ead855200283efc9e91">vtop</a>[2])/2.</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00252">252</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab166aed8fa034e4034f32e59d03cfe67" name="ab166aed8fa034e4034f32e59d03cfe67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab166aed8fa034e4034f32e59d03cfe67">&#9670;&#160;</a></span>delx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.delx = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5caf934adf3dea1063702364894702fa">surveyXYZ</a>[s+'01'][0]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5caf934adf3dea1063702364894702fa">surveyXYZ</a>[s+'04'][0]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00205">205</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aa59067d5eed04a2a4466c86d9024f68c" name="aa59067d5eed04a2a4466c86d9024f68c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa59067d5eed04a2a4466c86d9024f68c">&#9670;&#160;</a></span>dely</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.dely = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5caf934adf3dea1063702364894702fa">surveyXYZ</a>[s+'01'][1]-<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a5caf934adf3dea1063702364894702fa">surveyXYZ</a>[s+'04'][1]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00206">206</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a4761262924c3ec5c89e319afab5084a9" name="a4761262924c3ec5c89e319afab5084a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4761262924c3ec5c89e319afab5084a9">&#9670;&#160;</a></span>dest</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.dest</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00073">73</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a905e4158bf8bf3fa99a2c17f9c19942b" name="a905e4158bf8bf3fa99a2c17f9c19942b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a905e4158bf8bf3fa99a2c17f9c19942b">&#9670;&#160;</a></span>DT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.DT = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00684">684</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ac1ba8c265e14509f1ff33d5852c8bc70" name="ac1ba8c265e14509f1ff33d5852c8bc70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1ba8c265e14509f1ff33d5852c8bc70">&#9670;&#160;</a></span>dx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.dx = node.GetVolume().GetShape().GetDX()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01049">1049</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a75b9542bd6e928eeca5c80195476f914" name="a75b9542bd6e928eeca5c80195476f914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b9542bd6e928eeca5c80195476f914">&#9670;&#160;</a></span>dy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.dy = node.GetVolume().GetShape().GetDY()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01050">1050</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="acf5bf8afbb6550fe05cb8d086136ca8d" name="acf5bf8afbb6550fe05cb8d086136ca8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf5bf8afbb6550fe05cb8d086136ca8d">&#9670;&#160;</a></span>exclude_layer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.exclude_layer = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02192">2192</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a637894e719175e5eb3e4a4fb4679ed7e" name="a637894e719175e5eb3e4a4fb4679ed7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a637894e719175e5eb3e4a4fb4679ed7e">&#9670;&#160;</a></span>f</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.f = ROOT.TFile.Open(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a74b7d484c149574cf545c7ac39623dcb">fname</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00091">91</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a36c252a291c9a6a2611037a1a18f1f87" name="a36c252a291c9a6a2611037a1a18f1f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36c252a291c9a6a2611037a1a18f1f87">&#9670;&#160;</a></span>fgeo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.fgeo = ROOT.TFile.Open(options.geoFile)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00129">129</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ac5d29f8279f18de70085563d63b63b19" name="ac5d29f8279f18de70085563d63b63b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5d29f8279f18de70085563d63b63b19">&#9670;&#160;</a></span>fitter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.fitter = ROOT.genfit.DAF()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01379">1379</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a735f149bf0b1009cab54a0a4b741f77a" name="a735f149bf0b1009cab54a0a4b741f77a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a735f149bf0b1009cab54a0a4b741f77a">&#9670;&#160;</a></span>fM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.fM = ROOT.genfit.FieldManager.getInstance()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01374">1374</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a74b7d484c149574cf545c7ac39623dcb" name="a74b7d484c149574cf545c7ac39623dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74b7d484c149574cf545c7ac39623dcb">&#9670;&#160;</a></span>fname</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list conditionsDatabase.demo.drifttubeMonitoring.fname = x.replace('\<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a0300c9226cb21058a0167e6076c29b1d">n</a>','')</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00089">89</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a4a22db7ffcf8772d4b219ff3552fb610" name="a4a22db7ffcf8772d4b219ff3552fb610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a22db7ffcf8772d4b219ff3552fb610">&#9670;&#160;</a></span>fnames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.fnames = []</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00085">85</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a9b3432e5caf74e810cfb822c2c3eb949" name="a9b3432e5caf74e810cfb822c2c3eb949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b3432e5caf74e810cfb822c2c3eb949">&#9670;&#160;</a></span>geoMat</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.geoMat = ROOT.genfit.TGeoMaterialInterface()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01370">1370</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a4d51328433cea18605b9a14c1cf1f67b" name="a4d51328433cea18605b9a14c1cf1f67b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d51328433cea18605b9a14c1cf1f67b">&#9670;&#160;</a></span>gErrorIgnoreLevel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.gErrorIgnoreLevel</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00012">12</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a4e06c40cc40da9952198e29407f56879" name="a4e06c40cc40da9952198e29407f56879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e06c40cc40da9952198e29407f56879">&#9670;&#160;</a></span>glob</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.glob = array('d',[0,0,0])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01044">1044</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a090bbecbe87ba52398b4566b69faf8c3" name="a090bbecbe87ba52398b4566b69faf8c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090bbecbe87ba52398b4566b69faf8c3">&#9670;&#160;</a></span>globOrigin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.globOrigin = array('d',[0,0,0])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01038">1038</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a83b9b1af8b073464ba0a84b79a965280" name="a83b9b1af8b073464ba0a84b79a965280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b9b1af8b073464ba0a84b79a965280">&#9670;&#160;</a></span>gMan</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.gMan = ROOT.gGeoManager</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01369">1369</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a5d28233b55089f60d339b47f175d530d" name="a5d28233b55089f60d339b47f175d530d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d28233b55089f60d339b47f175d530d">&#9670;&#160;</a></span>gol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.gol = sGeo.GetTopVolume().GetNode(&quot;volGoliath_1&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01025">1025</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a235bb5e32c7e7d7c71109654a19e16ed" name="a235bb5e32c7e7d7c71109654a19e16ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a235bb5e32c7e7d7c71109654a19e16ed">&#9670;&#160;</a></span>h</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.h = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00056">56</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a6ec0061480773dc9c830480cd2fa6861" name="a6ec0061480773dc9c830480cd2fa6861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ec0061480773dc9c830480cd2fa6861">&#9670;&#160;</a></span>hCharm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hCharm = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05705">5705</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a92d41ac64d253a25ca645f9e4769b923" name="a92d41ac64d253a25ca645f9e4769b923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d41ac64d253a25ca645f9e4769b923">&#9670;&#160;</a></span>hCharm0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hCharm0 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05713">5713</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a90ff7e8af3492bbdb2e4af60e49f3185" name="a90ff7e8af3492bbdb2e4af60e49f3185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90ff7e8af3492bbdb2e4af60e49f3185">&#9670;&#160;</a></span>hCharm2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hCharm2 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05714">5714</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab413de4a82e9d838b33428795037b28a" name="ab413de4a82e9d838b33428795037b28a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab413de4a82e9d838b33428795037b28a">&#9670;&#160;</a></span>hCharmD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hCharmD = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05715">5715</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a0f243e83baa6345221ae11d40966a555" name="a0f243e83baa6345221ae11d40966a555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f243e83baa6345221ae11d40966a555">&#9670;&#160;</a></span>hCharmrec0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hCharmrec0 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05716">5716</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a469eb0123f463d3fceb22faaadff344d" name="a469eb0123f463d3fceb22faaadff344d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a469eb0123f463d3fceb22faaadff344d">&#9670;&#160;</a></span>hCharmrec2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hCharmrec2 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05717">5717</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aa0d1e64db089b1ac12b4bd0b07b2ae1d" name="aa0d1e64db089b1ac12b4bd0b07b2ae1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0d1e64db089b1ac12b4bd0b07b2ae1d">&#9670;&#160;</a></span>help</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.help</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00073">73</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="af6cc9f68581f450c05c982e82a70b220" name="af6cc9f68581f450c05c982e82a70b220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6cc9f68581f450c05c982e82a70b220">&#9670;&#160;</a></span>hMC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMC = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05704">5704</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="afd397b2594b3be379bd33082e855fb1f" name="afd397b2594b3be379bd33082e855fb1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd397b2594b3be379bd33082e855fb1f">&#9670;&#160;</a></span>hMC0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMC0 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05708">5708</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab35c0c9ea91fa6ce2238e2c2529e6c67" name="ab35c0c9ea91fa6ce2238e2c2529e6c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab35c0c9ea91fa6ce2238e2c2529e6c67">&#9670;&#160;</a></span>hMC10GeV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMC10GeV = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05706">5706</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a7c7a5cfd53b30cbd9ed7ad4a3009c0ba" name="a7c7a5cfd53b30cbd9ed7ad4a3009c0ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c7a5cfd53b30cbd9ed7ad4a3009c0ba">&#9670;&#160;</a></span>hMC10GeV0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMC10GeV0 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05718">5718</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a506f0424ed976f02abf359013dfdf6d6" name="a506f0424ed976f02abf359013dfdf6d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a506f0424ed976f02abf359013dfdf6d6">&#9670;&#160;</a></span>hMC10GeV2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMC10GeV2 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05719">5719</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a7b273a395c0bb4ccf85be1903da178be" name="a7b273a395c0bb4ccf85be1903da178be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b273a395c0bb4ccf85be1903da178be">&#9670;&#160;</a></span>hMC10GeVD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMC10GeVD = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05722">5722</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ae35b484e4fa12b14d48113cf89bb7b54" name="ae35b484e4fa12b14d48113cf89bb7b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae35b484e4fa12b14d48113cf89bb7b54">&#9670;&#160;</a></span>hMC10GeVrec0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMC10GeVrec0 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05720">5720</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a819ae191e54d6ff3243851f8f1105585" name="a819ae191e54d6ff3243851f8f1105585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a819ae191e54d6ff3243851f8f1105585">&#9670;&#160;</a></span>hMC10GeVrec2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMC10GeVrec2 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05721">5721</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aa9be9a7a929a55834a4ed6723b239917" name="aa9be9a7a929a55834a4ed6723b239917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9be9a7a929a55834a4ed6723b239917">&#9670;&#160;</a></span>hMC2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMC2 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05709">5709</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a0535176c2b61e449c0db4e673d346c2c" name="a0535176c2b61e449c0db4e673d346c2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0535176c2b61e449c0db4e673d346c2c">&#9670;&#160;</a></span>hMCD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMCD = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05710">5710</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aa1a00346e685b76040a580df3ac0d119" name="aa1a00346e685b76040a580df3ac0d119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a00346e685b76040a580df3ac0d119">&#9670;&#160;</a></span>hMCrec0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMCrec0 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05711">5711</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="adbd5d61ed9015e2eeb8c8e12199e8222" name="adbd5d61ed9015e2eeb8c8e12199e8222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbd5d61ed9015e2eeb8c8e12199e8222">&#9670;&#160;</a></span>hMCrec2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hMCrec2 = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05712">5712</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a3db63cdca8f5bdf5cd6758a49732c5b7" name="a3db63cdca8f5bdf5cd6758a49732c5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3db63cdca8f5bdf5cd6758a49732c5b7">&#9670;&#160;</a></span>hruns</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.hruns = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l06968">6968</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aa745e9ba3ed7794bba358bebbc24cd43" name="aa745e9ba3ed7794bba358bebbc24cd43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa745e9ba3ed7794bba358bebbc24cd43">&#9670;&#160;</a></span>L</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conditionsDatabase.demo.drifttubeMonitoring.L = 110.</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00297">297</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a91f1ab73c153a3bfdea2eb6fddc05c18" name="a91f1ab73c153a3bfdea2eb6fddc05c18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91f1ab73c153a3bfdea2eb6fddc05c18">&#9670;&#160;</a></span>Langle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.Langle = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00203">203</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a97415ab0ae5e93fb3c63f9a204635c06" name="a97415ab0ae5e93fb3c63f9a204635c06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97415ab0ae5e93fb3c63f9a204635c06">&#9670;&#160;</a></span>Lcorrection</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.Lcorrection = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00179">179</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a410db53098d65e9fe2550a4c60c55be3" name="a410db53098d65e9fe2550a4c60c55be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a410db53098d65e9fe2550a4c60c55be3">&#9670;&#160;</a></span>listOfTracks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.listOfTracks = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04640">4640</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a2fdfb80588ce7a3a05e81e7a7f393f91" name="a2fdfb80588ce7a3a05e81e7a7f393f91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fdfb80588ce7a3a05e81e7a7f393f91">&#9670;&#160;</a></span>loc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.loc = array('d',[0,0,0])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01043">1043</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab621e956ba8449383d1cea513d603137" name="ab621e956ba8449383d1cea513d603137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab621e956ba8449383d1cea513d603137">&#9670;&#160;</a></span>local</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.local = array('d',[0,0,0])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01037">1037</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a1c8cf5e21d8737d95d13d1f2681a4970" name="a1c8cf5e21d8737d95d13d1f2681a4970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c8cf5e21d8737d95d13d1f2681a4970">&#9670;&#160;</a></span>log</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.log = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00057">57</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a2494a4736f351931c67e303c2f5376b6" name="a2494a4736f351931c67e303c2f5376b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2494a4736f351931c67e303c2f5376b6">&#9670;&#160;</a></span>maxHitsPerCluster</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.maxHitsPerCluster</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02141">2141</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a32a6f50db891025c690051a1ab83b6bd" name="a32a6f50db891025c690051a1ab83b6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32a6f50db891025c690051a1ab83b6bd">&#9670;&#160;</a></span>MCdata</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conditionsDatabase.demo.drifttubeMonitoring.MCdata = False</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00028">28</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a2d82ab9b14c8c52f88aad063ff017cb6" name="a2d82ab9b14c8c52f88aad063ff017cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d82ab9b14c8c52f88aad063ff017cb6">&#9670;&#160;</a></span>MCsmearing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float conditionsDatabase.demo.drifttubeMonitoring.MCsmearing = 0.022</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>before RT correction: MCsmearing=0.04 # + 0.027**2 -&gt; 0.05 <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00031">31</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="afc34cec7841abb88e0d8133383958b4d" name="afc34cec7841abb88e0d8133383958b4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc34cec7841abb88e0d8133383958b4d">&#9670;&#160;</a></span>method</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.method</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01076">1076</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="af5582f91908b612b6097ba553d4960d4" name="af5582f91908b612b6097ba553d4960d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5582f91908b612b6097ba553d4960d4">&#9670;&#160;</a></span>minHitsPerCluster</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.minHitsPerCluster</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02141">2141</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a873e987a77783c12fc9c5991abba78ba" name="a873e987a77783c12fc9c5991abba78ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873e987a77783c12fc9c5991abba78ba">&#9670;&#160;</a></span>minP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.minP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07758">7758</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a7aedb05c47f1d0f9024ce8edc4bb9497" name="a7aedb05c47f1d0f9024ce8edc4bb9497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aedb05c47f1d0f9024ce8edc4bb9497">&#9670;&#160;</a></span>modules</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.modules = <a class="el" href="namespacecharmDet__conf.html#a21d409da8df880da22b2f93d09061311">charmDet_conf.configure</a>(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab5703139b30484fb1f862568a62a2834">run</a>,<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1dd03083f387ebb91ada737ea545f614">ShipGeo</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00139">139</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ad34e16c3f55b860db57267f6e5f7a560" name="ad34e16c3f55b860db57267f6e5f7a560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad34e16c3f55b860db57267f6e5f7a560">&#9670;&#160;</a></span>muflux_Reco</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.muflux_Reco = ROOT.MufluxReco(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a22f3b88d3bcf940aa1750fadf8b11daa">xSHiP</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01074">1074</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ae8855842f9bce91ebf2419f9d1da48bf" name="ae8855842f9bce91ebf2419f9d1da48bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8855842f9bce91ebf2419f9d1da48bf">&#9670;&#160;</a></span>muSources</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.muSources = {'eta':221,'omega':223,'phi':333,'rho0':113,'eta_prime':331}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00064">64</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a80a92314e6031ad77bc6e49142d6f2fc" name="a80a92314e6031ad77bc6e49142d6f2fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80a92314e6031ad77bc6e49142d6f2fc">&#9670;&#160;</a></span>muSourcesIDs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.muSourcesIDs = muSources.values()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00065">65</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab18b4ab42922c1e7a0bc0cfddfcdef4c" name="ab18b4ab42922c1e7a0bc0cfddfcdef4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab18b4ab42922c1e7a0bc0cfddfcdef4c">&#9670;&#160;</a></span>myDetID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conditionsDatabase.demo.drifttubeMonitoring.myDetID = s * 1000 + <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a2309e9fc8c297156c5977adca2c8a4cb">v</a> * 100 + <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a1c800df226d66062268fa28c3e0c7f7a">p</a> * 10 + l</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01003">1003</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a402cd88a15e478d0f03c6317dfef4319" name="a402cd88a15e478d0f03c6317dfef4319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a402cd88a15e478d0f03c6317dfef4319">&#9670;&#160;</a></span>myGauss</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.myGauss = ROOT.TF1('gauss','abs([0])/(abs([2])*sqrt(2*pi))*exp(-0.5*((x-[1])/[2])**2)+abs([3])',4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02186">2186</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a1b5eca877d04a9fd5c6fabbe30435bb0" name="a1b5eca877d04a9fd5c6fabbe30435bb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b5eca877d04a9fd5c6fabbe30435bb0">&#9670;&#160;</a></span>myGauss2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.myGauss2 = ROOT.TF1('<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#af7a8590514d794467691675f27a4fde0">test</a>','abs([0])/(abs([2])*sqrt(2*pi))*exp(-0.5*((x-[1])/[2])**2)+abs( [3]+[6]*x+[7]*x**2 )+abs([4])/(abs([5])*sqrt(2*pi))*exp(-0.5*((x-[1])/[5])**2)',8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l03300">3300</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a0300c9226cb21058a0167e6076c29b1d" name="a0300c9226cb21058a0167e6076c29b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0300c9226cb21058a0167e6076c29b1d">&#9670;&#160;</a></span>n</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conditionsDatabase.demo.drifttubeMonitoring.n = 10002012</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00253">253</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a58f4b6e15d66500c584136de0c3fc2fd" name="a58f4b6e15d66500c584136de0c3fc2fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f4b6e15d66500c584136de0c3fc2fd">&#9670;&#160;</a></span>nav</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.nav = sGeo.GetCurrentNavigator()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00143">143</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a1a8e13c148a5d8e0cffe661bc96f685a" name="a1a8e13c148a5d8e0cffe661bc96f685a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a8e13c148a5d8e0cffe661bc96f685a">&#9670;&#160;</a></span>Nchannels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.Nchannels = {1:12,2:12,3:48,4:48}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00166">166</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a50f41b0cafa1d4c18cfd054725736ce4" name="a50f41b0cafa1d4c18cfd054725736ce4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50f41b0cafa1d4c18cfd054725736ce4">&#9670;&#160;</a></span>node</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.node = nav.GetCurrentNode()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01048">1048</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a006780f41095e8f94dd9399d78ba8924" name="a006780f41095e8f94dd9399d78ba8924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a006780f41095e8f94dd9399d78ba8924">&#9670;&#160;</a></span>noiseThreshold</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conditionsDatabase.demo.drifttubeMonitoring.noiseThreshold = 10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01018">1018</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a4107d3e1add9a8e433fb4aebd7696b2c" name="a4107d3e1add9a8e433fb4aebd7696b2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4107d3e1add9a8e433fb4aebd7696b2c">&#9670;&#160;</a></span>noisyChannels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list conditionsDatabase.demo.drifttubeMonitoring.noisyChannels = []</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01019">1019</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a47aca6e0eba55397b1e10446d1adb0e6" name="a47aca6e0eba55397b1e10446d1adb0e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47aca6e0eba55397b1e10446d1adb0e6">&#9670;&#160;</a></span>onlyPlotting</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.onlyPlotting</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07764">7764</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a93ec0290ec701bbefc8cde7570a8ddcd" name="a93ec0290ec701bbefc8cde7570a8ddcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ec0290ec701bbefc8cde7570a8ddcd">&#9670;&#160;</a></span>options</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.options = parser.parse_args()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00083">83</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a1c800df226d66062268fa28c3e0c7f7a" name="a1c800df226d66062268fa28c3e0c7f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c800df226d66062268fa28c3e0c7f7a">&#9670;&#160;</a></span>p</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str conditionsDatabase.demo.drifttubeMonitoring.p = 'T1_MB_0'+str(i)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00289">289</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a469bfb29d8ff361fc3490bda96d4689b" name="a469bfb29d8ff361fc3490bda96d4689b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a469bfb29d8ff361fc3490bda96d4689b">&#9670;&#160;</a></span>parallelToZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.parallelToZ = ROOT.TVector3(0., 0., 1.)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01677">1677</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a3644b1d16b2524b6d8878658ad576890" name="a3644b1d16b2524b6d8878658ad576890"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3644b1d16b2524b6d8878658ad576890">&#9670;&#160;</a></span>parser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.parser = ArgumentParser()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00072">72</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a7b3861a38f9ffc3334fd75fa17f075d5" name="a7b3861a38f9ffc3334fd75fa17f075d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b3861a38f9ffc3334fd75fa17f075d5">&#9670;&#160;</a></span>PDG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.PDG = ROOT.TDatabasePDG.Instance()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00008">8</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="abfcc1d81eb487e6b40dc8426c8afd8d2" name="abfcc1d81eb487e6b40dc8426c8afd8d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfcc1d81eb487e6b40dc8426c8afd8d2">&#9670;&#160;</a></span>pl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.pl = {0:'00',1:'01',2:'10',3:'11'}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02145">2145</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ad0f75f7abe06d7b590bd6dfe107adfcb" name="ad0f75f7abe06d7b590bd6dfe107adfcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0f75f7abe06d7b590bd6dfe107adfcb">&#9670;&#160;</a></span>PR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.PR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07716">7716</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aede22303843a29a0e309f77331129bf9" name="aede22303843a29a0e309f77331129bf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede22303843a29a0e309f77331129bf9">&#9670;&#160;</a></span>r</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.r = ROOT.TMath.Sqrt(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ab166aed8fa034e4034f32e59d03cfe67">delx</a>**2+<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa59067d5eed04a2a4466c86d9024f68c">dely</a>**2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00678">678</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a0091556b92e06a413f4dfa3c8bac1e9f" name="a0091556b92e06a413f4dfa3c8bac1e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0091556b92e06a413f4dfa3c8bac1e9f">&#9670;&#160;</a></span>rc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.rc = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a235bb5e32c7e7d7c71109654a19e16ed">h</a>['lengthCalibration'].Fill(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a26c7882c5477e077b87eb552375aa76a">delta</a>-45.2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00226">226</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a4c73e3c55f35ff6a3f7e225e687ddbb0" name="a4c73e3c55f35ff6a3f7e225e687ddbb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c73e3c55f35ff6a3f7e225e687ddbb0">&#9670;&#160;</a></span>required</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.required</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00073">73</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a3337d51ab47cbec42a610c53380fcda8" name="a3337d51ab47cbec42a610c53380fcda8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3337d51ab47cbec42a610c53380fcda8">&#9670;&#160;</a></span>residuals</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list conditionsDatabase.demo.drifttubeMonitoring.residuals = [0.]*24</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00163">163</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a56700d70f009945fdc241896bf1f6221" name="a56700d70f009945fdc241896bf1f6221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56700d70f009945fdc241896bf1f6221">&#9670;&#160;</a></span>rn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.rn = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00236">236</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a0a4807fe8ffcbe7e4d2d9f8d9ba94708" name="a0a4807fe8ffcbe7e4d2d9f8d9ba94708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a4807fe8ffcbe7e4d2d9f8d9ba94708">&#9670;&#160;</a></span>rname</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list conditionsDatabase.demo.drifttubeMonitoring.rname = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#ade2b21e5f95220cb014c69bc230a789b">rnames</a>[0]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00119">119</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ade2b21e5f95220cb014c69bc230a789b" name="ade2b21e5f95220cb014c69bc230a789b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade2b21e5f95220cb014c69bc230a789b">&#9670;&#160;</a></span>rnames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list conditionsDatabase.demo.drifttubeMonitoring.rnames = []</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00116">116</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a3321ff07000e57ead794677c9ea8960f" name="a3321ff07000e57ead794677c9ea8960f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3321ff07000e57ead794677c9ea8960f">&#9670;&#160;</a></span>rnr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.rnr = ROOT.TRandom()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00066">66</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a4759aa4af95897bf1c4e6b7e91a96797" name="a4759aa4af95897bf1c4e6b7e91a96797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4759aa4af95897bf1c4e6b7e91a96797">&#9670;&#160;</a></span>rpc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.rpc = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00683">683</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ac5142618cff6eb2db71467d5126b08ce" name="ac5142618cff6eb2db71467d5126b08ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5142618cff6eb2db71467d5126b08ce">&#9670;&#160;</a></span>RPCPositionsBotTop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.RPCPositionsBotTop = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04531">4531</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a2d19b0cc2dd27555126fb882e6fe6734" name="a2d19b0cc2dd27555126fb882e6fe6734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d19b0cc2dd27555126fb882e6fe6734">&#9670;&#160;</a></span>rtdb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.rtdb = run.GetRuntimeDb()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00138">138</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a4362efdd47c16d19ace7f40dfb01ab0d" name="a4362efdd47c16d19ace7f40dfb01ab0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4362efdd47c16d19ace7f40dfb01ab0d">&#9670;&#160;</a></span>RTrelations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.RTrelations = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05376">5376</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab5703139b30484fb1f862568a62a2834" name="ab5703139b30484fb1f862568a62a2834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5703139b30484fb1f862568a62a2834">&#9670;&#160;</a></span>run</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.run = ROOT.FairRunSim()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00134">134</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a82b6ba729759d46ee8f06c33917792b3" name="a82b6ba729759d46ee8f06c33917792b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82b6ba729759d46ee8f06c33917792b3">&#9670;&#160;</a></span>saveGeofile</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conditionsDatabase.demo.drifttubeMonitoring.saveGeofile = False</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00150">150</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aedc80dee85740259a4c979b6d7432178" name="aedc80dee85740259a4c979b6d7432178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedc80dee85740259a4c979b6d7432178">&#9670;&#160;</a></span>sGeo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.sGeo = ROOT.gGeoManager</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00142">142</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab606fe7ed19bf2ea186be60cb25e8b16" name="ab606fe7ed19bf2ea186be60cb25e8b16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab606fe7ed19bf2ea186be60cb25e8b16">&#9670;&#160;</a></span>shape</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.shape = vol.GetVolume().GetShape()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01036">1036</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a1dd03083f387ebb91ada737ea545f614" name="a1dd03083f387ebb91ada737ea545f614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd03083f387ebb91ada737ea545f614">&#9670;&#160;</a></span>ShipGeo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.ShipGeo = <a class="el" href="classShipGeoConfig_1_1ConfigRegistry.html#a579c538b81f23509dad5293c9c323858">ConfigRegistry.loadpy</a>(&quot;$FAIRSHIP/geometry/charm-geometry_config.py&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00124">124</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a196f59612bcdf4fd8db9bc00a3fe00a8" name="a196f59612bcdf4fd8db9bc00a3fe00a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a196f59612bcdf4fd8db9bc00a3fe00a8">&#9670;&#160;</a></span>sigma_spatial</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float conditionsDatabase.demo.drifttubeMonitoring.sigma_spatial = 0.25</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02010">2010</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a7aa77320505f8a84c8f81b012d27a87d" name="a7aa77320505f8a84c8f81b012d27a87d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aa77320505f8a84c8f81b012d27a87d">&#9670;&#160;</a></span>slopeX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.slopeX</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {3:[0,0,0,0],</div>
<div class="line"><span class="lineno">    2</span>          2:[0,0,0,0]}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04505">4505</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab5ad25bfbf79bce3bd8c99411065059c" name="ab5ad25bfbf79bce3bd8c99411065059c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ad25bfbf79bce3bd8c99411065059c">&#9670;&#160;</a></span>slopeY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.slopeY = {2:[0,0,0,0]}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04507">4507</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="abaf58c8e5683cef7081a12d534f05739" name="abaf58c8e5683cef7081a12d534f05739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf58c8e5683cef7081a12d534f05739">&#9670;&#160;</a></span>start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple conditionsDatabase.demo.drifttubeMonitoring.start = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a9166c56d0286bf4c83fbfe2cf6733b9a">daniel</a>['T1_MA_01'][0]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00254">254</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a237a6f17fed06e48b30a7a36aa8710a8" name="a237a6f17fed06e48b30a7a36aa8710a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a237a6f17fed06e48b30a7a36aa8710a8">&#9670;&#160;</a></span>strawPositionsBotTop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.strawPositionsBotTop = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04523">4523</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a98e7c16960758f46030c0dea49a1415a" name="a98e7c16960758f46030c0dea49a1415a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e7c16960758f46030c0dea49a1415a">&#9670;&#160;</a></span>sTree</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.sTree = f.cbmsim</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00092">92</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a160f64cb0104b6062ebf34f32af4fe2f" name="a160f64cb0104b6062ebf34f32af4fe2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a160f64cb0104b6062ebf34f32af4fe2f">&#9670;&#160;</a></span>survey</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple conditionsDatabase.demo.drifttubeMonitoring.survey = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00169">169</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a5caf934adf3dea1063702364894702fa" name="a5caf934adf3dea1063702364894702fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5caf934adf3dea1063702364894702fa">&#9670;&#160;</a></span>surveyXYZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.surveyXYZ = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00198">198</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aec9ff61c1b8d23035fd59f1f94e727bc" name="aec9ff61c1b8d23035fd59f1f94e727bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec9ff61c1b8d23035fd59f1f94e727bc">&#9670;&#160;</a></span>tdcIds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.tdcIds</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>= {<span class="stringliteral">&#39;1000_x&#39;</span>:[0],<span class="stringliteral">&#39;1001_x&#39;</span>:[0],<span class="stringliteral">&#39;1010_x&#39;</span>:[0],<span class="stringliteral">&#39;1011_x&#39;</span>:[0],</div>
<div class="line"><span class="lineno">    2</span>         <span class="stringliteral">&#39;1100_u&#39;</span>:[0],<span class="stringliteral">&#39;1101_u&#39;</span>:[0],<span class="stringliteral">&#39;1110_u&#39;</span>:[0],<span class="stringliteral">&#39;1111_u&#39;</span>:[0],</div>
<div class="line"><span class="lineno">    3</span>         <span class="stringliteral">&#39;2000_v&#39;</span>:[0],<span class="stringliteral">&#39;2001_v&#39;</span>:[0],<span class="stringliteral">&#39;2010_v&#39;</span>:[1],<span class="stringliteral">&#39;2011_v&#39;</span>:[1],</div>
<div class="line"><span class="lineno">    4</span>         <span class="stringliteral">&#39;2100_x&#39;</span>:[1],<span class="stringliteral">&#39;2101_x&#39;</span>:[1],<span class="stringliteral">&#39;2110_x&#39;</span>:[1],<span class="stringliteral">&#39;2111_x&#39;</span>:[1],</div>
<div class="line"><span class="lineno">    5</span>         <span class="stringliteral">&#39;3000_x&#39;</span>:[3,4],  <span class="stringliteral">&#39;3001_x&#39;</span>:[3,4],  <span class="stringliteral">&#39;3010_x&#39;</span>:[3,4],<span class="stringliteral">&#39;3011_x&#39;</span>:[3,4],</div>
<div class="line"><span class="lineno">    6</span>         <span class="stringliteral">&#39;4000_x&#39;</span>:[3,2,1],<span class="stringliteral">&#39;4001_x&#39;</span>:[3,2,1],<span class="stringliteral">&#39;4010_x&#39;</span>:[2,1],<span class="stringliteral">&#39;4011_x&#39;</span>:[2,1]}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00979">979</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="af7a8590514d794467691675f27a4fde0" name="af7a8590514d794467691675f27a4fde0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a8590514d794467691675f27a4fde0">&#9670;&#160;</a></span>test</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.test = ROOT.MufluxSpectrometerHit(10002012,0.)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00250">250</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ad4784cc035e2ef062771e9a11b0a280f" name="ad4784cc035e2ef062771e9a11b0a280f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4784cc035e2ef062771e9a11b0a280f">&#9670;&#160;</a></span>timer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.timer = ROOT.TStopwatch()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00010">10</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a983c4ccffa135d77a12bed4ff546e7c4" name="a983c4ccffa135d77a12bed4ff546e7c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a983c4ccffa135d77a12bed4ff546e7c4">&#9670;&#160;</a></span>tmp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.tmp = open(options.listOfFiles)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00087">87</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ad2f75d8ae8cd0e24f5478929b5ebf22d" name="ad2f75d8ae8cd0e24f5478929b5ebf22d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f75d8ae8cd0e24f5478929b5ebf22d">&#9670;&#160;</a></span>top</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.top = sGeo.GetTopVolume()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00144">144</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="acb936c236dc0650f601ec93e5c3a0e6f" name="acb936c236dc0650f601ec93e5c3a0e6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb936c236dc0650f601ec93e5c3a0e6f">&#9670;&#160;</a></span>topA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.topA</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02142">2142</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a45ef34c95a92047f84cfc2c9cc5b135d" name="a45ef34c95a92047f84cfc2c9cc5b135d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45ef34c95a92047f84cfc2c9cc5b135d">&#9670;&#160;</a></span>topB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.topB</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l02143">2143</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="af6f1345c58a900b14a291d1e93e03299" name="af6f1345c58a900b14a291d1e93e03299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6f1345c58a900b14a291d1e93e03299">&#9670;&#160;</a></span>tx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conditionsDatabase.demo.drifttubeMonitoring.tx = tx/4.</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00287">287</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="af50c3e3be85d4740278515eda8e6f902" name="af50c3e3be85d4740278515eda8e6f902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af50c3e3be85d4740278515eda8e6f902">&#9670;&#160;</a></span>ty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conditionsDatabase.demo.drifttubeMonitoring.ty = ty/4.</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00287">287</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a2dfd8329ebc82be3a935abaf8403b441" name="a2dfd8329ebc82be3a935abaf8403b441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dfd8329ebc82be3a935abaf8403b441">&#9670;&#160;</a></span>upkl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.upkl = <a class="el" href="classrootpyPickler_1_1Unpickler.html">Unpickler</a>(options.geoFile)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00130">130</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a2309e9fc8c297156c5977adca2c8a4cb" name="a2309e9fc8c297156c5977adca2c8a4cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2309e9fc8c297156c5977adca2c8a4cb">&#9670;&#160;</a></span>v</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.v = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01000">1000</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a41c3f721ff189e365921c0e1f9597761" name="a41c3f721ff189e365921c0e1f9597761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41c3f721ff189e365921c0e1f9597761">&#9670;&#160;</a></span>vbot</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.vbot = ROOT.TVector3()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00053">53</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a6b3d3edc625b1bce4cc17f0c7017a1d7" name="a6b3d3edc625b1bce4cc17f0c7017a1d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b3d3edc625b1bce4cc17f0c7017a1d7">&#9670;&#160;</a></span>vetoLayer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list conditionsDatabase.demo.drifttubeMonitoring.vetoLayer = []</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l07679">7679</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ad35292ba2e47bb1b08636a663657ef3c" name="ad35292ba2e47bb1b08636a663657ef3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35292ba2e47bb1b08636a663657ef3c">&#9670;&#160;</a></span>viewC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.viewC = {0:&quot;_x&quot;,1:&quot;_u&quot;,2:&quot;_v&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00062">62</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a1919eef47bc12b9b94568f2ff63bf49f" name="a1919eef47bc12b9b94568f2ff63bf49f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1919eef47bc12b9b94568f2ff63bf49f">&#9670;&#160;</a></span>viewDict</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.viewDict = {0:'_x',1:'_u',2:'_v'}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00973">973</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="afc018b3a888f4415d45db857c32d6fa9" name="afc018b3a888f4415d45db857c32d6fa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc018b3a888f4415d45db857c32d6fa9">&#9670;&#160;</a></span>views</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.views = {1:['_x','_u'],2:['_x','_v'],3:['_x'],4:['_x']}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00060">60</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="acce13d27c7f5d58800facc89739d2a3d" name="acce13d27c7f5d58800facc89739d2a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce13d27c7f5d58800facc89739d2a3d">&#9670;&#160;</a></span>viewsI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.viewsI = {1:[0,1],2:[0,2],3:[0],4:[0]}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00061">61</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ad65122cb6cca30a33be3d5a5f3d97dd9" name="ad65122cb6cca30a33be3d5a5f3d97dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad65122cb6cca30a33be3d5a5f3d97dd9">&#9670;&#160;</a></span>vol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.vol = nav.GetCurrentNode()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01035">1035</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a55852f87a90f7ead855200283efc9e91" name="a55852f87a90f7ead855200283efc9e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55852f87a90f7ead855200283efc9e91">&#9670;&#160;</a></span>vtop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.vtop = ROOT.TVector3()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00054">54</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a9edf287ee144d9db051af3c32fa1851d" name="a9edf287ee144d9db051af3c32fa1851d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9edf287ee144d9db051af3c32fa1851d">&#9670;&#160;</a></span>withCorrections</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conditionsDatabase.demo.drifttubeMonitoring.withCorrections = True</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l04510">4510</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a75660a12f35101f968a4bf6f555ca858" name="a75660a12f35101f968a4bf6f555ca858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75660a12f35101f968a4bf6f555ca858">&#9670;&#160;</a></span>withDefaultAlignment</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conditionsDatabase.demo.drifttubeMonitoring.withDefaultAlignment = True</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00858">858</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aac36be2f5c0d0c692a444f3d3a186b2b" name="aac36be2f5c0d0c692a444f3d3a186b2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac36be2f5c0d0c692a444f3d3a186b2b">&#9670;&#160;</a></span>withMaterial</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conditionsDatabase.demo.drifttubeMonitoring.withMaterial = True</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00027">27</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="aef9f9b1b7004df7dfd550c45a83226b5" name="aef9f9b1b7004df7dfd550c45a83226b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef9f9b1b7004df7dfd550c45a83226b5">&#9670;&#160;</a></span>withTDC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conditionsDatabase.demo.drifttubeMonitoring.withTDC = True</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00857">857</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ab9b09fb2b4557b41bcadd86524548986" name="ab9b09fb2b4557b41bcadd86524548986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9b09fb2b4557b41bcadd86524548986">&#9670;&#160;</a></span>xLayers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.xLayers = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00986">986</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="afe86f801bc550e1aa6be07460089d71b" name="afe86f801bc550e1aa6be07460089d71b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe86f801bc550e1aa6be07460089d71b">&#9670;&#160;</a></span>xnom</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.xnom = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#abaf58c8e5683cef7081a12d534f05739">start</a> - <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a26c7882c5477e077b87eb552375aa76a">delta</a> * i</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00304">304</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a7d9b80b54b3c4dcb48ad31a90fe10e86" name="a7d9b80b54b3c4dcb48ad31a90fe10e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d9b80b54b3c4dcb48ad31a90fe10e86">&#9670;&#160;</a></span>xpos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.xpos = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00158">158</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a6d4ca3bb155668caea4d7164ff6f7dd9" name="a6d4ca3bb155668caea4d7164ff6f7dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d4ca3bb155668caea4d7164ff6f7dd9">&#9670;&#160;</a></span>xposb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.xposb = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00159">159</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a22f3b88d3bcf940aa1750fadf8b11daa" name="a22f3b88d3bcf940aa1750fadf8b11daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f3b88d3bcf940aa1750fadf8b11daa">&#9670;&#160;</a></span>xSHiP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.xSHiP = ROOT.TTreeReader(<a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a98e7c16960758f46030c0dea49a1415a">sTree</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01073">1073</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a92150c9e46628a603ed1978bb916ab13" name="a92150c9e46628a603ed1978bb916ab13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92150c9e46628a603ed1978bb916ab13">&#9670;&#160;</a></span>ynom</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int conditionsDatabase.demo.drifttubeMonitoring.ynom = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#aa745e9ba3ed7794bba358bebbc24cd43">L</a>/2.</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00305">305</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="afac30616e7f4e33cdceff214093fd110" name="afac30616e7f4e33cdceff214093fd110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afac30616e7f4e33cdceff214093fd110">&#9670;&#160;</a></span>ypos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.ypos = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00160">160</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a6e3387eac5652c4687bf0888b85222a3" name="a6e3387eac5652c4687bf0888b85222a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e3387eac5652c4687bf0888b85222a3">&#9670;&#160;</a></span>yposb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.yposb = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00161">161</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a18a82aaff9fd279a87b4798d8742874c" name="a18a82aaff9fd279a87b4798d8742874c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18a82aaff9fd279a87b4798d8742874c">&#9670;&#160;</a></span>zeroField</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool conditionsDatabase.demo.drifttubeMonitoring.zeroField = False</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00025">25</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="ad72c09954051889658d5907a84f9783c" name="ad72c09954051889658d5907a84f9783c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad72c09954051889658d5907a84f9783c">&#9670;&#160;</a></span>zeroFieldData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list conditionsDatabase.demo.drifttubeMonitoring.zeroFieldData = ['SPILLDATA_8000_0515970150_20180715_220030.root']</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l05377">5377</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a4052a011ed9a6f77527a66590214067e" name="a4052a011ed9a6f77527a66590214067e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4052a011ed9a6f77527a66590214067e">&#9670;&#160;</a></span>zgoliath</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.zgoliath = gol.GetMatrix().GetTranslation()[2]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01026">1026</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="a82799a00480ce1306d41160c70e4bc4b" name="a82799a00480ce1306d41160c70e4bc4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82799a00480ce1306d41160c70e4bc4b">&#9670;&#160;</a></span>zpos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict conditionsDatabase.demo.drifttubeMonitoring.zpos = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l00162">162</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
<a id="af8ee05d960a3ec9902baa039dd291c77" name="af8ee05d960a3ec9902baa039dd291c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8ee05d960a3ec9902baa039dd291c77">&#9670;&#160;</a></span>zRPC1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">conditionsDatabase.demo.drifttubeMonitoring.zRPC1 = <a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html#a4e06c40cc40da9952198e29407f56879">glob</a>[2]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="drifttubeMonitoring_8py_source.html#l01046">1046</a> of file <a class="el" href="drifttubeMonitoring_8py_source.html">drifttubeMonitoring.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceconditionsDatabase.html">conditionsDatabase</a></li><li class="navelem"><a class="el" href="namespaceconditionsDatabase_1_1demo.html">demo</a></li><li class="navelem"><a class="el" href="namespaceconditionsDatabase_1_1demo_1_1drifttubeMonitoring.html">drifttubeMonitoring</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
